[
  {
    "id": 852794,
    "title": "As a BOC admin I want to run the MJ Award Bonus Batch",
    "section_id": 103009,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "111966403",
    "created_by": 103,
    "created_on": 1487174488,
    "updated_by": 103,
    "updated_on": 1487177682,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 15782,
    "display_order": 1,
    "custom_preconds": "GIVEN \"MJC Award Bonus Batch\" is a batch option under the \"Major Contracts\" section on the batch screen",
    "custom_steps": "WHEN user clicks \"MJC Award Bonus Batch\" ",
    "custom_expected": "THEN system should open the batch in the batch screen \r\nAND the batch parameters should display per the batch requirements\r\nAND a \"Run\" button should be available\r\nAND clicking \"Run\" should run the batch according to the selected parameters\r\nAND when the batch is run system should: \r\n    - Get Contracts with Award Bonus Terms, Salary Escalators and Conditional Options that are currently in an Approved, Update Approved, Expired or Approved for Next Year status that contain a contract with an Award Bonus or criteria that is not yet marked official\r\n    - Iterate over contacts containing awards\r\n    - Process Award \r\n    - Check for bonus terms and place finished values\r\n    - Update salaries/earned amounts as necessary\r\n    - Calculate Vesting Options\r\n    - Calculate LRD Present Values\r\n    - Calculate Earn Assignment Bonuses\r\n    - Calculate Bonus Maximums\r\n    - Calculate LRD Salary\r\n    - Calculate Total Guaranteed \r\n    - Set offered and earned bonus amounts\r\n    - Save contract\r\nAND results should only include players who had a contract updated by the batch and should display in the \"Batch Results\" widget\r\nAND available columns should be Player ID, Player's Name, Org, Club, and Roster Status\r\nAND batch run information should display in the batch history widget.",
    "custom_steps_separated": null
  },
  {
    "id": 801238,
    "title": "Enhancement - As a user I want to be able to Save and Run Rule Checks on a MJ Contract",
    "section_id": 103009,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "135376555",
    "created_by": 75,
    "created_on": 1483974376,
    "updated_by": 103,
    "updated_on": 1487260214,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 15782,
    "display_order": 3,
    "custom_preconds": "GIVEN a MJ Contract in a Preliminary state\r\nAND user has permission to EDIT the contract\r\n\r\n",
    "custom_steps": "WHEN user clicks on \"Save and Run Rule Checks\" option on MJ Contracts within the Save split button (screenshot attached)",
    "custom_expected": "THEN\r\n- System will run all On Submit and On Save rules for the MJ contract and then save any changes made to the contract.\r\n- A blocking message will display any errors or warnings found, using the standard styling for errors and warnings. \r\n- The title of the blocking message should be Errors detected and the text \"Please update and try again\" should be removed.\r\n- The button of the blocking message should be \"OK\"\r\n- Clicking OK will take the user back to the MJ Contract in view mode and a successful save notification will be triggered\r\n- If no errors/warnings are found use a blue notification saying \"No errors detected\"",
    "custom_steps_separated": null
  },
  {
    "id": 801274,
    "title": "Clipboard and adv search filter updates",
    "section_id": 103011,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "133524503",
    "created_by": 75,
    "created_on": 1483974377,
    "updated_by": 103,
    "updated_on": 1487260570,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 15782,
    "display_order": 10,
    "custom_preconds": "GIVEN a club or BOC user is logged in and viewing clipboard or adv search screen\r\n",
    "custom_steps": "WHEN user attempts to filter either of the widgets\r\n",
    "custom_expected": "THEN filter header should be removed entirely\r\nAND when the filters are expanded the text \"collapse filters\" should appear at the top with a background color of #f2f3f4 and a down arrow\r\nAND when the filters are collapsed the text should change to \"expand filters\" and the background color should change to #ffffff\r\nAND the class btn-sm shouold be replaced with btn-xs on the apply and reset buttons\r\nAND .adv-search-button-footer should be changed to have a height of 40px\r\nAND the apply and reset buttons in the button container should be vertically centered\r\nAND .widget-advanced-filters-container top-padding should change to 22px\r\nAND .adv-search-filter-collapser-a-collapse left should change to 49.5%",
    "custom_steps_separated": null
  },
  {
    "id": 852796,
    "title": "Update treatment of cash consideration in trades",
    "section_id": 103012,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "129837555",
    "created_by": 103,
    "created_on": 1487174790,
    "updated_by": 103,
    "updated_on": 1487181811,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 15782,
    "display_order": 1,
    "custom_preconds": "GIVEN a Trade exists for a player \r\nAND that trade contains a Cash Consideration ",
    "custom_steps": "WHEN the Trade containing the Cash Consideration occurs on or after 1/1/2017 ",
    "custom_expected": "THEN the Cash Consideration should be allocated on a pro rata basis over the remaining guaranteed years of the player's contract per CBA amendment C (Article XXIII(C)(2)(b)(iii))\r\nBUT all unaffected portions of the original article should remain in place\r\n",
    "custom_steps_separated": null
  },
  {
    "id": 852797,
    "title": "Codify the can't go negative rule (Cash Considerations)",
    "section_id": 103012,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "129838701",
    "created_by": 103,
    "created_on": 1487174790,
    "updated_by": 103,
    "updated_on": 1487191773,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 15782,
    "display_order": 2,
    "custom_preconds": "GIVEN a user is attempting to create a transaction for a player containing a cash consideration (Trade, WCA etc)",
    "custom_steps": "WHEN the transaction is approved",
    "custom_expected": "THEN the total amount of cash included in CBT payroll should be limited by the outstanding payroll obligation assigned in the transaction by the Club sending cash considerations",
    "custom_steps_separated": null
  },
  {
    "id": 852799,
    "title": "As a user I want to be able to choose the report start year for Printing the deferred comp utility",
    "section_id": 103012,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "123272971",
    "created_by": 103,
    "created_on": 1487174790,
    "updated_by": 103,
    "updated_on": 1487193756,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 15782,
    "display_order": 4,
    "custom_preconds": "GIVEN a club or BOC user is logged in with permissions to print the deffered comp utility",
    "custom_steps": "WHEN user clicks \"Print\" on the deferred comp utility ",
    "custom_expected": "THEN system should open a popover that allows the user to specify the Report Start Year\r\nAND the default value should be the current calendar year\r\nAND this should be a dropdown, starting at the current year and going out as far as the utility currently goes (based on the Org selected and the players displayed)\r\nAND clicking print should generate the Deferred Comp report, starting with the year selected in the popover",
    "custom_steps_separated": null
  },
  {
    "id": 852800,
    "title": "As a user I want to be able to print the Deferred Comp Utility",
    "section_id": 103012,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "123273371",
    "created_by": 103,
    "created_on": 1487174790,
    "updated_by": 103,
    "updated_on": 1487257435,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 15782,
    "display_order": 5,
    "custom_preconds": "GIVEN a club or BOC user is logged in with permission to print the Deferred Comp Utility ",
    "custom_steps": "WHEN user clicks Print",
    "custom_expected": "THEN system  should print the deferred comp utility as it is displayed on the screen starting\r\nAND the report and layout should match the specifications",
    "custom_steps_separated": null
  },
  {
    "id": 801194,
    "title": "Update treatment of assignment bonuses",
    "section_id": 103012,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "129838735",
    "created_by": 75,
    "created_on": 1483974376,
    "updated_by": 103,
    "updated_on": 1487281413,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 15782,
    "display_order": 6,
    "custom_preconds": "GIVEN a contract exists for a player containing an assignment bonus\r\nAND and that bonus is earned on or after 01/01/2017",
    "custom_steps": "WHEN that bonus is earned on or after 01/01/2017",
    "custom_expected": "THEN assignment bonus should be included in the Actual Club Payroll of the club that pays the bonus in the contract year in which the bonus is earned \r\nBUT all other aspects of the assignment bonus article should remain unchanged",
    "custom_steps_separated": null
  },
  {
    "id": 801195,
    "title": "Add \"Valley\" calculation to option years within a basic agreement period",
    "section_id": 103012,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "129838719",
    "created_by": 75,
    "created_on": 1483974376,
    "updated_by": 103,
    "updated_on": 1487281629,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 15782,
    "display_order": 7,
    "custom_preconds": "GIVEN an MJC exists for a player\r\nAND the MJC contains a player option year of 2017 or later\r\nAND option year has a value of less than 80% of the lowest Guaranteed year",
    "custom_steps": "WHEN the MJC is approved ",
    "custom_expected": "THEN option year shall be subject to a valley charge",
    "custom_steps_separated": null
  },
  {
    "id": 801196,
    "title": "Eliminate \"Spike\" calculation",
    "section_id": 103012,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "129838725",
    "created_by": 75,
    "created_on": 1483974376,
    "updated_by": 103,
    "updated_on": 1487281889,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 15782,
    "display_order": 8,
    "custom_preconds": "GIVEN an MJC exists with a club option year that falls in 2017 or beyond",
    "custom_steps": "WHEN the MJC is approved\r\n",
    "custom_expected": "THEN the club option should no longer be subject to \"Spike\" rule from Article XXIII(E)(5)(c)",
    "custom_steps_separated": null
  },
  {
    "id": 801197,
    "title": "Clarify \"Valley\" calculations with player opt-outs",
    "section_id": 103012,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "129838721",
    "created_by": 75,
    "created_on": 1483974376,
    "updated_by": 103,
    "updated_on": 1487346532,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 15782,
    "display_order": 9,
    "custom_preconds": "GIVEN an MJC has been created for a player\r\nAND the MJC contains a player option year with an opt-out provision in 2017 or later",
    "custom_steps": "WHEN the MJC is approved ",
    "custom_expected": "THEN the contract should have an additional \"valley\" charge included in the AAV calculation for each year following the opt-out that meets attached criteria (see story)\r\nAND a signing bonus should only be allocated over the guaranteed years of the contract preceding the first Player Option Year\r\nAND all other aspects of this rule should remain in effect as described in the original article",
    "custom_steps_separated": null
  },
  {
    "id": 801198,
    "title": "Update treatment of multiyear contracts signed during the season",
    "section_id": 103012,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "129838703",
    "created_by": 75,
    "created_on": 1483974376,
    "updated_by": 103,
    "updated_on": 1487347971,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 15782,
    "display_order": 10,
    "custom_preconds": "GIVEN a multi-year MJC has been created for a player\r\n",
    "custom_steps": "WHEN the MJC commences in the middle of a championship season\r\n",
    "custom_expected": "THEN AAV calculation of years 2017 and beyond should be amended to include only a prorated portion of the player's Base Salary for the first season covered (no change to the CBT calc, only the AAV calc)\r\nBUT otherwise there should be no change ",
    "custom_steps_separated": null
  },
  {
    "id": 801201,
    "title": "Update Outright consideration",
    "section_id": 103012,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "136373905",
    "created_by": 75,
    "created_on": 1483974376,
    "updated_by": 103,
    "updated_on": 1487349010,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 15782,
    "display_order": 11,
    "custom_preconds": "GIVEN Article XXIII(C)(2)(f) has been eliminated",
    "custom_steps": "WHEN one or more MJ players have been placed on Outright Assignment",
    "custom_expected": "THEN the salary attributable to players who were outrighted from the 40-man roster should be included in Actual Club Payroll \r\nAND any contracts outrighted from the 40-man roster before the effective date of this agreement should be excluded from Actual Club Payroll until and unless the player is selected back to the 40-man roster",
    "custom_steps_separated": null
  }
]