[
  {
    "id": 28858035,
    "title": "Close/Dismiss & Refresh webview",
    "section_id": 1532035,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1657306791,
    "updated_by": 288,
    "updated_on": 1673391125,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 1,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN the user downloaded the Ballpark app (12.0 or greater)\r\nAND user is logged in with MLB account in Ballpark app\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "WHEN accessing an internal webview\n",
        "expected": "[iOS] AND User display with Close CTA with blue color left corner and Refresh icon on right corner \n\n[Android] AND User display with Close CTA at left corner (shown as 'X') and Refresh icon on right corner "
      },
      {
        "content": "WHEN User tap on Refresh CTA",
        "expected": "THEN User should witness webview page refresh"
      },
      {
        "content": "WHEN User tap on Close/'X' CTA",
        "expected": "THEN User should be able to Close/Dismiss the webview \nAND User should be returned where the user initially accessed the webview "
      }
    ]
  },
  {
    "id": 29876522,
    "title": "Use the module name as the title for the webview",
    "section_id": 1532035,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1671745947,
    "updated_by": 282,
    "updated_on": 1727705506,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 2,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "GIVEN the user downloaded the Ballpark app (12.0 or greater)\r\nAND user is logged in with MLB account in Ballpark app\r\nAND user navigates to a team page with a module that opens a Ballpark webview (internal)\r\n\r\n[BP-9786](https://baseball.atlassian.net/browse/BP-9786 ) - iOS bug initially; Android behavior expected \r\n",
    "custom_steps": "WHEN user launches the webview",
    "custom_expected": "THEN the title for the page should use the same text as the module display name from the team page config\r\n\r\n \r\n\r\nExample: Production LA Dodgers page\r\n*Tap on “Dodgers Rewards”\r\n*Title shown: “Dodgers Rewards”\r\n\r\nAndroid/iOS: \"Rewards\"",
    "custom_steps_separated": [
      {
        "content": "[REPEAT FOR DIFFERENT TEAM PAGES]",
        "expected": "THEN the title for the page should use the same text as the module display name from the team page config"
      },
      {
        "content": "",
        "expected": "Android: \n![](index.php?/attachments/get/14376522)\n"
      },
      {
        "content": "",
        "expected": "iOS: \n![](index.php?/attachments/get/14376523)\n"
      }
    ]
  },
  {
    "id": 28858034,
    "title": "[iOS Only] Email links direct to Mail app with email address populated",
    "section_id": 1532035,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1657304592,
    "updated_by": 282,
    "updated_on": 1709731805,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 3,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "GIVEN the user downloaded the Ballpark app (12.0 or greater)*\r\nAND user is logged in with MLB account in Ballpark app",
    "custom_steps": "WHEN User on Team Page \r\nAND user accesses an email hyperlink within an internal webview",
    "custom_expected": "THEN User should be directed to their email client with email populated",
    "custom_steps_separated": [
      {
        "content": "WHEN User views the webview having an email hyperlink \n\n(i.e. D-Backs > Team Shop) ",
        "expected": "THEN user display with email within the page \n\ni.e. TeamShop@Dbacks.com"
      },
      {
        "content": "WHEN User tap on email hyperlink ",
        "expected": "THEN email should launch the respective app when tapped inside a BP webview"
      },
      {
        "content": "",
        "expected": "AND if. not selected/set up the email service then user will display with the prompt to select option for email \n\n(Open with Outlook or gmail) "
      },
      {
        "content": "",
        "expected": "AND email should be auto populated within the email app\n\n(i.e Outlook - To TeamShop@Dbacks.com) should be auto populated \n\n*slashes should NOT be added to the start of the email"
      }
    ]
  },
  {
    "id": 28975064,
    "title": "[Android ONLY] Phone Dialer - with not provided Phone Permission",
    "section_id": 1532035,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "https://baseball.atlassian.net/browse/BPA-6485",
    "created_by": 282,
    "created_on": 1659386534,
    "updated_by": 282,
    "updated_on": 1659465125,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 7,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "ANDROID:\r\nhttps://baseball.atlassian.net/browse/BPA-6485\r\n\r\nGIVEN the user downloaded the Ballpark app (10.1 or greater)\r\nGIVEN a link is on a webview with the format tel:5551234\r\nAND user is logged in with MLB account in Ballpark app\r\n\r\nTeam tab -> Reds -> Chat Now -> Purchase tickets -> Season Tickets (there is phone number listed as (513) 765-7500\r\n\r\n\r\nDbacks -> Team Shop -> 602-462-6701\r\n",
    "custom_steps": "WHEN User tap on that phone number link ",
    "custom_expected": "THEN user should be given a permission prompt for phone access \r\n\r\n![](index.php?/attachments/get/13374701)\r\n\r\n\r\n",
    "custom_steps_separated": [
      {
        "content": "",
        "expected": "AND user display with Prompt for allowing access \n\nPhone 📞 icon \nAllow Ballpark app to make and manage phone calls? \n\nAllow \nDon't allow "
      }
    ]
  },
  {
    "id": 28993239,
    "title": "[Android ONLY] Phone Dialer - Allowed Permission",
    "section_id": 1532035,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 282,
    "created_on": 1659454733,
    "updated_by": 288,
    "updated_on": 1659463798,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 8,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "ANDROID:\r\nhttps://baseball.atlassian.net/browse/BPA-6485\r\n\r\nGIVEN the user downloaded the Ballpark app (10.1 or greater)\r\nGIVEN a link is on a webview with the format tel:5551234\r\nAND user is logged in with MLB account in Ballpark app\r\nAND User have allowed phone permission \r\n\r\nTeam tab -> Reds -> Chat Now -> Purchase tickets -> Season Tickets (there is phone number listed as (513) 765-7500\r\n\r\n",
    "custom_steps": "WHEN user tap on the link \r\nAND user allowed phone permission (This has to be done already or user can select Allow option on prompt) \r\n",
    "custom_expected": "THEN User will be taken to phone's dialer app with the number prefilled \r\n\r\n![](index.php?/attachments/get/13374695)\r\n",
    "custom_steps_separated": [
      {
        "content": "",
        "expected": "AND user can make a phone call from dialer app \n\n(This is part of use case for additional verification) "
      },
      {
        "content": "WHEN user have no SIM card ",
        "expected": "THEN user will be display with There's no SIM in your phone, so you can only make emergency calls. "
      },
      {
        "content": "WHEN user dial the phone number with the SIM ",
        "expected": "THEN user able to successfully dial the phone number "
      }
    ]
  },
  {
    "id": 28993240,
    "title": "[Android ONLY] Phone Dialer - Denied Permission",
    "section_id": 1532035,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 282,
    "created_on": 1659454750,
    "updated_by": 288,
    "updated_on": 1659463805,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 9,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "ANDROID:\r\nhttps://baseball.atlassian.net/browse/BPA-6485\r\n\r\nGIVEN the user downloaded the Ballpark app (10.1 or greater)\r\nGIVEN a link is on a webview with the format tel:5551234\r\nAND user is logged in with MLB account in Ballpark app\r\n\r\nTeam tab -> Reds -> Chat Now -> Purchase tickets -> Season Tickets (there is phone number listed as (513) 765-7500",
    "custom_steps": "WHEN user tap on the phone number link \r\nAND user have previously denied Phone Permission ",
    "custom_expected": "THEN user will be taken to phone system settings for Ballpark permissions \r\n\r\n![](index.php?/attachments/get/13374697)\r\n",
    "custom_steps_separated": [
      {
        "content": "",
        "expected": "AND user can manage their preference from Permissions \n\n(this is part of additional use case) "
      }
    ]
  },
  {
    "id": 29044279,
    "title": "[iOS] Apple Pay",
    "section_id": 1532035,
    "template_id": 1,
    "type_id": 11,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 282,
    "created_on": 1660232159,
    "updated_by": 288,
    "updated_on": 1681512104,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 11,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user Ballpark app downloaded on device \r\n\r\n",
    "custom_steps": "WHEN the user taps on Teams tab\r\n",
    "custom_expected": "THEN the team page is shown, matching the same team shown in Nav Bar\r\nAND a check to the right, indicating it is currently displayed\r\n\r\n",
    "custom_steps_separated": [
      {
        "content": "WHEN User on National Page ",
        "expected": "THEN user display with National Team page "
      },
      {
        "content": "WHEN user Taps on Food Ordering or ORDER Merchandise ",
        "expected": "THEN User should be taken to webview for the FOOD Order or desired merchandise order "
      },
      {
        "content": "WHEN user select Food for Pick up \n(i.e. Sectin 109 - Popfly Popcorn & Dippin Dots -> Spiked Lemonade)",
        "expected": "THEN user display with Ordernext page \n\n... Back button on top left \nOrderNext Header \nRefresh button \nName of item\nPrice \nQuantity with (add + and - Remove) \n\nAvailability of item\nAdd to Cart CTA \nOrder Now  (filler with Red color)\n"
      },
      {
        "content": "",
        "expected": "AND user tap on Order now CTA takes use to checkout page for their order \n"
      },
      {
        "content": "",
        "expected": "AND there should be Buy with Apple Pay (standard apple Pay Logo) display in Payment section\n\n![](index.php?/attachments/get/13375797)\n"
      },
      {
        "content": "",
        "expected": "![](index.php?/attachments/get/13375799)\n"
      }
    ]
  },
  {
    "id": 30372273,
    "title": "Loyalty Card Benefits Link* [requires Loyalty configured to an acct]",
    "section_id": 1532035,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1679939814,
    "updated_by": 288,
    "updated_on": 1679951388,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 12,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "[BP-10134](https://baseball.atlassian.net/browse/BP-10134 )\r\n\r\nGIVEN user Ballpark app downloaded on device\r\nAND user is logged into an acct where membership card is configured*\r\n\r\n\r\n*bparkdev@gmail.com has a loyalty card under the PHI programs - Apr 2023",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "WHEN user taps on Teams tab*\n\n\n*Team page that has a Loyalty membership configured to the acct/team\n",
        "expected": "THEN user is shown loyalty membership program module on Team Page, where the membership card is configured with a link in the benefits on the back of the card "
      },
      {
        "content": "WHEN user navigates within Team page Loyalty module",
        "expected": "THEN user is shown the loyalty membership program page within an internal webview w/ a 'Benefits' link\n\n"
      },
      {
        "content": "WHEN user taps 'Benefits' link within the loyalty membership program page",
        "expected": "THEN user is shown “Complete Details” link"
      },
      {
        "content": "WHEN user taps on the “Complete Details” link",
        "expected": "THEN the complete details link should open in an external webview, first showing a confirmation modal that the user is leaving the app."
      }
    ]
  },
  {
    "id": 30390842,
    "title": "[ANDROID] Google Pay (NOT READY YET)",
    "section_id": 1532035,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 282,
    "created_on": 1680199433,
    "updated_by": 282,
    "updated_on": 1683030701,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 13,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user Ballpark app downloaded on device\r\n\r\nNOTE: This test case to be performed in STG and Services provide STAGING ONLY link for testing \r\nCurrently, The CIN mobile ordering link is live and in staging",
    "custom_steps": "WHEN the user taps on Teams tab\r\n\r\n",
    "custom_expected": "THEN the team page is shown, matching the same team shown in Nav Bar\r\nAND a check to the right, indicating it is currently displayed",
    "custom_steps_separated": [
      {
        "content": "WHEN User on Reds Page\n\n",
        "expected": "THEN user display with National Team page\n\n"
      },
      {
        "content": "WHEN user Taps on Mobile Food Ordering or ORDER Merchandise\n\n",
        "expected": "THEN User should be taken to webview for the FOOD Order or desired merchandise order\n\n"
      },
      {
        "content": "WHEN user select Food for Pick up by Add to Cart\n(i.e. Section 109 - All beef Hot Dog)",
        "expected": "THEN user display with REVIEW ORDER page\n\nX button on top left\nMobile Foor Ordering Header\nRefresh button\n< \nName of item\nPrice\nQuantity with (add + and - Remove)\n\nAvailability of item\nAdd to Cart CTA\nReview Order "
      },
      {
        "content": "",
        "expected": "AND user tap on REVIEW ORDER now CTA takes use to checkout page for their order\nAND user tap on CONTINUE \n(User fill the Name and Mobile Phone number) \n\n"
      },
      {
        "content": "",
        "expected": "AND User display with an option to Buy with Google Pay\n\n![](index.php?/attachments/get/13459613)\n"
      },
      {
        "content": "WHEN user tap on Buy with Google Pay CTA \n",
        "expected": "THEN user is taken to Sign in page (Google account) \n![](index.php?/attachments/get/13459614)\n"
      },
      {
        "content": "",
        "expected": "AND user should be able to complete the checkout with Google Pay for their Mobile Food Order"
      }
    ]
  },
  {
    "id": 33533737,
    "title": "Webview Deeplink - Cold Start (app closed)",
    "section_id": 1532533,
    "template_id": 1,
    "type_id": 9,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1719001583,
    "updated_by": 288,
    "updated_on": 1719001622,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 1,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "GIVEN BP App is NOT open in the background (cold start)\r\nAND user selects a webview Deeplink \r\n\r\nballpark://webview?url=https%3A%2F%2Fpwa.venuetize.com%2FPWA%2FTexrq12raz%2F19%2Finitiate%3Fmodule%3DinSeatOrdering%26provider%3Dappetize%26type%3Dfnb&venueID=5325&dataTier=3\r\n\r\n\r\n\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "WHEN user has no favorite team selected in Ballpark\nAND user accesses deeplink: \"ballpark://webview?url=https%3A%2F%2Fpwa.venuetize.com%2FPWA%2FTexrq12raz%2F19%2Finitiate%3Fmodule%3DinSeatOrdering%26provider%3Dappetize%26type%3Dfnb&venueID=5325&dataTier=3\"",
        "expected": "THEN a webview should appear to the proper webview, after app opened"
      },
      {
        "content": "WHEN user taps back/Close button from the opened webview",
        "expected": "[ANDROID]\nTHEN user is directed back into the teams teamtab specified in the VenueID (if deeplink was accessed externally of BP app)\nOR\nTHEN user is directed back to point of entry (if STEP 1 accessed the deeplink internally - such as a context card on home page)\n\n[IOS]\nTHEN user is returned back to point of entry (or Home page, if accessed externally)"
      },
      {
        "content": "WHEN user has a favorite team selected in Ballpark (other than Redsox)\nAND user accesses deeplink: \"ballpark://webview?url=https%3A%2F%2Fpwa.venuetize.com%2FPWA%2FTexrq12raz%2F19%2Finitiate%3Fmodule%3DinSeatOrdering%26provider%3Dappetize%26type%3Dfnb&venueID=5325&dataTier=3\"",
        "expected": "THEN a webview should appear to the proper webview, after app opened"
      },
      {
        "content": "WHEN user taps back/Close button from the opened webview",
        "expected": "[ANDROID]\nTHEN user is directed back into the teams teamtab specified in the VenueID (if deeplink was accessed externally of BP app)\nOR\nTHEN user is directed back to point of entry (if STEP 1 accessed the deeplink internally - such as a context card on home page)\n\n[IOS]\nTHEN user is returned back to point of entry (or Home page, if accessed externally)\nAND the TeamTab displays the logo and name of the user's fave team"
      }
    ]
  },
  {
    "id": 33533738,
    "title": "Webview Deeplink - Warm Start (app backgrounded)",
    "section_id": 1532533,
    "template_id": 1,
    "type_id": 9,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1719001583,
    "updated_by": 288,
    "updated_on": 1719001622,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 2,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "GIVEN BP App is open in the background, minimized (warm start)\r\nAND user selects a webview Deeplink \r\n\r\nballpark://webview?url=https%3A%2F%2Fpwa.venuetize.com%2FPWA%2FTexrq12raz%2F19%2Finitiate%3Fmodule%3DinSeatOrdering%26provider%3Dappetize%26type%3Dfnb&venueID=5325&dataTier=3\r\n\r\n\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "WHEN user has no favorite team selected in Ballpark\nAND user accesses deeplink: \"ballpark://webview?url=https%3A%2F%2Fpwa.venuetize.com%2FPWA%2FTexrq12raz%2F19%2Finitiate%3Fmodule%3DinSeatOrdering%26provider%3Dappetize%26type%3Dfnb&venueID=5325&dataTier=3\"",
        "expected": "THEN a webview should appear to the proper webview"
      },
      {
        "content": "WHEN user taps back/Close button from the opened webview",
        "expected": "[ANDROID]\nTHEN user is directed back into the teams teamtab specified in the VenueID (if deeplink was accessed externally of BP app)\nOR\nTHEN user is directed back to point of entry (if STEP 1 accessed the deeplink internally - such as a context card on home page)\n\n[IOS]\nTHEN user is returned back to point of entry (or Home page, if accessed externally)"
      },
      {
        "content": "WHEN user has a favorite team selected in Ballpark (other than Redsox)\nAND user accesses deeplink: \"ballpark://webview?url=https%3A%2F%2Fpwa.venuetize.com%2FPWA%2FTexrq12raz%2F19%2Finitiate%3Fmodule%3DinSeatOrdering%26provider%3Dappetize%26type%3Dfnb&venueID=5325&dataTier=3\"",
        "expected": "THEN a webview should appear to the proper webview"
      },
      {
        "content": "WHEN user taps back/Close button from the opened webview",
        "expected": "[ANDROID]\nTHEN user is directed back into the teams teamtab specified in the VenueID (if deeplink was accessed externally of BP app)\nOR\nTHEN user is directed back to point of entry (if STEP 1 accessed the deeplink internally - such as a context card on home page)\n\n[IOS]\nTHEN user is returned back to point of entry (or Home page, if accessed externally)"
      }
    ]
  },
  {
    "id": 28863817,
    "title": "Webview Deeplink - URL (required)",
    "section_id": 1532533,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1657571534,
    "updated_by": 288,
    "updated_on": 1718302495,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 4,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "GIVEN a user selects a webview Deeplink \r\n\r\n\"ballpark://webview?url=https%3A%2F%2Fwww.mlb.com%2Fredsox%2Fballpark%2Ftours\"\r\n\r\n*URL is a required field",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "WHEN user is logged into BP app\nAND BP app is backgrounded\nAND user accesses deeplink: \"ballpark://webview?url=https%3A%2F%2Fwww.mlb.com%2Fredsox%2Fballpark%2Ftours\"",
        "expected": "THEN a webview should appear to the proper webview"
      },
      {
        "content": "WHEN user taps back/Close button from the opened webview",
        "expected": "[ANDROID]\nTHEN user is directed back into the teams teamtab (if deeplink was accessed externally of BP app)\nOR\nTHEN user is directed back to point of entry (if STEP 1 accessed the deeplink internally - such as a context card on home page)\n\n[IOS]\nTHEN user is returned back to point of entry (or Home page, if accessed externally)"
      }
    ]
  },
  {
    "id": 28863818,
    "title": "Webview Deeplink - dataTier (optional)",
    "section_id": 1532533,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1657571534,
    "updated_by": 288,
    "updated_on": 1718302052,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 5,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "As a Ballpark user, I want to be able to open a link that takes me directly to a web app or informational page so I can easily access Ballpark's exclusive content\r\n\r\nGIVEN a user selects a webview Deeplink \r\n\r\n\"ballpark://webview?url=https%3A%2F%2Fwww.mlb.com%2Fredsox%2Fballpark%2Ftours\"\r\n\r\n",
    "custom_steps": "WHEN a user selects a webview with dataTier passed within the deep link\r\n\r\n*dataTier is an optional field",
    "custom_expected": "Wiki: [Data Tiers](https://baseball.atlassian.net/wiki/spaces/mobile/pages/1632206886/Data+Tiers)\r\n\r\nTHEN the user will visually witness same experience  \r\nAND the value passed as dataTier dictates what is shown for the header",
    "custom_steps_separated": [
      {
        "content": "WHEN user is logged into BP app\nAND BP app is backgrounded\nAND user accesses deeplink: \"ballpark://webview?dataTier=0&url=https%3A%2F%2Fwww.mlb.com%2Fredsox%2Fballpark%2Ftours\"",
        "expected": "THEN a webview should appear to the proper webview"
      },
      {
        "content": "WHEN user taps back/Close button from the opened webview",
        "expected": "[iOS] THEN user is returned back to the BP page previously on\n[Android] THEN user is presented to the Team Tab previously set (OR user is presented the Team Picker, if no team prev established)"
      },
      {
        "content": "REPEAT ABOVE STEPS(1,2) replacing 'dataTier=0' with \n*'dataTier=1'\n*'dataTier=2'\n*'dataTier=3'",
        "expected": "THEN same validation expected, as user will not witness a difference"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "GIVEN dataTier deeplinks are preconfigured on team page, with different module types (i.e small image icon, carousel images, large button images, list links, etc.)\n\n(QA env - Rockies Team page should have helpful links already setup - 2021)",
        "expected": ""
      },
      {
        "content": "WHEN user taps on each dataTier element across the different modules\n(in QA env - Rockies Team Tab page, scroll down to see data tiers 0-3)",
        "expected": "THEN a page is shown with what is passed into the Request Headers"
      },
      {
        "content": "for all data tiers:",
        "expected": "AND x-mlbam-vid should always show the value of the venueID (Rockies = 19), regardless of dataTier value \n\n*x-mlbam-vid => Unique venue identifier. Indicates the club and location for which a WebView is launched."
      },
      {
        "content": "",
        "expected": "AND x-mlbam-cis should always show the value of the checked-in state (Y/N), regardless of dataTier value \n\n*x-mlbam-cis => Indicates whether the user is checked into the game.\n\nNOTE: this value is not supported for Auto or TicketScan check-in (as of 10.5.0)"
      },
      {
        "content": "WHEN user taps on each dataTier element across the different modules for dataTier 0 through 2",
        "expected": "AND x-mlbam-okta should always show the value of the OKTA string for the user, when dataTier value is 0, 1 or 2\nAND 'Authorization: Bearer' should NOT be a visible request header, when dataTier value is 0, 1 or 2\n\n*x-mlbam-okta => Unique user identifier, persistent across devices and sessions."
      },
      {
        "content": "WHEN user taps on each dataTier element across the different modules for dataTier 3",
        "expected": "AND x-mlbam-okta should NOT show the value of the OKTA string for the user (should NOT be visible), when dataTier value is 3\nAND 'Authorization: Bearer' should show a value of encoded value string for the user when dataTier value is 3\n\n*Authorization: Bearer => The Base64 encoded JWT, has OktaID and email among other things"
      }
    ]
  },
  {
    "id": 28863819,
    "title": "Webview Deeplink - venueID (optional) [ANDROID ONLY]",
    "section_id": 1532533,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1657571534,
    "updated_by": 288,
    "updated_on": 1718302650,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 6,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "As a Ballpark user, I want to be able to open a link that takes me directly to a web app or informational page so I can easily access Ballpark's exclusive content\r\n\r\nGIVEN a user selects a webview Deeplink \r\n\r\n\"ballpark://webview?url=https%3A%2F%2Fwww.mlb.com%2Fredsox%2Fballpark%2Ftours\"\r\n\r\n",
    "custom_steps": "WHEN a user selects a webview with venue passed within the deep link\r\n\r\n*venueID is an optional field",
    "custom_expected": "THEN the user will witness the team selected on team tab of the corresponding venueID\r\n\r\n[Team IDs & Venue IDs](https://baseball.atlassian.net/wiki/spaces/ticketing/pages/3947618/IDs+Team+IDs+Venue+IDs)\r\n*for highest confidence - each venueID (Reg) listed in the table should be verified ",
    "custom_steps_separated": [
      {
        "content": "WHEN user is logged into BP app\nAND BP app is backgrounded\nAND user accesses deeplink: \"ballpark://webview?venueID=19&url=https%3A%2F%2Fwww.mlb.com%2Fredsox%2Fballpark%2Ftours\"",
        "expected": "THEN a webview should appear to the proper webview\nAND the team shown on the navBar should match the corresponding venueID passed (venueID=19 is Rockies)"
      },
      {
        "content": "WHEN user taps back/Close button from the opened webview",
        "expected": "THEN user is presented to the Team Tab matching the corresponding venueID passed "
      }
    ]
  },
  {
    "id": 30605897,
    "title": "Webview Deeplink - external (optional)",
    "section_id": 1532533,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1684785783,
    "updated_by": 288,
    "updated_on": 1719000752,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 7,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "[BP-10190](https://baseball.atlassian.net/browse/BP-10190 ) / [BPA-6887](https://baseball.atlassian.net/browse/BPA-6887 )\r\n\r\nAs a Ballpark user, I want to be able to open a link that takes me directly to an external page so I can easily access Ballpark's exclusive content\r\n\r\nGIVEN a user selects a webview Deeplink \r\n\r\n\"ballpark://webview?url=https%3A%2F%2Fwww.mlb.com%2Fredsox%2Fballpark%2Ftours&external=true\"\r\n\r\n\r\nANDROID: ballpark://webview?url=https://www.mlb.com/app/ballpark/redsox/ballpark/tours&external=true [TODO:CONFIRM]",
    "custom_steps": "WHEN a user selects a webview with venue passed within the deep link\r\n\r\n*external is an optional field",
    "custom_expected": "THEN the user will be prompted to open the deeplink external to BP app\r\nAND if user accepts, the URL provided in the deeplink will open within an external browswer\r\n",
    "custom_steps_separated": [
      {
        "content": "WHEN user accesses deeplink: \"ballpark://webview?url=https%3A%2F%2Fwww.mlb.com%2Fredsox%2Fballpark%2Ftours&external=true\"\n\nANDROID: ballpark://webview?url=https://www.mlb.com/app/ballpark/redsox/ballpark/tours&external=true\n",
        "expected": "THEN BP app opens a prompt from within internal webview: \n\"Leave Ballpark - Would you like to leave Ballpark and open this link in Safari?' \nAND 'No' and 'Yes' options are presented"
      },
      {
        "content": "WHEN ‘No’ is chosen by the user",
        "expected": "THEN the internal webview is dismissed"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "WHEN user accesses deeplink: \"ballpark://webview?url=https%3A%2F%2Fwww.mlb.com%2Fredsox%2Fballpark%2Ftours&external=true\"\n\nANDROID: ballpark://webview?url=https://www.mlb.com/app/ballpark/redsox/ballpark/tours&external=true\n",
        "expected": "THEN a webview should appear to the proper webview\nAND the team shown on the navBar should match the corresponding venueID passed (venueID=19 is Rockies)\n\nTHEN BP app opens a prompt from within internal webview: \n\"Leave Ballpark - Would you like to leave Ballpark and open this link in Safari?' \nAND 'No' and 'Yes' options are presented"
      },
      {
        "content": "WHEN ‘Yes’ is chosen by the user",
        "expected": "THEN the user is directed to an external webview loading the webpage passed as URL"
      }
    ]
  },
  {
    "id": 34753970,
    "title": "Webview Deeplink - displayTitle (optional) [iOS ONLY]",
    "section_id": 1532533,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1741624039,
    "updated_by": 288,
    "updated_on": 1741705671,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 8,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": true,
    "custom_preconds": "[BP-11164](https://baseball.atlassian.net/browse/BP-11164 )\r\n\r\nAs a Ballpark user, I want to be able to open a link that takes me directly to an internal page w/ a specified Title\r\n\r\nGIVEN a user selects a webview Deeplink \r\n\r\n\"ballpark://webview?url=https%3A%2F%2Fwww.mlb.com%2Fredsox%2Fballpark%2Ftours&displayTitle=MLB-TOURS-RedSox\"",
    "custom_steps": "WHEN a user selects a webview with title passed within the deep link\r\n\r\n*displayTitle is an optional field",
    "custom_expected": "THEN the user will be prompted to open the deeplink internal to BP app with the value passed shown as the title\r\n",
    "custom_steps_separated": [
      {
        "content": "WHEN user accesses deeplink: \"ballpark://webview?url=https%3A%2F%2Fwww.mlb.com%2Fredsox%2Fballpark%2Ftours&displayTitle=MLB-TOURS-RedSox\"\n\n",
        "expected": "THEN the user is directed to an internal webview loading the webpage passed as URL, and the displayTitle as the Title"
      }
    ]
  },
  {
    "id": 28858037,
    "title": "[iOS ONLY] Webview deeplink parameter directing to modularized webview [DEPRECATED]",
    "section_id": 1532533,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "iOS",
    "created_by": 288,
    "created_on": 1657311948,
    "updated_by": 288,
    "updated_on": 1674158273,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 10,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "[BP-9755](https://baseball.atlassian.net/browse/BP-9755)\r\n\r\nGIVEN the user downloaded the Ballpark app (11.4.0 or greater)\r\n\r\nAND Ballpark Webview is opened when a processing a deeplink\r\n\r\ne.g ballpark://webview?url=https%3A%2F%2Fchat.satis.fi%2F%3FpageID%3D11070&bpweb=true\r\n",
    "custom_steps": "WHEN the bpweb parameter is set to true",
    "custom_expected": "THEN the webview is opened in new BallparkWeb\r\n",
    "custom_steps_separated": [
      {
        "content": "WHEN user view a webview deeplink has bpweb=true parameter\nWHEN user view the deeplink into Ballpark app ",
        "expected": "THEN user should be using the new implementation of the webview "
      },
      {
        "content": "HEN user view a webview deeplink has bpweb=false parameter\nWHEN user view the deeplink into Ballpark app ",
        "expected": "THEN user should be using the legacy implementation  of the webview "
      }
    ]
  },
  {
    "id": 28858036,
    "title": "Webview Monitoring [iOS]",
    "section_id": 1541629,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "iOS",
    "created_by": 288,
    "created_on": 1657311283,
    "updated_by": 288,
    "updated_on": 1686949656,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 1,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "GIVEN the user Ballpark app installed on device  (11.2->iOS / 11.5->Android or greater)*\r\nAND Background RUM event tracking is enabled \r\nAND Webview Tracking enabled \r\n\r\n[REQUIRES TRACKING OF 'INFO' TO BE ENABLED - 'datadog_log_level' w/in RemoteConfig set to level 1. IOS may have it set higher in Prod]\r\n\r\n\r\nFollowing provides historical data for iOS:\r\n*11.2 introduces monitoring to newly implemented iOS webview [BP-9693](https://baseball.atlassian.net/browse/BP-9693) (but only for Historic Checkin webview)\r\n**(no need to verify legacy webview, implementation as monitoring was NOT implemented)\r\n*11.4 introduces monitoring to newly implemented Chatbot webview [BP-9779](https://baseball.atlassian.net/browse/BP-9779)\r\n*12.0 removes legacy webview and utilizes modularized webview throughout the app",
    "custom_steps": "WHEN user open any webview into Ballpark app \r\n\r\n",
    "custom_expected": "THEN user should be able to open webview where applicable in  to Ballpark app![](index.php?/attachments/get/13371835)\r\n",
    "custom_steps_separated": [
      {
        "content": "WHEN Webview tracking enabled for URL Loads\nAND the user loads a webview",
        "expected": "THEN user witnesses the webview load\nAND Datadog displays RUM session data with URL being loaded\nAND Datadog displays log data with URL being loaded\n\n(i.e. https://app.datadoghq.eu/logs?query=%40usr.email%3Asteve.ortiz.mlb%2Bbp9693%40gmail.com&index=&viz=stream&from_ts=1652126400000&to_ts=1652127900000&live=false )"
      },
      {
        "content": "WHEN user click on refresh to refresh the Webview ",
        "expected": "THEN user witnesses the webview refresh\nAND Datadog displays RUM session data with URL being refreshed\nAND Datadog displays log data with URL being refreshed"
      },
      {
        "content": "WHEN user tap on 'back' arrow icon within the bottom nav on web view ",
        "expected": "THEN user witnesses the webview navigate back a page\nAND Datadog displays RUM session data with webview 'Navigate Back' action \nAND Datadog displays log data with webview 'Navigate Back' action "
      },
      {
        "content": "WHEN user tap on 'forward' arrow icon within the bottom nav on web view ",
        "expected": "THEN user witnesses the webview navigate forward a page\nAND Datadog displays RUM session data with webview 'Navigate Forward' action \nAND Datadog displays log data with webview 'Navigate Forward' action "
      },
      {
        "content": "WHEN user is processing Deeplink handling ",
        "expected": "THEN user witnesses the webview navigate to destination of deeplink\nAND Datadog displays RUM session data with webview with Deep link containing the link of the deeplink\nAND Datadog displays log data with webview with Deep link containing the link of the deeplink"
      },
      {
        "content": "WHEN user is in process of External link handling ",
        "expected": "THEN user witnesses the BP app navigate to destination of external link\nAND Datadog displays RUM session data with webview with External link containing the link\nAND Datadog displays log data with External link containing the link"
      }
    ]
  },
  {
    "id": 28971724,
    "title": "Webview Monitoring [Android]",
    "section_id": 1541629,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "Android",
    "created_by": 288,
    "created_on": 1659375330,
    "updated_by": 288,
    "updated_on": 1659463474,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 2,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN the user Ballpark app installed on device  (11.2->iOS / 11.5->Android or greater)*\r\nAND Background RUM event tracking is enabled \r\nAND Webview Tracking enabled \r\n\r\n\r\n*11.5 introduces monitoring for Android webview  [BPA-6454](https://baseball.atlassian.net/browse/BPA-6454)\r\n",
    "custom_steps": "WHEN user open any webview into Ballpark app \r\n\r\n\r\n",
    "custom_expected": "THEN user should be able to open webview where applicable in Ballpark app\r\n",
    "custom_steps_separated": [
      {
        "content": "WHEN Webview tracking enabled for URL Loads\nAND the user loads a webview",
        "expected": "THEN user witnesses the webview load\nAND Datadog displays RUM session data with URL being loaded\nAND Datadog displays log data with URL being loaded*\n\n(i.e. https://app.datadoghq.eu/rum/explorer?query=%40usr.email%3Asteve.ortiz.mlb%2Bbpa6454%40gmail.com%20%40type%3Asession&cols=&event=AQAAAYJfdtoRnrbFLwAAAABBWUpmZHRvUkFBQVBNN0hDVEFXMXRRZ1Y&p_tab=attributes&from_ts=1659455764500&to_ts=1659459364500&live=false )\n\n*To view URL:\n**Navigate to RUM session for the user\n**Tap 'View Load - com.bamnetworks.mobile.android.ballpark - Load Screen com.bamnetworks.mobile.android.ballpark.ui.webview.WebviewFragment' \n**Tap 'Attributes' tab\n**Scroll to 'Custom Attributes' and view URL passed to ballpark_webview_url_key\n\n\n![](index.php?/attachments/get/13374698)\n"
      },
      {
        "content": "WHEN user click on refresh to refresh the Webview ",
        "expected": "THEN user witnesses the webview refresh\nAND Datadog displays RUM session data with URL being refreshed\nAND Datadog displays log data with URL being refreshed\n\n*To view Webview Refresh:\n**Navigate to RUM session for the user\n**Tap 'View Load - com.bamnetworks.mobile.android.ballpark - Load Screen com.bamnetworks.mobile.android.ballpark.ui.webview.WebviewFragment' \n**Tap 'Actions' tab\n**Confirm 'tap on ActionMenuItemView(menu_reload)' is shown\n\n![](index.php?/attachments/get/13374699)\n"
      },
      {
        "content": "WHEN user tap on 'back' arrow icon within the bottom nav on web view*\n\n*likely nav arrows not included in webview, in favor of the device navigation. If this is the case, use the device back navigation",
        "expected": "THEN user witnesses the webview navigate back a page\nAND Datadog displays RUM session data with webview 'Navigate Back' action \nAND Datadog displays log data with webview 'Navigate Back' action \n\n*To view Back:\n**Navigate to RUM session for the user\n**Tap 'View Load - com.bamnetworks.mobile.android.ballpark - Load Screen com.bamnetworks.mobile.android.ballpark.ui.webview.WebviewFragment' \n**Tap 'Actions' tab\n**Confirm 'custom back' is shown\n"
      },
      {
        "content": "WHEN user is processing Deeplink handling ",
        "expected": "THEN user witnesses the webview navigate to destination of deeplink\nAND Datadog displays RUM session data with webview with Deep link containing the link of the deeplink\nAND Datadog displays log data with webview with Deep link containing the link of the deeplink\n\n(i.e https://app.datadoghq.eu/rum/explorer?query=%40usr.email%3Asteve.ortiz.mlb%2Bbpa6454%40gmail.com%20%40type%3Asession&cols=&event=AQAAAYJfhl81wePVDgAAAABBWUpmaGw4MUFBQy0xTnQwOTRENHdpdjI&p_tab=attributes&from_ts=1659456643363&to_ts=1659460243363&live=false )\n\n*To view deeplink handling:\n**Navigate to RUM session for the user\n**Tap 'View Load - com.bamnetworks.mobile.android.ballpark - Load Screen com.bamnetworks.mobile.android.ballpark.ui.webview.WebviewFragment' \n**Tap 'Attributes' tab\n**Scroll to 'Custom Attributes' and view Intent { dat=ballpark://buytickets?tab=buytickets }\n![](index.php?/attachments/get/13374700)\n"
      }
    ]
  },
  {
    "id": 30489082,
    "title": "Allow Location CTA - Device Location Options",
    "section_id": 1671769,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "https://baseball.atlassian.net/browse/BPA-6803",
    "created_by": 282,
    "created_on": 1681999809,
    "updated_by": 282,
    "updated_on": 1683030914,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 1,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "https://baseball.atlassian.net/browse/BPA-6803\r\n\r\nGIVEN an existing user DOES NOT have device location enable **\r\nAND user is on the Webview \r\n\r\nNOTE: Utilize stg environment for verification - Mets specifically - Raw Engineering Fabric link",
    "custom_steps": "WHEN user is shown with Location icon \r\nAND user taps on map icon ",
    "custom_expected": "THEN Ballpark app triggers the OS allow permissions prompt **\r\n\r\n![](index.php?/attachments/get/13477596)\r\n![](index.php?/attachments/get/13477594)\r\n![](index.php?/attachments/get/13477595)\r\n\r\n\r\nAbove images for OS 8,12 and 13.\r\n\r\n** If fan has already been presented with the OS permissions dialog, CTA will deeplink into their device settings for Ballpark app so they can make a change through their OS\r\n\r\n",
    "custom_steps_separated": [
      {
        "content": "",
        "expected": "[Location UI](https://testrail.testeng.mlbinfra.net/index.php?/suites/view/43532&group_by=cases:section_id&group_order=asc&group_id=1595189)\n\n*Cases considered for this validation validation "
      }
    ]
  },
  {
    "id": 30489084,
    "title": "DD logs to Permission Allow/Deny",
    "section_id": 1671769,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 282,
    "created_on": 1682000135,
    "updated_by": 282,
    "updated_on": 1682000609,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 543395,
    "display_order": 2,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user Ballpark App 12.4.0 and above \r\nGIVEN user webview with Geolocation ",
    "custom_steps": "WHEN user display with prompt for geolocation permission for webview ",
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "WHEN user allow(granted) permission for geolocation permission ",
        "expected": "THEN user should display with logs in DD \n\nGranted permission requests: [android.permission.ACCESS_FINE_LOCATION, android.permission.ACCESS_COARSE_LOCATION]\n"
      },
      {
        "content": "WHEN user deny (denied) permission for geolocation prompt ",
        "expected": "THEN user should display with logs in DD \n\nDenied permission requests: [DeniedPermissions(permission=android.permission.ACCESS_FINE_LOCATION, showRationale=true), "
      },
      {
        "content": "WHEN user has previously denied the permission",
        "expected": "THEN user should display with logs in DD\n\nPermission previously denied once: android.permission.ACCESS_FINE_LOCATION"
      }
    ]
  }
]