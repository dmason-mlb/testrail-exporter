[
  {
    "id": 33779968,
    "title": "OKTA Access Expires - Timeout Initiated Logout - Navigate from HomeTab to TicketsTab",
    "section_id": 1949368,
    "template_id": 1,
    "type_id": 9,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1722272769,
    "updated_by": 282,
    "updated_on": 1727893078,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 1,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "SETUP NOTES:\r\nYou will need to have tickets available to the account you will be using.\r\nYou will need to have an account that has an access token that expires in 5 minutes. There are two options to set up this scenario:\r\n1) If you use Charles or Proxyman, you can set the timeout to ~360 seconds (6 minutes) by finding the call to qa-ids.mlb.com and overriding the response. If its earlier than 6mins, the refresh may happen automatically.\r\n2) You can alternatively use an account that has a access token lifetime set to 5 minutes (in account policies) i.e. bparkdev+5mintoken@gmail.com.\r\n\r\nGIVEN a user is logged in and on the HomeTab",
    "custom_steps": "WHEN the user token is expired",
    "custom_expected": "THEN the user will be logged out \r\nAND user is shown the Welcome Screen (Keychain stored)\r\n\r\n[NOTE: If user initially logged in via Magic Link, then the keychain is expectedly NOT shown]",
    "custom_steps_separated": [
      {
        "content": "WHEN the user logs in with their MLB account in Ballpark app\nAND the user is on the Home tab w/ tickets for a future event",
        "expected": "THEN the user is successfully logged in with MLB account in Ballpark app\nAND Home Tab page displays with all information including Tickets on it\n\n\n"
      },
      {
        "content": "[AWAIT EXPIRATION OF ACCESS TOKEN]",
        "expected": ""
      },
      {
        "content": "WHEN the user access token expires\nAND the user navigates to Tickets Tab\n\n",
        "expected": "THEN the user will be logged out \nAND user is shown the Welcome Screen (Keychain stored)\n\n[NOTE: If user initially logged in via Magic Link, then the keychain is expectedly NOT shown]\n\n\nANDROID: \nTHEN the user will be logged out \nAND user is shown the Welcome Screen"
      },
      {
        "content": "WHEN the user attempts to log in again (either via Continue, or enter acct creds flow)",
        "expected": "THEN the user is successfully logged in (with a refreshed access token)\nAND the user is able to view the tickets on the account\n"
      }
    ]
  },
  {
    "id": 33780101,
    "title": "OKTA Access Expires - Timeout Initiated Logout - Navigate from MyProfile to MyHistory",
    "section_id": 1949368,
    "template_id": 1,
    "type_id": 9,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1722282140,
    "updated_by": 282,
    "updated_on": 1738869376,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 2,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "SETUP NOTES:\r\nYou will need to have tickets available to the account you will be using.\r\nYou will need to have an account that has an access token that expires in 5 minutes. There are two options to set up this scenario:\r\n1) If you use Charles or Proxyman, you can set the timeout to ~360 seconds (6 minutes) by finding the call to qa-ids.mlb.com and overriding the response. If its earlier than 6mins, the refresh may happen automatically.\r\n2) You can alternatively use an account that has a access token lifetime set to 5 minutes (in account policies) i.e. bparkdev+5mintoken@gmail.com.\r\n\r\nGIVEN a user is logged in and on the HomeTab",
    "custom_steps": "WHEN the user token is expired",
    "custom_expected": "THEN the user will be logged out \r\nAND user is shown the Welcome Screen (Keychain stored)\r\n\r\n[NOTE: If user initially logged in via Magic Link, then the keychain is expectedly NOT shown]",
    "custom_steps_separated": [
      {
        "content": "WHEN the user logs in with their MLB account in Ballpark app\nAND the user is on the Home tab w/ tickets for a future event",
        "expected": "THEN the user is successfully logged in with MLB account in Ballpark app\nAND Home Tab page displays with all information including Tickets on it"
      },
      {
        "content": "WHEN the user navigates to Profile Tab",
        "expected": "THEN the user is shown Profile Tab for the logged in account"
      },
      {
        "content": "[AWAIT EXPIRATION OF ACCESS TOKEN]",
        "expected": ""
      },
      {
        "content": "WHEN the user access token expires\nAND the user navigates to MyHistory View\n\n",
        "expected": "THEN the user will be logged out \nAND user is shown the Welcome Screen (Keychain stored)\n\n[NOTE: If user initially logged in via Magic Link, then the keychain is expectedly NOT shown]\n\nANDROID: \nTHEN the user will be logged out \nAND user is shown the Welcome Screen"
      },
      {
        "content": "WHEN the user attempts to log in again (either via Continue, or enter acct creds flow)",
        "expected": "THEN the user is successfully logged in (with a refreshed access token)\nAND the user is able to view the tickets on the account\nAND the user is able to view the MyHistory View on the account\n"
      }
    ]
  },
  {
    "id": 33779970,
    "title": "Okta Access Expires While in Background",
    "section_id": 1949368,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1722272769,
    "updated_by": 288,
    "updated_on": 1724882561,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 3,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "SETUP NOTES:\r\nYou will need to have tickets available to the account you will be using.\r\nYou will need to have an account that has an access token that expires in 5 minutes. There are two options to set up this scenario:\r\n1) If you use Charles or Proxyman, you can set the timeout to ~360 seconds (6 minutes) by finding the call to qa-ids.mlb.com and overriding the response. If its earlier than 6mins, the refresh may happen automatically.\r\n2) You can alternatively use an account that has a access token lifetime set to 5 minutes (in account policies) i.e. bparkdev+5mintoken@gmail.com.\r\n\r\nGIVEN a user is logged in and on the HomeTab\r\nAND user has backgrounded the Ballpark app \r\n\r\n\r\n\r\n\r\n\r\n",
    "custom_steps": "GIVEN Okta access token expires while app is in background\r\nWHEN app is resumed from background",
    "custom_expected": "THEN the user requires to login again\r\nAND the app gets new access token with the new login",
    "custom_steps_separated": null
  },
  {
    "id": 33779971,
    "title": "Okta Access Expires Prior to Pull to Refresh",
    "section_id": 1949368,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1722272769,
    "updated_by": 282,
    "updated_on": 1746126933,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 4,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "SETUP NOTES:\r\nYou will need to have tickets available to the account you will be using.\r\nYou will need to have an account that has an access token that expires in 5 minutes. There are two options to set up this scenario:\r\n1) If you use Charles or Proxyman, you can set the timeout to ~360 seconds (6 minutes) by finding the call to qa-ids.mlb.com and overriding the response. If its earlier than 6mins, the refresh may happen automatically.\r\n2) You can alternatively use an account that has a access token lifetime set to 5 minutes (in account policies) i.e. bparkdev+5mintoken@gmail.com.\r\n\r\nGIVEN a user is logged in\r\nAND User is on Tickets Tab\r\n",
    "custom_steps": "WHEN Okta access token expires\r\nAND user performs a pull to refresh (or button tap of 'Refresh')",
    "custom_expected": "THEN the user will be logged out\r\nAND user is shown the Welcome Screen (Keychain stored)\r\n\r\nANDROID: No Keychain but GPM if stored creds\r\n\r\n\r\n[NOTE: If user initially logged in via Magic Link, then the keychain is expectedly NOT shown]\r\n\r\n",
    "custom_steps_separated": [
      {
        "content": "WHEN the user logs in with their MLB account in Ballpark app\nAND the user is on the Tickets tab w/ tickets for a future event",
        "expected": "THEN the user is successfully logged in with MLB account in Ballpark app\nAND Ticket Tab page displays with Wallet Card\n"
      },
      {
        "content": "[AWAIT EXPIRATION OF ACCESS TOKEN]",
        "expected": ""
      },
      {
        "content": "WHEN the user access token expires\nAND user performs a pull to refresh (or button tap of 'Refresh')\n",
        "expected": "THEN the user will be logged out\nAND user is shown the Welcome Screen (Keychain stored)\n\n[NOTE: If user initially logged in via Magic Link, then the keychain is expectedly NOT shown]\n\n\nANDROID:\nTHEN the user will be logged out\nAND user is shown the Welcome Screen"
      },
      {
        "content": "WHEN the user attempts to log in again (either via Continue, or enter acct creds flow)",
        "expected": "THEN the user is successfully logged in (with a refreshed access token)\nAND the user is able to view the tickets on the account"
      }
    ]
  },
  {
    "id": 33779974,
    "title": "Okta Access Expires while User has No Network",
    "section_id": 1949368,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1722272769,
    "updated_by": 282,
    "updated_on": 1746186804,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 5,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "SETUP NOTES:\r\nYou will need to have tickets available to the account you will be using.\r\nYou will need to have an account that has an access token that expires in 5 minutes. There are two options to set up this scenario:\r\n1) If you use Charles or Proxyman, you can set the timeout to ~360 seconds (6 minutes) by finding the call to qa-ids.mlb.com and overriding the response. If its earlier than 6mins, the refresh may happen automatically.\r\n2) You can alternatively use an account that has a access token lifetime set to 5 minutes (in account policies) i.e. bparkdev+5mintoken@gmail.com.\r\n\r\nGIVEN a logged in user with upcoming tickets\r\n\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "WHEN the user logs in with their MLB account in Ballpark app\nAND the user is on the Home tab w/ tickets for a future event",
        "expected": "THEN the user is successfully logged in with MLB account in Ballpark app\nAND Home Tab page displays with all information including Tickets on it"
      },
      {
        "content": "WHEN network is off (airplane mode)",
        "expected": "THEN the user remains logged in and can access offline tickets\n\n[Android: you may see a Snackbar when on Ticket list view \"Something went wrong, try again\" and a dialog message on Ticket scan view \"Ticket Details Unavailable\" but you will still be able to access the Ticket's scan view]\n\nWith new Home V1: No network message display on Home"
      },
      {
        "content": "[AWAIT EXPIRATION OF ACCESS TOKEN]",
        "expected": ""
      },
      {
        "content": "WHEN network is still off (airplane mode)\nAND access token has expired",
        "expected": "THEN the user remains logged in and can access offline tickets (prior to re-establishing network)\n\n[Android: you may see a Snackbar when on Ticket list view \"Something went wrong, try again\" and a dialog message on Ticket scan view \"Ticket Details Unavailable\" but you will still be able to access the Ticket's scan view]"
      },
      {
        "content": "WHEN network is reestablished",
        "expected": "THEN the user will be logged out\nAND user is shown the Welcome Screen (Keychain stored)\n\nANDROID:\nTHEN the user will be logged out\nAND user is shown the Welcome Screen\n\n[NOTE: If user initially logged in via Magic Link, then the keychain is expectedly NOT shown]\n\n"
      },
      {
        "content": "WHEN the user attempts to log in again (either via Continue, or enter acct creds flow)\n\n",
        "expected": "THEN the user is successfully logged in (with a refreshed access token)\nAND the user is able to view the tickets on the account"
      }
    ]
  },
  {
    "id": 33779975,
    "title": "Okta Error Refreshing Access Token and User Reset Password",
    "section_id": 1949368,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1722272769,
    "updated_by": 288,
    "updated_on": 1724882618,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 6,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "Given a logged in user with upcoming tickets and an expired access token, and a recently changed password\r\n\r\nas reference: Upon initial integration with iDK, a Crash was witnessed for this use case. But has since been corrected [BP-10866](https://baseball.atlassian.net/browse/BP-10866 ) ",
    "custom_steps": "When the refresh token call fails",
    "custom_expected": "Then the app fails to silently fetch a new access token with keychain credentials and the user is logged out\r\n\r\n\r\nNOTE: CHANGING PW ON THE ACCT IS REQUIRED WITH THIS VALIDATION -- WOULD BE BEST TO RETURN THE PW TO ORIGINAL STATE (by reseting pw two more times to allow revert back to original) OR NOTE THE NEW PASSWORD CHANGE TO OTHERS",
    "custom_steps_separated": [
      {
        "content": "using BP app on device:\n\nWHEN the user logs in with their MLB account in Ballpark app\nAND the user is on the Home tab w/ tickets for a future event",
        "expected": "THEN the user is successfully logged in with MLB account in Ballpark app\nAND Home Tab page displays with all information including Tickets on it"
      },
      {
        "content": "[AWAIT EXPIRATION OF ACCESS TOKEN]\n\nusing Computer: (within the 6 min expiration)\nWHEN user logs into the acct in QA MLB (https://qa-gcp.mlb.com/account )* \nAND user changes the password\n\n\n*note: if having issues with QA MLB acct page to work, attempt on an incognito browser\n\n",
        "expected": "THEN the user has updated password (via change from mlb.com)"
      },
      {
        "content": "WHEN the user access token expires\nAND the user navigates to Tickets Tab\n\n",
        "expected": "THEN the user will be logged out\nAND user is shown the Welcome Screen (Keychain stored)\n\n[NOTE: If user initially logged in via Magic Link, then the keychain is expectedly NOT shown]"
      },
      {
        "content": "WHEN the user attempts to log in again (either via Continue, or enter acct creds flow using former password)\n\n",
        "expected": "THEN the user is unable to log in (because pw has been changed)\n"
      },
      {
        "content": "WHEN the user attempts to log in again with updated password\n",
        "expected": "THEN the user is successfully logged in (with a refreshed access token)\nAND the user is able to view the tickets on the account"
      },
      {
        "content": "NOTE: CHANGING PW ON THE ACCT IS REQUIRED WITH THIS VALIDATION -- WOULD BE BEST TO RETURN THE PW TO ORIGINAL STATE (by reseting pw two more times to allow revert back to original) OR NOTE THE NEW PASSWORD CHANGE TO OTHERS",
        "expected": ""
      }
    ]
  },
  {
    "id": 33779976,
    "title": "Error Messaging: Login Error vs Network Error",
    "section_id": 1949368,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1722272769,
    "updated_by": 282,
    "updated_on": 1727895957,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 7,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "GIVEN the user tries to login to Ballpark\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "WHEN the user types in bad credentials to login",
        "expected": "THEN the app should display the error:\n\n[iOS] \"Unable to log in - email and password do not match.\"\n[Android] \"Login Failed - Invalid Email and password\" - IDK2.21 \n[Android]\"Unable to log in - email and password do not match.\" - IDK 4"
      },
      {
        "content": "WHEN the user is in Airplane mode AND types in credentials to login",
        "expected": "THEN the app should display \n\n[iOS] \"Sorry, check your network and try again\"\n[Android] \"Login Failed - Please check your network connection and try again\"\n\n"
      }
    ]
  },
  {
    "id": 34153790,
    "title": "[Android] App Update (IDK 2.x BP v. update to IDK 4.x Bp V.)",
    "section_id": 1949368,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 282,
    "created_on": 1727699890,
    "updated_by": 282,
    "updated_on": 1737997027,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 8,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "GIVEN User BP app installed(13.6.X or before) on the IDK Version 2.x \r\nAND User is logged In \r\nAND App is closed ",
    "custom_steps": "WHEN User update the BP app (13.7.X or grater) on the IDK Version 4.x",
    "custom_expected": "THEN user should be able to successfully update the app \r\nAND user is still authenticated\r\nAND user able to launch the app \r\nAND user is on the home screen  ",
    "custom_steps_separated": null
  },
  {
    "id": 7317784,
    "title": "OKTA Access Expires - Timeout Initiated Logout",
    "section_id": 157568,
    "template_id": 1,
    "type_id": 9,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 213,
    "created_on": 1594933958,
    "updated_by": 323,
    "updated_on": 1681244298,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 1,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "You will need to have tickets available to the account you will be using.\r\nYou will need to have an account that has an access token that expires in 5 minutes. There are two options to set up this scenario:\r\n1) If you use Charles or Proxyman, you can set the timeout to ~300 seconds (5 minutes) by finding the call to qa-ids.mlb.com and overriding the response. If its earlier than that, the refresh may happen automatically.\r\nYou can alternatively use an account that has a access token lifetime set to 5 minutes (in account policies) i.e. bparkdev+5mintoken@gmail.com.\r\n\r\nGIVEN a user has logged in ",
    "custom_steps": "WHEN the user loses network access (goes offline)\r\n",
    "custom_expected": "THEN the user will still have access to the Scanview of their tickets even though their access token has expired\r\nAND \r\nWHEN the user obtains network access \r\nTHEN their tickets will be updated using a newly refreshed access token",
    "custom_steps_separated": [
      {
        "content": "WHEN navigates to a tickets view",
        "expected": "THEN the user remains logged in and can access offline tickets\n[Android: you may see a Snackbar when on Ticket list view \"Something went wrong, try again\" and a dialog message on Ticket scan view \"Ticket Details Unavailable\" but you will still be able to access the Ticket's scan view]"
      },
      {
        "content": "WHEN the user goes back online",
        "expected": "THEN the app refreshes the access token and the user is able to open updated tickets"
      }
    ]
  },
  {
    "id": 1295548,
    "title": "Okta Access Expires - User remains logged in upon Token Refresh",
    "section_id": 157568,
    "template_id": 1,
    "type_id": 9,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 213,
    "created_on": 1580736427,
    "updated_by": 323,
    "updated_on": 1681244439,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 2,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "\r\nSETUP NOTES: \r\nYou will need to have tickets available to the account you will be using.\r\nYou will need to have an account that has an access token that expires in 5 minutes. There are two options to set up this scenario:\r\n1) If you use Charles or Proxyman, you can set the timeout to ~300 seconds (5 minutes) by finding the call to qa-ids.mlb.com and overriding the response. If its earlier than that, the refresh may happen automatically.\r\nYou can alternatively use an account that has a access token lifetime set to 5 minutes (in account policies) i.e. bparkdev+5mintoken@gmail.com.\r\n\r\nGIVEN a user is logged in and on the HomeTab",
    "custom_steps": "WHEN the access token expires (wait at least 5 minutes) and the user navigates to Tickets Tab",
    "custom_expected": "THEN the app uses the refresh token and gets a new access token without requiring the user to login so service calls are successful ",
    "custom_steps_separated": [
      {
        "content": "WHEN the user logs in with their MLB account in Ballpark app",
        "expected": "THEN the user is successfully logged in with MLB account in Ballpark app"
      },
      {
        "content": "WHEN the user is logged in\nAND the user is on the Home tab",
        "expected": "THEN Home Tab page displays with all information including Tickets on it"
      },
      {
        "content": "[AWAIT EXPIRATION OF ACCESS TOKEN]",
        "expected": ""
      },
      {
        "content": "WHEN the user access token expires \nAND the user navigates to Tickets Tab",
        "expected": "THEN the app uses the refresh token and gets a new access token without requiring the user to login so service calls are successful (use Charles, Proxyman, or DataDog to Test this step)"
      }
    ]
  },
  {
    "id": 1295550,
    "title": "Okta Access Expires While in Background",
    "section_id": 157568,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 213,
    "created_on": 1580736761,
    "updated_by": 288,
    "updated_on": 1616525689,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 4,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN Okta access token expires while app is in background",
    "custom_steps": "WHEN app is resumed from background",
    "custom_expected": "THEN app gets new access token without requiring the user to login again",
    "custom_steps_separated": null
  },
  {
    "id": 1295551,
    "title": "Okta Access Expires Prior to Pull to Refresh",
    "section_id": 157568,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 213,
    "created_on": 1580736933,
    "updated_by": 288,
    "updated_on": 1634000441,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 5,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN User is on Tickets Tab\r\nAND Okta access token expires",
    "custom_steps": "WHEN user does a pull to refresh (or button tap of 'Refresh')",
    "custom_expected": "THEN app gets a new access token and the service call is successful\r\n\r\nWIKI link:https://baseball.atlassian.net/wiki/spaces/INFOSEC/pages/5104415/Okta+-+Steps+to+Setup+Okta+Verify+for+Workday",
    "custom_steps_separated": [
      {
        "content": "WHEN user is in the today tab \nAND Okta token expires",
        "expected": "THEN refresh the Tickets Tab page and check the service call in Charles\nAND after app gets a new access token, the service call is successful"
      }
    ]
  },
  {
    "id": 1295549,
    "title": "Okta Error Refreshing Access Token",
    "section_id": 157568,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 213,
    "created_on": 1580736479,
    "updated_by": 288,
    "updated_on": 1681324448,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 7,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "Given a user is logged in and the access token expires",
    "custom_steps": "WHEN an error occurs getting a new access token ",
    "custom_expected": "THEN the user remains logged in",
    "custom_steps_separated": null
  },
  {
    "id": 16897080,
    "title": "Upgrading with an Expired Access Token (N/A for Both platform so DO NOT NEED TO TEST)",
    "section_id": 157568,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 223,
    "created_on": 1619544645,
    "updated_by": 282,
    "updated_on": 1722364468,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 9,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "Given a user with the previous version of the app installed and the app’s access token has expired\r\n\r\n\r\n*ANDROID [BPA-6341](https://baseball.atlassian.net/browse/BPA-6341) - Configurable threshold for logging out users with expired access tokens\r\nTHE FOLLOWING ONLY APPLIES TO ANDROID (introduced with BP 11.0.1)\r\nPrerequisite - Remote Config Setup\r\n1. Go to Firebase -> Remote Config (links below)\r\n2. Edit \"max_token_refresh_attempts\" as needed to force behavior. \r\n3. Save changes.\r\n4. Publish changes.\r\n\r\nBE CAUTIOUS WHEN UPDATING PROD CONFIGURATION AS CHANGES WOULD BE WITNESSED TO LIVE USER\r\n\r\nRemote Configs \r\n[Ballpark QA App](https://console.firebase.google.com/u/0/project/mlb-mobile-npd/config)\r\n[Ballpark](https://console.firebase.google.com/u/0/project/mlb-ballpark-app-831/config)\r\n(can have condition set up to differentiate desired behavior for different envs/platform/target_audience)\r\n\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When the user installs the latest version of the app\n",
        "expected": "[iOS]\nThen the user does not have to log back in\nAND Home tab shows data targeted to the user\nAND Inbox messages update as expected\n"
      },
      {
        "content": "",
        "expected": "[ANDROID]\nThen the user may be logged back in, BUT may see failed to connect messages within BP app pages upon exhausting the configured refresh attempts \nAND after exhausting refresh attempts, the user is returned to Welcome page to login again"
      }
    ]
  },
  {
    "id": 16897082,
    "title": "Okta Access Expires while User has No Network",
    "section_id": 157568,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 223,
    "created_on": 1619544837,
    "updated_by": 323,
    "updated_on": 1646247700,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 10,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "Given a logged in user with upcoming tickets and an expired access token, who is offline\r\n",
    "custom_steps": "When the user opens tickets from the home tab\r\n",
    "custom_expected": "Then the user remains logged in and can access offline tickets\r\n[Android: you may see a Snackbar when on Ticket list view \"Something went wrong, try again\" and a dialog message on Ticket scan view \"Ticket Details Unavailable\" but you will still be able to access the Ticket's scan view]\r\n",
    "custom_steps_separated": null
  },
  {
    "id": 16897084,
    "title": "Okta Error Refreshing Access Token and User Reset Password",
    "section_id": 157568,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 223,
    "created_on": 1619544967,
    "updated_by": 223,
    "updated_on": 1619545098,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 11,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "Given a logged in user with upcoming tickets and an expired access token, and a recently changed password",
    "custom_steps": "When the refresh token call fails",
    "custom_expected": "Then the app fails to silently fetch a new access token with keychain credentials and the user is logged out",
    "custom_steps_separated": null
  },
  {
    "id": 7870279,
    "title": "Okta Network vs Login error",
    "section_id": 157568,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 215,
    "created_on": 1598892919,
    "updated_by": 288,
    "updated_on": 1644271206,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 22040,
    "display_order": 12,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN the user tries to login to Ballpark\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "WHEN the user types in bad credentials to login",
        "expected": "THEN the app should display the error:\n\n[iOS] \"Unable to log in - email and password do not match.\"\n[Android] \"Login Failed - Invalid Email and password\""
      },
      {
        "content": "WHEN the user is in Airplane mode AND types in credentials to login",
        "expected": "THEN the app should display \n\n[iOS] \"Sorry, check your network and try again\"\n[Android] \"Login Failed - Please check your network connection and try again\"\n\n"
      }
    ]
  }
]