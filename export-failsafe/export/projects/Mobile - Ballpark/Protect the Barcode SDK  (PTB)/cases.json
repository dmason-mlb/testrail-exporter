[
  {
    "id": 26967773,
    "title": "Rotating Barcode displayed when shared secret sent from ProVenue to BoxOffice",
    "section_id": 1404234,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1648682205,
    "updated_by": 288,
    "updated_on": 1648756567,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 492292,
    "display_order": 1,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user downloaded the Ballpark app (11.1.0 or greater)* \r\nAND user's acct has a valid ticket in BP \r\nAND the shared secret sent from ProVenue to BoxOffice for particular ticketed event\r\n\r\n\r\n*Rotating Barcode feature introduced with 11.1.0 build\r\n\r\n(as of April 2022, the following satisfies shared secret being passed)\r\nEnv: QA\r\nAcct: bparkdev+tdc2@gmail.com / MLBmlb123\r\nTicketed Event: Orioles @ Guardians, Sept 1\r\nTicket w/ shared secret: Sec-LB129, Row-37, Seats-9,10",
    "custom_steps": null,
    "custom_expected": "The rotating barcode is activated when there is a shared secret sent from PV (ProVenue) to BoxOffice and down to Ballpark. \r\nWhen there is a shared secret in the payload, the client will turn on screenshot protection and rotate the barcode. \r\n",
    "custom_steps_separated": [
      {
        "content": "WHEN user views the ticket scanview containing shared secret",
        "expected": "THEN user can visibly witness the barcode change after configured time*\n\n*currently barcode is rotating every 5 secs. \n"
      },
      {
        "content": "[AS ADDITIONAL VALIDATION - YOU CAN USE AN EXTERNAL APP TO VALIDATE THE PAYLOAD] \n\nWHEN user utilizes a Barcode Scanner application from another device* \nAND user scans the rotating barcode\n\n*Android - 'QR & Barcode Scanner'\n*iOS - 'QR Reader' ",
        "expected": "THEN the payload of the scan is extracted\nAND Time-based one-time password (TOTP) value is shown within the payload\nAND Timestamp (T) value is shown within the payload\n\nExample:\n@TDC=sandbox|BCT=TI|TBN=QB82-K6UMEBER|TSC=LB129|TRW=37|TSE=9|TBT=ADULT|TPC=LB|TEV=9943|SMT=C5|TOTP=29943900|T=1648754505"
      }
    ]
  },
  {
    "id": 26967786,
    "title": "Rotating Barcode AND Ad displayed when shared secret sent from ProVenue to BoxOffice w/ Dynamic Scanview Ad configured",
    "section_id": 1404234,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1648685429,
    "updated_by": 288,
    "updated_on": 1648761640,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 492292,
    "display_order": 2,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user downloaded the Ballpark app (11.1.0 or greater)*\r\nAND user's acct has a valid ticket in BP\r\nAND the shared secret sent from ProVenue to BoxOffice for particular ticketed event\r\nAND the same ticketed event has Dynamic Scanview Ad configured**\r\n\r\n\r\n*Rotating Barcode feature introduced with 11.1.0 build\r\n**THIS CASE REQUIRES SETUP FROM ADS TEAM TO CONFIGURATION ADS PARTICULAR TICKETED EVENTS\r\n\r\n(as of April 2022, the following satisfies shared secret being passed AND with dynamic scanview Ad configured)\r\nEnv: QA\r\nAcct: TBD\r\nTicketed Event: TBD\r\nTicket w/ shared secret AND dynamic scanview Ad: TBD\r\n\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "WHEN user views the ticket scanview containing shared secret AND scanview Ad configured",
        "expected": "THEN user can visibly witness the barcode change after configured time*\t\n\n*currently barcode is rotating every 5 secs."
      },
      {
        "content": "",
        "expected": "AND the correct Scan view is shown with an Ad particular to the event "
      },
      {
        "content": "WHEN user taps the scanview Ad",
        "expected": "THEN user is shown the page directed from the ad, typically within a webview\n\n[TODO: CONFIRM THIS STEP/VALIDATION IS ACCURATE]"
      }
    ]
  },
  {
    "id": 26967787,
    "title": "Rotating Barcode AND Apple Wallet displayed when Shared secret sent from ProVenue to BoxOffice w/ Apple Wallet configured [iOS ONLY]",
    "section_id": 1404234,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "iOS",
    "created_by": 288,
    "created_on": 1648685489,
    "updated_by": 288,
    "updated_on": 1648761651,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 492292,
    "display_order": 3,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user downloaded the Ballpark app (11.1.0 or greater)*\r\nAND user's acct has a valid ticket in BP\r\nAND the shared secret sent from ProVenue to BoxOffice for particular ticketed event\r\nAND the same ticketed event has Apple Wallet configured**\r\n\r\n*Rotating Barcode feature introduced with 11.1.0 build\r\n**[Add to Apple Wallet](https://testrail.testeng.mlbinfra.net/index.php?/cases/view/1281003) test case\r\n\r\n(as of April 2022, the following satisfies shared secret being passed AND with Apple Wallet configured)\r\nEnv: QA\r\nAcct: bparkdev+tdc2@gmail.com / MLBmlb123\r\nTicketed Event: Orioles @ Guardians, Sept 1\r\nTicket w/ shared secret AND Apple Wallet: Sec-LB129, Row-37, Seats-9,10\r\n\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "WHEN user views the ticket scanview containing shared secret AND Apple Wallet configured",
        "expected": "THEN user can visibly witness the barcode change after configured time*\n\n*currently barcode is rotating every 5 secs."
      },
      {
        "content": "",
        "expected": "AND user is shown 'Add to Apple Wallet' button at the bottom for all non-forwarded tickets"
      }
    ]
  },
  {
    "id": 26967781,
    "title": "Prev BP versions without support for PTB having PTB enabled Tickets (BP versions prior to 11.1.0)",
    "section_id": 1404234,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1648685118,
    "updated_by": 288,
    "updated_on": 1648767226,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 492292,
    "display_order": 4,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user downloaded the Ballpark app (prior to 11.1.0)*\r\nAND user's acct has a valid ticket in BP\r\nAND the shared secret sent from ProVenue to BoxOffice for particular ticketed event\r\n\r\n*Rotating Barcode feature introduced with 11.1.0 build\r\n\r\n(as of April 2022, the following satisfies shared secret being passed)\r\nEnv: QA\r\nAcct: bparkdev+tdc2@gmail.com / MLBmlb123\r\nTicketed Event: Orioles @ Guardians, Sept 1\r\nTicket w/ shared secret: Sec-LB129, Row-37, Seats-9,10",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "WHEN user views the ticket scanview containing shared secret (but unsupported by BP)",
        "expected": "THEN user will NOT visibly witness the barcode change after configured time*\n\n*currently barcode is rotating every 5 secs."
      },
      {
        "content": "[AS ADDITIONAL VALIDATION - YOU CAN USE AN EXTERNAL APP TO VALIDATE THE PAYLOAD]\n\nWHEN user utilizes a Barcode Scanner application from another device*\nAND user scans the non-rotating barcode\n\n*Android - 'QR & Barcode Scanner'\n*iOS - 'QR Reader'\n",
        "expected": "THEN the payload of the scan is extracted\nAND Time-based one-time password (TOTP) value is NOT shown within the payload\nAND Timestamp (T) value is NOT shown within the payload\n\nExample:\n@TDC=sandbox|BCT=TI|TBN=QB82-K6UMEBER|TSC=LB129|TRW=37|TSE=9|TBT=ADULT|TPC=LB|TEV=9943|SMT=C5\n\n(noting that |TOTP=29943900|T=1648754505 should NOT be shown)"
      }
    ]
  },
  {
    "id": 26999758,
    "title": "Forwarding via Email - Rotating Barcode",
    "section_id": 1411011,
    "template_id": 1,
    "type_id": 9,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1649112424,
    "updated_by": 288,
    "updated_on": 1649115944,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 492292,
    "display_order": 2,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user downloaded the Ballpark app (11.1.0 or greater)*\r\nAND user's acct has at least 2 valid tickets in BP\r\nAND the shared secret sent from ProVenue to BoxOffice for particular ticketed event\r\n\r\n*Rotating Barcode feature introduced with 11.1.0 build\r\n\r\n\r\n\r\n\r\n",
    "custom_steps": "GIVEN the user is on the forward mode listview\r\nWHEN user selected tickets to forward containing shared secret via Email\r\n\r\n",
    "custom_expected": "THEN receiving user receives the ticket \r\nAND the ticket generates its own shared secret\r\nAND sending user's ticket can be scanned at the gate\r\nAND receiving user's ticket can be scanned at the gate",
    "custom_steps_separated": [
      {
        "content": "WHEN user views scanview of the ticket desired to be forward",
        "expected": "THEN user can visibly witness the barcode change after configured time*\n\n*currently barcode is rotating every 5 secs."
      },
      {
        "content": "[AS ADDITIONAL VALIDATION - YOU CAN USE AN EXTERNAL APP TO VALIDATE THE PAYLOAD]\n\nWHEN user utilizes a Barcode Scanner application from another device*\nAND user scans the rotating barcode\n\n*Android - 'QR & Barcode Scanner'\n*iOS - 'QR Reader'",
        "expected": "THEN the payload of the scan is extracted\nAND Time-based one-time password (TOTP) value is shown within the payload\nAND Timestamp (T) value is shown within the payload\n\nExample:\n@TDC=sandbox|BCT=TI|TBN=QB82-K6UMEBER|TSC=LB129|TRW=37|TSE=9|TBT=ADULT|TPC=LB|TEV=9943|SMT=C5|TOTP=29943900|T=1648754505"
      },
      {
        "content": "WHEN user returns to the ticket listview\nAND user taps on 'Forward Tickets' button\nAND user selects tickets to forward containing shared secret\nAND user taps 'FORWARD'/'Forward Tickets' button\nAND the user taps on 'Via Email'\n\n",
        "expected": "THEN the app display the Ticket Forward email form"
      },
      {
        "content": "WHEN the user enters the information in the fields provided\nAND the user completes the form and taps on 'Send'",
        "expected": "THEN the app will validate the information provided by the user (the app will the emails standards: some text, an at symbol followed by a domain)\nAND the app will trigger the network call to send the selected tickets to the recipient email address entered by the user"
      },
      {
        "content": "",
        "expected": "THEN the form will slide down and return the user to the list view no longer in \"Forward mode\"\nAND the app will display a success message"
      },
      {
        "content": "WHEN receiving user views scanview of the ticket desired to be forward",
        "expected": "THEN user can visibly witness the barcode change after configured time*\n\n*currently barcode is rotating every 5 secs."
      },
      {
        "content": "[AS ADDITIONAL VALIDATION - YOU CAN USE AN EXTERNAL APP TO VALIDATE THE PAYLOAD]\n\nWHEN user utilizes a Barcode Scanner application from another device*\nAND user scans the rotating barcode\n\n*Android - 'QR & Barcode Scanner'\n*iOS - 'QR Reader'",
        "expected": "THEN the payload of the scan is extracted\nAND Time-based one-time password (TOTP) value is shown within the payload\nAND Timestamp (T) value is shown within the payload\nAND the values should be different than STEP 2\n\nExample:\n@TDC=sandbox|BCT=TI|TBN=QB82-K6UMEBER|TSC=LB129|TRW=37|TSE=9|TBT=ADULT|TPC=LB|TEV=9943|SMT=C5|TOTP=29943900|T=1648754505"
      }
    ]
  },
  {
    "id": 27100310,
    "title": "Recalling Ticket - Rotating Barcode",
    "section_id": 1411011,
    "template_id": 1,
    "type_id": 9,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1649193828,
    "updated_by": 288,
    "updated_on": 1649194380,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 492292,
    "display_order": 3,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user downloaded the Ballpark app (11.1.0 or greater)*\r\nAND user's acct has at least 2 valid tickets in BP\r\nAND the shared secret sent from ProVenue to BoxOffice for particular ticketed event\r\n\r\n*Rotating Barcode feature introduced with 11.1.0 build\r\n\r\n\r\n\r\n\r\n",
    "custom_steps": "GIVEN the user is on the forward mode listview\r\nWHEN user completes a ticket forward containing shared secret\r\nAND user recalls the ticket\r\n\r\n",
    "custom_expected": "THEN receiving user receives the ticket \r\nAND the ticket generates its own shared secret\r\nAND the ticket is returned back to the original sender, after recall is triggered\r\nAND sending user's ticket can be scanned at the gate\r\n",
    "custom_steps_separated": [
      {
        "content": "WHEN user views scanview of the ticket desired to be forward",
        "expected": "THEN user can visibly witness the barcode change after configured time*\n\n*currently barcode is rotating every 5 secs."
      },
      {
        "content": "[AS ADDITIONAL VALIDATION - YOU CAN USE AN EXTERNAL APP TO VALIDATE THE PAYLOAD]\n\nWHEN user utilizes a Barcode Scanner application from another device*\nAND user scans the rotating barcode\n\n*Android - 'QR & Barcode Scanner'\n*iOS - 'QR Reader'",
        "expected": "THEN the payload of the scan is extracted\nAND Time-based one-time password (TOTP) value is shown within the payload\nAND Timestamp (T) value is shown within the payload\n\nExample:\n@TDC=sandbox|BCT=TI|TBN=QB82-K6UMEBER|TSC=LB129|TRW=37|TSE=9|TBT=ADULT|TPC=LB|TEV=9943|SMT=C5|TOTP=29943900|T=1648754505"
      },
      {
        "content": "WHEN user returns to the ticket listview\nAND user taps on 'Forward Tickets' button\nAND user selects tickets to forward containing shared secret\nAND user taps 'FORWARD'/'Forward Tickets' button\nAND the user completes forward\n\n",
        "expected": "THEN the form will slide down and return the user to the list view no longer in \"Forward mode\"\nAND the app will display a success message"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "[BEST TO HAVE ANOTHER DEVICE VALIDATE RECEIVING USER, OTHERWISE WILL NEED TO LOGOUT AND LOGIN AS NEEDED]\n\nWHEN receiving user views scanview of the ticket desired to be forward",
        "expected": "THEN user can visibly witness the barcode change after configured time*\n\n*currently barcode is rotating every 5 secs."
      },
      {
        "content": "[AS ADDITIONAL VALIDATION - YOU CAN USE AN EXTERNAL APP TO VALIDATE THE PAYLOAD]\n\nWHEN user utilizes a Barcode Scanner application from another device*\nAND user scans the rotating barcode\n\n*Android - 'QR & Barcode Scanner'\n*iOS - 'QR Reader'",
        "expected": "THEN the payload of the scan is extracted\nAND Time-based one-time password (TOTP) value is shown within the payload\nAND Timestamp (T) value is shown within the payload\nAND the values should be different than STEP 2\n\nExample:\n@TDC=sandbox|BCT=TI|TBN=QB82-K6UMEBER|TSC=LB129|TRW=37|TSE=9|TBT=ADULT|TPC=LB|TEV=9943|SMT=C5|TOTP=29943900|T=1648754505"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "WHEN ORIGINAL SENDING user returns to the ticket listview\nAND the user recalls the recently completed forward\n\n",
        "expected": "THEN the ticket is returned back to the original sender\nAND user can visibly witness the barcode change after configured time*\n\n*currently barcode is rotating every 5 secs.\n\n"
      },
      {
        "content": "[AS ADDITIONAL VALIDATION - YOU CAN USE AN EXTERNAL APP TO VALIDATE THE PAYLOAD]\n\nWHEN user utilizes a Barcode Scanner application from another device*\nAND user scans the rotating barcode\n\n*Android - 'QR & Barcode Scanner'\n*iOS - 'QR Reader'",
        "expected": "THEN the payload of the scan is extracted\nAND Time-based one-time password (TOTP) value is shown within the payload\nAND Timestamp (T) value is shown within the payload\n\nExample:\n@TDC=sandbox|BCT=TI|TBN=QB82-K6UMEBER|TSC=LB129|TRW=37|TSE=9|TBT=ADULT|TPC=LB|TEV=9943|SMT=C5|TOTP=29943900|T=1648754505"
      }
    ]
  },
  {
    "id": 26967774,
    "title": "Screenshot NOT prevented - both with or without rotating barcode[iOS ONLY]",
    "section_id": 1408202,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "iOS",
    "created_by": 288,
    "created_on": 1648684051,
    "updated_by": 288,
    "updated_on": 1648771348,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 492292,
    "display_order": 1,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user downloaded the Ballpark app (11.1.0 or greater)*\r\nAND user's acct has a valid ticket in BP\r\nAND the shared secret sent from ProVenue to BoxOffice for particular ticketed event\r\n\r\n*Rotating Barcode feature introduced with 11.1.0 build\r\n\r\n(as of April 2022, the following satisfies shared secret being passed)\r\nEnv: QA\r\nAcct: bparkdev+tdc2@gmail.com / MLBmlb123\r\nTicketed Event: Orioles @ Guardians, Sept 1\r\nTicket w/ shared secret: Sec-LB129, Row-37, Seats-9,10",
    "custom_steps": null,
    "custom_expected": "*iOS cannot prevent screenshots. Taking a screenshot does not prevent it from being stored in the gallery.\r\n*iOS can detect screenshots and will notify the fan that screenshots will not work when entering the gate.",
    "custom_steps_separated": [
      {
        "content": "WHEN user views the ticket scanview containing shared secret",
        "expected": "THEN user can visibly witness the barcode change after configured time*\n\n*currently barcode is rotating every 5 secs.\n"
      },
      {
        "content": "WHEN user attempts to take a screenshot of the ticket scanview containing shared secret",
        "expected": "THEN a device prompt is shown with:\n*title: 'Foul Ball'\n*description: 'Screenshots of your ticket will not be accepted for entry. Please use the app for gate access or forwarding'\n*'OK' as only call-to-action\n\nAND the device allows the screenshot of the ticket (including barcode) "
      },
      {
        "content": "WHEN user taps OK on the Foul Ball prompt",
        "expected": "THEN the prompt is dismissed\nAND the ticket scanview is shown"
      }
    ]
  },
  {
    "id": 26967775,
    "title": "Screenshot detection enabled when shared secret configured [iOS]",
    "section_id": 1408202,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "iOS",
    "created_by": 288,
    "created_on": 1648684180,
    "updated_by": 288,
    "updated_on": 1648771960,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 492292,
    "display_order": 2,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user downloaded the Ballpark app (11.1.0 or greater)*\r\nAND user's acct has valid tickets in BP\r\nAND the shared secret sent from ProVenue to BoxOffice for a particular ticketed event\r\nAND the shared secret NOT sent from ProVenue to BoxOffice for another particular ticketed event\r\n\r\n*Rotating Barcode feature introduced with 11.1.0 build\r\n\r\n(as of April 2022, the following satisfies shared secret being passed AND not being passed)\r\nEnv: QA\r\nAcct: bparkdev+tdc2@gmail.com / MLBmlb123\r\nTicketed Event w/ shared secret: Orioles @ Guardians, Sept 1 (Tickets: Sec-LB129, Row-37, Seats-9,10)\r\nTicketed Event w/out shared secret: Astros @ Orioles, Sept 24 (no tickets with rotating barcode)",
    "custom_steps": null,
    "custom_expected": "For tickets configured with rotating barcode, iOS will notify the fan that screenshots will not work when entering the gate.\r\nFor tickets NOT configured with rotating barcode, iOS will NOT notify the fan that screenshots will not work when entering the gate.",
    "custom_steps_separated": [
      {
        "content": "WHEN user views the ticket scanview for ticketed event containing shared secret\nAND user attempts to take a screenshot of the ticket scanview containing shared secret",
        "expected": "THEN a device prompt is shown with:\n*title: 'Foul Ball'\n*description: 'Screenshots of your ticket will not be accepted for entry. Please use the app for gate access or forwarding'\n*'OK' as only call-to-action\n\nAND the device allows the screenshot of the ticket (including barcode)"
      },
      {
        "content": "WHEN user taps OK on the Foul Ball prompt",
        "expected": "THEN the prompt is dismissed\nAND the ticket scanview is shown"
      },
      {
        "content": "WHEN user views the ticket scanview for a ticketed event NOT containing shared secret\nAND user attempts to take a screenshot of the ticket scanview NOT containing shared secret",
        "expected": "THEN the 'Foul Ball' device prompt is NOT shown\nAND the device allows the screenshot of the ticket (including barcode)"
      }
    ]
  },
  {
    "id": 26967776,
    "title": "Screenshot detection enabled for all tickets within an event,  when at least 1 ticket has shared secret configured [iOS]",
    "section_id": 1408202,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "iOS",
    "created_by": 288,
    "created_on": 1648684272,
    "updated_by": 288,
    "updated_on": 1648771936,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 492292,
    "display_order": 3,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user downloaded the Ballpark app (11.1.0 or greater)*\r\nAND user's acct has a valid ticket in BP\r\nAND the shared secret sent from ProVenue to BoxOffice for particular ticketed event\r\n\r\n*Rotating Barcode feature introduced with 11.1.0 build\r\n\r\n(as of April 2022, the following satisfies shared secret being passed)\r\nEnv: QA\r\nAcct: bparkdev+tdc2@gmail.com / MLBmlb123\r\nTicketed Event: Orioles @ Guardians, Sept 1\r\nTicket w/ shared secret: Sec-LB129, Row-37, Seats-9,10\r\nTicket w/out shared secret: All others within the event",
    "custom_steps": null,
    "custom_expected": "For ALL tickets within the event regardless if shared secret is not passed, iOS will notify the fan that screenshots will not work when entering the gate.",
    "custom_steps_separated": [
      {
        "content": "WHEN user views the ticket scanview containing shared secret\nAND user attempts to take a screenshot of the ticket scanview containing shared secret",
        "expected": "THEN a device prompt is shown with:\n*title: 'Foul Ball'\n*description: 'Screenshots of your ticket will not be accepted for entry. Please use the app for gate access or forwarding'\n*'OK' as only call-to-action\n\nAND the device allows the screenshot of the ticket (including barcode)"
      },
      {
        "content": "WHEN user taps OK on the Foul Ball prompt\n",
        "expected": "THEN the prompt is dismissed\nAND the ticket scanview is shown"
      },
      {
        "content": "WHEN user views the ticket scanview NOT containing shared secret but within same ticketed event\nAND user attempts to take a screenshot of the ticket scanview NOT containing shared secret",
        "expected": "THEN a device prompt is shown with:\n*title: 'Foul Ball'\n*description: 'Screenshots of your ticket will not be accepted for entry. Please use the app for gate access or forwarding'\n*'OK' as only call-to-action\n\nAND the device allows the screenshot of the ticket (including barcode)"
      }
    ]
  },
  {
    "id": 28071269,
    "title": "Tracking - Screenshot detection [iOS]",
    "section_id": 1475160,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "iOS",
    "created_by": 288,
    "created_on": 1650998772,
    "updated_by": 288,
    "updated_on": 1651003576,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 492292,
    "display_order": 1,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "**TESTING NOTES: THIS CASE REQUIRES TRACKING TO BE VERIFIED - MOST DIRECT WAY TO ACHIEVE THIS IS VIA A PROXY TOOL (.I.E. CharlesProxy)\r\nSetup: Connect to device to Charles to monitor the content passed.\r\n\r\nGIVEN user downloaded the Ballpark app (11.1.0 or greater)*\r\nAND network traffic is monitored via Charles\r\nAND user's acct has valid tickets in BP\r\nAND the shared secret sent from ProVenue to BoxOffice for a particular ticketed event\r\nAND the shared secret NOT sent from ProVenue to BoxOffice for another particular ticketed event\r\n\r\n*Rotating Barcode feature introduced with 11.1.0 build\r\n\r\n\r\n(as of April 2022, the following satisfies shared secret being passed AND not being passed)\r\nEnv: QA\r\nAcct: bparkdev+tdc2@gmail.com / MLBmlb123\r\nTicketed Event w/ shared secret: Orioles @ Guardians, Sept 1 (Tickets: Sec-LB129, Row-37, Seats-9,10)\r\nTicketed Event w/out shared secret: Astros @ Orioles, Sept 24 (no tickets with rotating barcode)\r\n\r\n",
    "custom_steps": "[BP-9640](https://baseball.atlassian.net/browse/BP-9640):Scan View - Track action for screenshot attempt\r\n\r\nAs a Ballpark product owner, I want to be able to report on screenshot attempts taken on the ticket scan view\r\n\r\nGIVEN user is on the scan view\r\nWHEN I attempt to take a screenshot\r\nTHEN a track action is sent to Adobe\r\n\r\nTracking strings:\r\nNo secret:\r\n*MLB Ballpark : Ticket Scan View : Screenshot\r\nSecret is present:\r\n*MLB Ballpark : Ticket Scan View : Screenshot Foul Ball",
    "custom_expected": "For tickets configured with rotating barcode, iOS will notify the fan that screenshots will not work when entering the gate.\r\nFor tickets NOT configured with rotating barcode, iOS will NOT notify the fan that screenshots will not work when entering the gate.",
    "custom_steps_separated": [
      {
        "content": "WHEN user views the ticket scanview for ticketed event containing shared secret\nAND user attempts to take a screenshot of the ticket scanview containing shared secret",
        "expected": "THEN a device prompt is shown with:\n*title: 'Foul Ball'\n*description: 'Screenshots of your ticket will not be accepted for entry. Please use the app for gate access or forwarding'\n*'OK' as only call-to-action\n\nAND the device allows the screenshot of the ticket (including barcode)"
      },
      {
        "content": "WHEN user taps OK on the Foul Ball prompt",
        "expected": "THEN the prompt is dismissed\nAND the ticket scanview is shown"
      },
      {
        "content": "",
        "expected": "THEN Tracking info is posted to https://mlb.sc.omtrdc.net verified in Charles\n\n*MLB Ballpark : Ticket Scan View : Screenshot Foul Ball"
      },
      {
        "content": "WHEN user views the ticket scanview for a ticketed event NOT containing shared secret\nAND user attempts to take a screenshot of the ticket scanview NOT containing shared secret",
        "expected": "THEN the 'Foul Ball' device prompt is NOT shown\nAND the device allows the screenshot of the ticket (including barcode)"
      },
      {
        "content": "",
        "expected": "THEN Tracking info is posted to https://mlb.sc.omtrdc.net verified in Charles\n\n*MLB Ballpark : Ticket Scan View : Screenshot"
      }
    ]
  },
  {
    "id": 26967777,
    "title": "Screenshot prevented with rotating barcode[Android ONLY]",
    "section_id": 1408203,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "Android",
    "created_by": 288,
    "created_on": 1648684504,
    "updated_by": 288,
    "updated_on": 1648770824,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 492292,
    "display_order": 1,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user downloaded the Ballpark app (11.1.0 or greater)*\r\nAND user's acct has a valid ticket in BP\r\nAND the shared secret sent from ProVenue to BoxOffice for particular ticketed event\r\n\r\n*Rotating Barcode feature introduced with 11.1.0 build\r\n\r\n(as of April 2022, the following satisfies shared secret being passed)\r\nEnv: QA\r\nAcct: bparkdev+tdc2@gmail.com / MLBmlb123\r\nTicketed Event: Orioles @ Guardians, Sept 1\r\nTicket w/ shared secret: Sec-LB129, Row-37, Seats-9,10",
    "custom_steps": null,
    "custom_expected": "Android notifies the fan when a screenshot is taken and prevent it from being stored in the local gallery.\r\n\r\nSome Android devices may allow screenshot to be taken, but image will be completely blacked out with barcode NOT visible.",
    "custom_steps_separated": [
      {
        "content": "WHEN user views the ticket scanview containing shared secret",
        "expected": "THEN user can visibly witness the barcode change after configured time*\n\n*currently barcode is rotating every 5 secs."
      },
      {
        "content": "WHEN user attempts to take a screenshot of the ticket scanview containing shared secret",
        "expected": "THEN the device notifies the user 'Can't take screenshot due to security policy'\n\n*Some Android devices may allow screenshot to be taken, but image will be completely blacked out with barcode NOT visible."
      },
      {
        "content": "",
        "expected": "AND the image is prevented from being stored in the local gallery \n\n*Some Android devices may allow screenshot to be taken, but image will be completely blacked out with barcode NOT visible."
      }
    ]
  },
  {
    "id": 26967778,
    "title": "Screenshot detection enabled when shared secret configured [ANDROID]",
    "section_id": 1408203,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "Android",
    "created_by": 288,
    "created_on": 1648684504,
    "updated_by": 288,
    "updated_on": 1648771973,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 492292,
    "display_order": 2,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user downloaded the Ballpark app (11.1.0 or greater)*\r\nAND user's acct has valid tickets in BP\r\nAND the shared secret sent from ProVenue to BoxOffice for a particular ticketed event\r\nAND the shared secret NOT sent from ProVenue to BoxOffice for another particular ticketed event\r\n\r\n*Rotating Barcode feature introduced with 11.1.0 build\r\n\r\n(as of April 2022, the following satisfies shared secret being passed AND not being passed)\r\nEnv: QA\r\nAcct: bparkdev+tdc2@gmail.com / MLBmlb123\r\nTicketed Event w/ shared secret: Orioles @ Guardians, Sept 1 (Tickets: Sec-LB129, Row-37, Seats-9,10)\r\nTicketed Event w/out shared secret: Astros @ Orioles, Sept 24 (no tickets with rotating barcode)\r\n",
    "custom_steps": null,
    "custom_expected": "For tickets configured with rotating barcode, Android notifies the fan when a screenshot is taken and prevent it from being stored in the local gallery.*\r\nFor tickets NOT configured with rotating barcode, Android does NOT prevent the fan from taking a screenshot NOR does it prevent image from being stored in the local gallery.\r\n\r\n\r\n*Some Android devices may allow screenshot to be taken, but image will be completely blacked out with barcode NOT visible.",
    "custom_steps_separated": [
      {
        "content": "WHEN user views the ticket scanview containing shared secret\nAND user attempts to take a screenshot of the ticket scanview containing shared secret",
        "expected": "THEN the device notifies the user 'Can't take screenshot due to security policy'\nAND the image is prevented from being stored in the local gallery\n\n*Some Android devices may allow screenshot to be taken, but image will be completely blacked out with barcode NOT visible."
      },
      {
        "content": "WHEN user views the ticket scanview NOT containing shared secret\nAND user attempts to take a screenshot of the ticket scanview NOT containing shared secret",
        "expected": "THEN the device does NOT prevent the fan from taking a screenshot \nAND the device does NOT prevent image from being stored in the local gallery"
      },
      {
        "content": "WHEN user views image gallery on device",
        "expected": "THEN the images of the ticket without shared secret (taken from prev step) is stored"
      }
    ]
  },
  {
    "id": 26967779,
    "title": "Screenshot detection enabled for all tickets within an event,  when at least 1 ticket has shared secret configured [ANDROID]",
    "section_id": 1408203,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "Android",
    "created_by": 288,
    "created_on": 1648684504,
    "updated_by": 288,
    "updated_on": 1648771977,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 492292,
    "display_order": 3,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user downloaded the Ballpark app (11.1.0 or greater)*\r\nAND user's acct has a valid ticket in BP\r\nAND the shared secret sent from ProVenue to BoxOffice for particular ticketed event\r\n\r\n*Rotating Barcode feature introduced with 11.1.0 build\r\n\r\n(as of April 2022, the following satisfies shared secret being passed)\r\nEnv: QA\r\nAcct: bparkdev+tdc2@gmail.com / MLBmlb123\r\nTicketed Event: Orioles @ Guardians, Sept 1\r\nTicket w/ shared secret: Sec-LB129, Row-37, Seats-9,10\r\nTicket w/out shared secret: All others within the event\r\n",
    "custom_steps": null,
    "custom_expected": "For ALL tickets within the event regardless if shared secret is not passed, Android notifies the fan when a screenshot is taken and prevent it from being stored in the local gallery \r\n\r\n*Some Android devices may allow screenshot to be taken, but image will be completely blacked out with barcode NOT visible.",
    "custom_steps_separated": [
      {
        "content": "WHEN user views the ticket scanview containing shared secret\nAND user attempts to take a screenshot of the ticket scanview containing shared secret",
        "expected": "THEN the device notifies the user 'Can't take screenshot due to security policy'\nAND the image is prevented from being stored in the local gallery\n\n*Some Android devices may allow screenshot to be taken, but image will be completely blacked out with barcode NOT visible."
      },
      {
        "content": "WHEN user views the ticket scanview NOT containing shared secret\nAND user attempts to take a screenshot of the ticket scanview NOT containing shared secret",
        "expected": "THEN the device notifies the user 'Can't take screenshot due to security policy'\nAND the image is prevented from being stored in the local gallery\n\n*Some Android devices may allow screenshot to be taken, but image will be completely blacked out with barcode NOT visible."
      },
      {
        "content": "WHEN user views image gallery on device",
        "expected": "THEN no images of the tickets have been stored (taken from both prev steps)\n\n*Some Android devices may allow screenshot to be stored, but image will be completely blacked out with barcode NOT visible."
      }
    ]
  },
  {
    "id": 26965454,
    "title": "No Network Connection (Tickets not all cached)",
    "section_id": 1404235,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1648652723,
    "updated_by": 288,
    "updated_on": 1649182630,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 492292,
    "display_order": 3,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user downloaded the Ballpark app (11.1.0 or greater)*\r\nAND user's acct has a valid ticket in BP\r\nAND the shared secret sent from ProVenue to BoxOffice for particular ticketed event\r\n\r\n*Rotating Barcode feature introduced with 11.1.0 build",
    "custom_steps": "GIVEN that I have ticket in BP\r\nAND I have previously viewed one ticket in BP\r\nAND my mobile device is having network connection issues\r\nWHEN each ticket is scanned at the gate (including the tickets not prev viewed)\r\n",
    "custom_expected": "THEN I should be allowed entry into the park",
    "custom_steps_separated": [
      {
        "content": "GIVEN BP app is connected to the network\nWHEN user views the ticket scanview containing shared secret for only ONE ticket",
        "expected": "THEN user can visibly witness the barcode change after configured time* for tickets that have been configured with shared secret\n\n*currently barcode is rotating every 5 secs."
      },
      {
        "content": "\t\n[AS ADDITIONAL VALIDATION - YOU CAN USE AN EXTERNAL APP TO VALIDATE THE PAYLOAD]\n\nWHEN user utilizes a Barcode Scanner application from another device*\nAND user scans the rotating barcode\n\n*Android - 'QR & Barcode Scanner'\n*iOS - 'QR Reader'",
        "expected": "THEN the payload of the scan is extracted\nAND Time-based one-time password (TOTP) value is shown within the payload\nAND Timestamp (T) value is shown within the payload\n\nExample:\n@TDC=sandbox|BCT=TI|TBN=QB82-K6UMEBER|TSC=LB129|TRW=37|TSE=9|TBT=ADULT|TPC=LB|TEV=9943|SMT=C5|TOTP=29943900|T=1648754505"
      },
      {
        "content": "WHEN the Network Access is turned off for BP app\nAND user views the ticket scanview for ALL tickets",
        "expected": "THEN user can visibly witness the barcode change after configured time* for tickets that have been configured with shared secret\n\n*(if not all tickets have secret) AND user can visibly witness the barcode remain after configured time for tickets that have not been configured with shared secret"
      },
      {
        "content": "[AS ADDITIONAL VALIDATION - YOU CAN USE AN EXTERNAL APP TO VALIDATE THE PAYLOAD]\n\nWHEN user utilizes a Barcode Scanner application from another device*\nAND user scans the rotating barcode\n\n*Android - 'QR & Barcode Scanner'\n*iOS - 'QR Reader'",
        "expected": "THEN the payload of the scan is extracted\nAND Time-based one-time password (TOTP) value is shown within the payload\nAND Timestamp (T) value is shown within the payload\nAND the values should be different than STEP 2\n\nExample:\n@TDC=sandbox|BCT=TI|TBN=QB82-K6UMEBER|TSC=LB129|TRW=37|TSE=9|TBT=ADULT|TPC=LB|TEV=9943|SMT=C5|TOTP=29943900|T=1648754505"
      },
      {
        "content": "[ADDITIONAL VALIDATION CAN BE COMPLETED BY ALFRED/SCANNER]\n\nWHEN the Network Access is turned off for BP app\nAND the tickets are scanned at the gate",
        "expected": "THEN scan should be successful\nAND ticket should be noted as scanned within the listview, indicated by a grey checkmark on the left with ticket info's text color grey\nAND ticket should be noted as scanned within the scanview, indicated by a green checkmark on the ticket"
      }
    ]
  },
  {
    "id": 26965453,
    "title": "No Network Connection (Tickets cached)",
    "section_id": 1404235,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1648652713,
    "updated_by": 288,
    "updated_on": 1649182915,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 492292,
    "display_order": 4,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN user downloaded the Ballpark app (11.1.0 or greater)*\r\nAND user's acct has a valid ticket in BP\r\nAND the shared secret sent from ProVenue to BoxOffice for particular ticketed event\r\n\r\n*Rotating Barcode feature introduced with 11.1.0 build",
    "custom_steps": "GIVEN that I have ticket in BP\r\nAND I have previously viewed all the tickets in BP\r\nAND my mobile device is having network connection issues\r\nWHEN the ticket is scanned at the gate\r\n",
    "custom_expected": "THEN I should be allowed entry into the park",
    "custom_steps_separated": [
      {
        "content": "GIVEN BP app is connected to the network\nWHEN user views the ticket scanview containing shared secret for all tickets",
        "expected": "THEN user can visibly witness the barcode change after configured time* for tickets that have been configured with shared secret\nAND user can visibly witness the barcode remain after configured time for tickets that have not been configured with shared secret\n\n*currently barcode is rotating every 5 secs."
      },
      {
        "content": "[AS ADDITIONAL VALIDATION - YOU CAN USE AN EXTERNAL APP TO VALIDATE THE PAYLOAD]\n\nWHEN user utilizes a Barcode Scanner application from another device*\nAND user scans the rotating barcode\n\n*Android - 'QR & Barcode Scanner'\n*iOS - 'QR Reader'",
        "expected": "THEN the payload of the scan is extracted\nAND Time-based one-time password (TOTP) value is shown within the payload\nAND Timestamp (T) value is shown within the payload\n\nExample:\n@TDC=sandbox|BCT=TI|TBN=QB82-K6UMEBER|TSC=LB129|TRW=37|TSE=9|TBT=ADULT|TPC=LB|TEV=9943|SMT=C5|TOTP=29943900|T=1648754505"
      },
      {
        "content": "WHEN the Network Access is turned off for BP app\nAND user views the ticket scanview containing shared secret for all tickets",
        "expected": "THEN user can visibly witness the barcode change after configured time* for tickets that have been configured with shared secret\n\n*(if not all tickets have secret) AND user can visibly witness the barcode remain after configured time for tickets that have not been configured with shared secret "
      },
      {
        "content": "[AS ADDITIONAL VALIDATION - YOU CAN USE AN EXTERNAL APP TO VALIDATE THE PAYLOAD]\n\nWHEN user utilizes a Barcode Scanner application from another device*\nAND user scans the rotating barcode\n\n*Android - 'QR & Barcode Scanner'\n*iOS - 'QR Reader'",
        "expected": "THEN the payload of the scan is extracted\nAND Time-based one-time password (TOTP) value is shown within the payload\nAND Timestamp (T) value is shown within the payload\nAND the values should be different than STEP 2\n\nExample:\n@TDC=sandbox|BCT=TI|TBN=QB82-K6UMEBER|TSC=LB129|TRW=37|TSE=9|TBT=ADULT|TPC=LB|TEV=9943|SMT=C5|TOTP=29943900|T=1648754505"
      },
      {
        "content": "[ADDITIONAL VALIDATION CAN BE COMPLETED BY ALFRED/SCANNER]\n\nWHEN the Network Access is turned off for BP app\nAND the tickets are scanned at the gate",
        "expected": "THEN scan should be successful\nAND ticket should be noted as scanned within the listview, indicated by a grey checkmark on the left with ticket info's text color grey\nAND ticket should be noted as scanned within the scanview, indicated by a green checkmark on the ticket\n"
      }
    ]
  },
  {
    "id": 30511543,
    "title": "Scan a Ballpark App Ticket - 2D Non-Enhanced PDF417 Barcode",
    "section_id": 1674002,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 365,
    "created_on": 1682691943,
    "updated_by": 365,
    "updated_on": 1682691943,
    "estimate": "4m",
    "estimate_forecast": "4m",
    "suite_id": 492292,
    "display_order": 3,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN The pre-conditions from [C30015118] have been satisfied\nAND I have purchased or acquired a ProVenue ticket\nAND My ticket is in the Ballpark app\nAND The rendered barcode is a 2D Non-Enhanced PDF417 barcode\n",
    "custom_steps": "WHEN the ticket is scanned",
    "custom_expected": "THEN Alfred will decode the barcode\nAND perform ticket validation",
    "custom_steps_separated": null
  },
  {
    "id": 30511544,
    "title": "Scan a Ballpark App Ticket - 2D Non-Enhanced QRCODE Barcode",
    "section_id": 1674002,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 365,
    "created_on": 1682691943,
    "updated_by": 365,
    "updated_on": 1682691943,
    "estimate": "4m",
    "estimate_forecast": "4m",
    "suite_id": 492292,
    "display_order": 4,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN The pre-conditions from [C30015118] have been satisfied\nAND I have purchased or acquired a ProVenue ticket\nAND My ticket is in the Ballpark app\nAND The rendered barcode is a 2D Non-Enhanced QRCODE barcode",
    "custom_steps": "WHEN the ticket is scanned",
    "custom_expected": "THEN Alfred will decode the 13 character barcode\nAND perform a ticket validation",
    "custom_steps_separated": null
  }
]