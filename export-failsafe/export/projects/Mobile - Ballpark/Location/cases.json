[
  {
    "id": 17508144,
    "title": "Pre-existing user - Location Disabled  *[requires proxy]",
    "section_id": 837756,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1623709661,
    "updated_by": 288,
    "updated_on": 1667248505,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 1,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "Setup: Connect to device to Charles to monitor the location content passed to HomeService.\r\n\r\n\r\n\r\nGIVEN Ballpark app is installed (10.3.0 or greater)\r\nAND user in logged into BP\r\nAND network traffic is monitored via Charles\r\n\r\n",
    "custom_steps": "WHEN user has location disabled for BP app",
    "custom_expected": "THEN location coordinates is NOT passed from the device to Home Service\r\n\r\nHost URL: https://bphometab.mobile.mlbinfra.com/api/firestore/v1\r\n\r\n*Sample Request(javascript) w/out location passed\r\n{\r\n\t\"favoriteTeamIDs\": [115, 118, 146],\r\n\t\"refresh\": false,\r\n\t\"timeZone\": \"America/Denver\"\r\n} \r\n\r\n*Sample Request(javascript) with location passed\r\n{\r\n\t\"coordinates\": {\r\n\t\t\"accuracy\": \"precise\",\r\n\t\t\"lastUpdated\": 1623711765523,\r\n\t\t\"lat\": 42.50702323227928,\r\n\t\t\"lon\": -87.82983507961035\r\n\t},\r\n\t\"favoriteTeamIDs\": [115, 118, 146],\r\n\t\"refresh\": false,\r\n\t\"timeZone\": \"America/Denver\"\r\n}\r\n",
    "custom_steps_separated": [
      {
        "content": "WHEN user has location disabled for BP app (can be set through device settings)\nAND user taps on Home tab from any other page on the BP app",
        "expected": "THEN user is shown the Home Page"
      },
      {
        "content": "WHEN network traffic is monitored via Charles",
        "expected": "THEN location coordinates is NOT passed from the device to Home Service\n\n\n"
      }
    ]
  },
  {
    "id": 17508145,
    "title": "Pre-existing user - Location Enabled  *[requires proxy]",
    "section_id": 837756,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1623709669,
    "updated_by": 288,
    "updated_on": 1667248539,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 2,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "Setup: Connect to device to Charles to monitor the location content passed to HomeService.\r\n\r\nGIVEN Ballpark app is installed (10.3.0 or greater)\r\nAND user in logged into BP\r\nAND network traffic is monitored via Charles\r\n\r\n",
    "custom_steps": "WHEN user has location enabled for BP app",
    "custom_expected": "THEN location coordinates IS passed from the device to Home Service\r\n\r\nHost URL: https://bphometab.mobile.mlbinfra.com/api/firestore/v1\r\n\r\n*Sample Request(javascript) with location passed\r\n{\r\n\t\"coordinates\": {\r\n\t\t\"accuracy\": \"precise\",\r\n\t\t\"lastUpdated\": 1623711765523,\r\n\t\t\"lat\": 42.50702323227928,\r\n\t\t\"lon\": -87.82983507961035\r\n\t},\r\n\t\"favoriteTeamIDs\": [115, 118, 146],\r\n\t\"refresh\": false,\r\n\t\"timeZone\": \"America/Denver\"\r\n}\r\n",
    "custom_steps_separated": [
      {
        "content": "WHEN user has location enabled for BP app **\nAND user taps on Home tab from any other page on the BP app\n\n** can be set through device settings",
        "expected": "THEN user is shown the Home Page"
      },
      {
        "content": "WHEN network traffic is monitored via Charles",
        "expected": "THEN location coordinates IS passed from the device to Home Service containing accuracy, lat/lon values, and lastUpdated time value(integer).\n\n\"coordinates\": {\n\t\"accuracy\": \"precise\",\n\t\"lastUpdated\": 1623711765523,\n\t\"lat\": 42.50702323227928,\n\t\"lon\": -87.82983507961035\n},\n\nNOTE: ANDROID only/always passes 'precise' for OS prior to ver 12. Android OS 12 and after allows for both 'imprecise' and 'precise'"
      },
      {
        "content": "WHEN user awaits a given time **\n\n** may be best to set iOS to 'imprecise' to allow for lastUpdated to increment\n ",
        "expected": "THEN lastUpdated value has incremented the surpassed time\n\nAs example:\nCall 1: lastUpdated => 14:11:57 (1621368716461)\nCall 2: lastUpdated => 14:31:16 (1621369876255)\n\nDifference - 19mins 19 sec = (1159 sec) => 1159794 (last 3 digits represent milliseconds)\n\nNOTE: lat/lon values should have minor/negligible changes as device hasn't changed locations\n\n "
      }
    ]
  },
  {
    "id": 17508146,
    "title": "Pre-existing user - Location Enabled - Mocked locations *[requires proxy/configuration]",
    "section_id": 837756,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1623709708,
    "updated_by": 288,
    "updated_on": 1667248585,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 3,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "Setup: \r\n* Connect to device to Charles to monitor the location content passed to HomeService.\r\n* Ability to mock locations (via FakeGPS or DevTools within App)\r\n\r\nGIVEN Ballpark app is installed (10.3.0 or greater)\r\nAND user in logged into BP\r\nAND network traffic is monitored via Charles",
    "custom_steps": "WHEN user has location enabled for BP app\r\nAND user is located(mock) in different locations",
    "custom_expected": "THEN location coordinates IS passed from the device to Home Service for different locations\r\n\r\nHost URL: https://bphometab.mobile.mlbinfra.com/api/firestore/v1\r\n\r\n*Sample Request(javascript) with location passed\r\n{\r\n\t\"coordinates\": {\r\n\t\t\"accuracy\": \"precise\",\r\n\t\t\"lastUpdated\": 1623711765523,\r\n\t\t\"lat\": 42.50702323227928,\r\n\t\t\"lon\": -87.82983507961035\r\n\t},\r\n\t\"favoriteTeamIDs\": [115, 118, 146],\r\n\t\"refresh\": false,\r\n\t\"timeZone\": \"America/Denver\"\r\n}\r\n\r\n* ",
    "custom_steps_separated": [
      {
        "content": "WHEN user has location enabled for BP app\nAND location of the device has been set for San Francisco, California\nAND user taps on Home tab from any other page on the BP app",
        "expected": "THEN user is shown the Home Page"
      },
      {
        "content": "",
        "expected": "THEN location coordinates specific to San Francisco, California IS passed from the device to Home Service containing accuracy, lat/lon values, and lastUpdated time value(integer).\n\n\"coordinates\": {\n\t\"accuracy\": \"precise\",\n\t\"lastUpdated\": 1623711765523,\n\t\"lat\": SF_lat,\n\t\"lon\": SF_long\n},\n\nSF = lat/long(37.703425/-122.448245) roughly\n"
      },
      {
        "content": "WHEN location of the device has been set for New York, New York",
        "expected": "THEN location coordinates specific to New York, New York IS passed from the device to Home Service containing accuracy, lat/lon values, and lastUpdated time value(integer).\n\n\"coordinates\": {\n\t\"accuracy\": \"precise\",\n\t\"lastUpdated\": 1623711765523,\n\t\"lat\": NY_lat,\n\t\"lon\": NY_long\n},\n\nNY = lat/long(40.712354/-74.000898) roughly"
      },
      {
        "content": "WHEN location of the device has been set for Chicago, Illinois ",
        "expected": "THEN location coordinates specific to Chicago, Illinois IS passed from the device to Home Service containing accuracy, lat/lon values, and lastUpdated time value(integer).\n\n\"coordinates\": {\n\t\"accuracy\": \"precise\",\n\t\"lastUpdated\": 1623711765523,\n\t\"lat\": CHI_lat,\n\t\"lon\": CHI_long\n},\n\nCHI = lat/long(41.948296/-87.655546) roughly"
      },
      {
        "content": "WHEN location of the device has been set for Toronto, Canada",
        "expected": "THEN location coordinates specific to Toronto, Canada IS passed from the device to Home Service containing accuracy, lat/lon values, and lastUpdated time value(integer).\n\n\"coordinates\": {\n\t\"accuracy\": \"precise\",\n\t\"lastUpdated\": 1623711765523,\n\t\"lat\": TOR_lat,\n\t\"lon\": TOR_long\n},\n\nTOR = lat/long(43.634742/-79.380839) roughly "
      }
    ]
  },
  {
    "id": 17508147,
    "title": "Onboarding user - Location Disabled by Default *[requires proxy]",
    "section_id": 837756,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1623709762,
    "updated_by": 288,
    "updated_on": 1667248679,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 4,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "GIVEN Ballpark app is not prev installed\r\n",
    "custom_steps": "WHEN Ballpark app is installed (10.3.0 or greater)",
    "custom_expected": "THEN location coordinates is NOT passed from the device to Home Service\r\n\r\nHost URL: https://bphometab.mobile.mlbinfra.com/api/firestore/v1\r\n\r\n*Sample Request(javascript) w/out location passed\r\n{\r\n\t\"favoriteTeamIDs\": [115, 118, 146],\r\n\t\"refresh\": false,\r\n\t\"timeZone\": \"America/Denver\"\r\n} \r\n\r\n*Sample Request(javascript) with location passed\r\n{\r\n\t\"coordinates\": {\r\n\t\t\"accuracy\": \"precise\",\r\n\t\t\"lastUpdated\": 1623711765523,\r\n\t\t\"lat\": 42.50702323227928,\r\n\t\t\"lon\": -87.82983507961035\r\n\t},\r\n\t\"favoriteTeamIDs\": [115, 118, 146],\r\n\t\"refresh\": false,\r\n\t\"timeZone\": \"America/Denver\"\r\n}\r\n",
    "custom_steps_separated": [
      {
        "content": "WHEN Ballpark app is installed (10.3.0 or greater)",
        "expected": "THEN user is shown the BP app's splash screen"
      },
      {
        "content": "[ANDROID] WHEN user taps 'Get Started' button\nOR\n[iOS] WHEN user taps 'Don't have an account? Sign up' link\n\n[BOTH]\nAND user provides First/Last Name, unused email, password, eligible DOB",
        "expected": "THEN user is shown the Home Page"
      },
      {
        "content": "WHEN network traffic is monitored via Charles\nAND user taps on Home tab from any other page on the BP app\n\nSetup: Connect to device to Charles to monitor the location content passed to HomeService.",
        "expected": "THEN location coordinates is NOT passed from the device to Home Service"
      }
    ]
  },
  {
    "id": 21117748,
    "title": "[LegacyHome] Onboarding user, NO Location (by Default)  *[requires mock loc app/service]",
    "section_id": 1145488,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1626384748,
    "updated_by": 288,
    "updated_on": 1736892856,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 1,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": true,
    "custom_preconds": "https://baseball.atlassian.net/browse/BPA-6164\r\nhttps://baseball.atlassian.net/browse/BP-9336\r\n\r\nGIVEN an install of BP app (11.4.0 or greater)\r\n\r\n",
    "custom_steps": "WHEN a fan is on the HomeTab\r\n\r\n",
    "custom_expected": "THEN the HomePage will show a toast with 'No Location' \r\nAND the HomePage will show a CTA to 'Change my location'",
    "custom_steps_separated": [
      {
        "content": "WHEN the user is on the HomeTab after completing onboarding of a new acct",
        "expected": "THEN 'No Location' text is displayed \nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user updates the geographic location ** \nAND the user is on the HomeTab\n\n** (can be mocked using FakeGPS or similar)",
        "expected": "THEN 'No Location' text remains displayed \nAND 'Change my location' CTA remains displayed"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN 'No Location' text remains displayed \nAND 'Change my location' CTA remains displayed"
      }
    ]
  },
  {
    "id": 21118259,
    "title": "[LegacyHome] Existing user, NO Location  *[requires mock loc app/service]",
    "section_id": 1145488,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1626387173,
    "updated_by": 288,
    "updated_on": 1736892863,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 4,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": true,
    "custom_preconds": "https://baseball.atlassian.net/browse/BPA-6164\r\nhttps://baseball.atlassian.net/browse/BP-9336\r\n\r\nGIVEN an existing user DOES NOT have device location enable **\r\n\r\n** set to 'Never'/'Deny'",
    "custom_steps": "WHEN a fan is on the HomeTab\r\n\r\n",
    "custom_expected": "THEN the HomePage will show a toast with 'No Location' \r\nAND the HomePage will show a CTA to 'Change my location'",
    "custom_steps_separated": [
      {
        "content": "GIVEN the device location is set to 'Never'/'Deny'/'Don't allow'\nWHEN the existing user is on the HomeTab",
        "expected": "THEN 'No Location' text is displayed \nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user updates the geographic location ** \nAND the user is on the HomeTab\n\n** (can be mocked using FakeGPS or similar)",
        "expected": "THEN 'No Location' text remains displayed\nAND 'Change my location' CTA remains displayed"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN 'No Location' text remains displayed\nAND 'Change my location' CTA remains displayed"
      }
    ]
  },
  {
    "id": 34425308,
    "title": "[NewHome] Onboarding user, NO Location (by Default)  *[requires mock loc app/service]",
    "section_id": 1594182,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1734632237,
    "updated_by": 288,
    "updated_on": 1734633441,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 1,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "[BP-10993](https://baseball.atlassian.net/browse/BP-10993 )\r\n\r\nGIVEN the user downloaded the Ballpark app*\r\nAnd user does not have an acct in MLB\r\nAND user onboards a new account successfully\r\n\r\n*iOS - v14.0.1 (local feature flag enabled) - currently intended for default enablement on v14.1.0\r\n\r\n",
    "custom_steps": "WHEN a fan is on the HomeTab\r\n\r\n",
    "custom_expected": "THEN user is displayed the system location enablement prompt \r\nAND user's selection is saved for future sessions ",
    "custom_steps_separated": [
      {
        "content": "WHEN the user is on the HomeTab after completing onboarding of a new acct",
        "expected": "THEN user is displayed the system location prompt"
      },
      {
        "content": "WHEN the system location prompt is displayed",
        "expected": "THEN prompt header text - “Allow Ballpark to use your location” is displayed\n\nAND \"Unlock the full Ballpark experience by granting location access. Enjoy quick venue check-ins, detailed maps, and game suggestions tailored to your location.\" is displayed above the CTAs\n\nAND 'Allow Once', 'Allow While Using App', and 'Don't Allow' ctas are presented to user\n\n"
      }
    ]
  },
  {
    "id": 34425309,
    "title": "[NewHome] Existing user, NO Location  *[requires mock loc app/service]",
    "section_id": 1594182,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1734632237,
    "updated_by": 288,
    "updated_on": 1734633625,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 2,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "[BP-10993](https://baseball.atlassian.net/browse/BP-10993 )\r\n\r\nGIVEN the user downloaded the Ballpark app*\r\nAND existing user DOES NOT have device location enable **\r\n\r\n*iOS - v14.0.1 (local feature flag enabled) - currently intended for default enablement on v14.1.0\r\n** set to 'Allow Once'/'Never'/'Deny'",
    "custom_steps": "WHEN a fan is on the HomeTab\r\n\r\n",
    "custom_expected": "THEN user is displayed the system location enablement prompt\r\nAND user's selection is saved for future sessions",
    "custom_steps_separated": [
      {
        "content": "GIVEN the device location is set to 'Allow Once'/Never'/'Deny'/'Don't allow'\nWHEN the existing user is on the HomeTab",
        "expected": "THEN user is displayed the system location prompt"
      },
      {
        "content": "WHEN the system location prompt is displayed",
        "expected": "\t\nTHEN prompt header text - “Allow Ballpark to use your location” is displayed\n\nAND \"Unlock the full Ballpark experience by granting location access. Enjoy quick venue check-ins, detailed maps, and game suggestions tailored to your location.\" is displayed above the CTAs\n\nAND 'Allow Once', 'Allow While Using App', and 'Don't Allow' ctas are presented to user"
      }
    ]
  },
  {
    "id": 34425315,
    "title": "[iOS] Allow Once CTA",
    "section_id": 1594182,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1734634403,
    "updated_by": 288,
    "updated_on": 1736890950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 3,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": true,
    "custom_preconds": "[BP-10993](https://baseball.atlassian.net/browse/BP-10993 )\r\n[BP-10992](https://baseball.atlassian.net/browse/BP-10992 )\r\n\r\nGIVEN the user downloaded the Ballpark app*\r\nAND user DOES NOT have device location enable **\r\n\r\n*iOS - v14.0.1 (local feature flag enabled) - currently intended for default enablement on v14.1.0\r\n** set to 'Allow Once'/'Never'/'Deny'",
    "custom_steps": "WHEN a fan is on the HomeTab\r\nAND user is displayed the system location enablement prompt\r\nAND user selects 'Allow Once' on the system location enablement prompt\r\n",
    "custom_expected": "THEN user's selection is saved for future sessions",
    "custom_steps_separated": [
      {
        "content": "WHEN user is displayed the system location enablement prompt\nAND user selects 'Allow Once' on the system location enablement prompt",
        "expected": "THEN after upon selection of ‘allow once’ or 'allow when using app”, the user is displayed closest geolocated city\n\n"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN user is displayed the system location enablement prompt\n"
      }
    ]
  },
  {
    "id": 34425318,
    "title": "[iOS] Allow While Using App CTA",
    "section_id": 1594182,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1734635222,
    "updated_by": 288,
    "updated_on": 1736890932,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 4,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": true,
    "custom_preconds": "[BP-10993](https://baseball.atlassian.net/browse/BP-10993 )\r\n[BP-10992](https://baseball.atlassian.net/browse/BP-10992 )\r\n\r\nGIVEN the user downloaded the Ballpark app*\r\nAND user DOES NOT have device location enable **\r\n\r\n*iOS - v14.0.1 (local feature flag enabled) - currently intended for default enablement on v14.1.0\r\n** set to 'Allow Once'/'Never'/'Deny'",
    "custom_steps": "WHEN a fan is on the HomeTab\r\nAND user is displayed the system location enablement prompt\r\nAND user selects 'Allow While Using App' on the system location enablement prompt\r\n",
    "custom_expected": "THEN user's selection is saved for future sessions",
    "custom_steps_separated": [
      {
        "content": "WHEN user is displayed the system location enablement prompt\nAND user selects 'Allow While Using App' on the system location enablement prompt",
        "expected": "THEN after upon selection of ‘allow once’ or 'allow when using app”, the user is displayed closest geolocated city\n\n"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN user is NOT displayed the system location enablement prompt\n"
      }
    ]
  },
  {
    "id": 34425319,
    "title": "[iOS] Don't Allow CTA",
    "section_id": 1594182,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1734635450,
    "updated_by": 288,
    "updated_on": 1736891791,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 5,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": true,
    "custom_preconds": "[BP-10993](https://baseball.atlassian.net/browse/BP-10993 )\r\n[BP-10992](https://baseball.atlassian.net/browse/BP-10992 )\r\n\r\nGIVEN the user downloaded the Ballpark app*\r\nAND user DOES NOT have device location enable **\r\n\r\n*iOS - v14.0.1 (local feature flag enabled) - currently intended for default enablement on v14.1.0\r\n** set to 'Allow Once'/'Never'/'Deny'",
    "custom_steps": "WHEN a fan is on the HomeTab\r\nAND user is displayed the system location enablement prompt\r\nAND user selects 'Don't Allow' on the system location enablement prompt\r\n",
    "custom_expected": "THEN user's selection is saved for future sessions",
    "custom_steps_separated": [
      {
        "content": "WHEN user is displayed the system location enablement prompt\nAND user selects 'Don't Allow' on the system location enablement prompt",
        "expected": "THEN the sys loc prompt is dismissed \nAND the user is NOT displayed closest geolocated team next home game\nAND the user is displayed location enablement prompt within the ‘upcoming games’   (may need to scroll down to bottom of the Home page)\n"
      },
      {
        "content": "WHEN user is displayed location enablement prompt within the ‘upcoming games’ \n\n\n\n",
        "expected": "THEN the user is displayed \"Don't miss out on the action!\"\nAND the user is displayed \"Enable location sharing to discover upcoming MLB games near you, personalized experiences, exclusive in-venue content, and more.\nAND the user is displayed \"Enable Location\" cta"
      },
      {
        "content": "WHEN user taps CTA to ‘enable location’ \n\n",
        "expected": "THEN user is directed to system settings "
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN user is NOT displayed the system location enablement prompt\n"
      },
      {
        "content": "WHEN user scrolls to the bottom of the Home page",
        "expected": "THEN the user is displayed \"Don't miss out on the action!\"\nAND the user is displayed \"Enable location sharing to discover upcoming MLB games near you, personalized experiences, exclusive in-venue content, and more.\nAND the user is displayed \"Enable Location\" cta"
      }
    ]
  },
  {
    "id": 34425310,
    "title": "[iOS] Existing user, Precise Location - Show city / state based on location *[requires mock loc via DevTools]",
    "section_id": 2004547,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "iOS",
    "created_by": 288,
    "created_on": 1734633835,
    "updated_by": 288,
    "updated_on": 1736901272,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 1,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": true,
    "custom_preconds": "[BP-9336](https://baseball.atlassian.net/browse/BP-9336)\r\n\r\nGIVEN user has Debug BP app installed*\r\nGIVEN a fan has device location enabled **\r\nAND the device location for Precise is set ON ***\r\n\r\n\r\n*Debug BP app is needed to simulate different venue locations - Navigate to More>AboutBP>DevTools<ChangeGPS\r\n**'Ask Next Time', 'While Using the App', 'Always'\r\n***Precise setting is applicable for iOS (all supported versions)",
    "custom_steps": "WHEN a fan is on the HomeTab\r\n\r\n",
    "custom_expected": "THEN we will show a toast with the city/state in the format: \"Boulder, CO\" or \"New York, NY\"\r\nAND no CTA is present to change location",
    "custom_steps_separated": [
      {
        "content": "GIVEN the device location is set to 'Ask Next Time'\nAND the device location for Precise is set ON\n\nWHEN the existing user is on the HomeTab\n\n** note: when changing the device location, restarting the app to witness the change may be necessary",
        "expected": "THEN 'No Location' text is displayed\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user updates the geographic location ** \nAND the existing user is on the HomeTab\n\n** (can be mocked using Debug BP app - Navigate to More>AboutBP>DevTools<ChangeGPS )\n",
        "expected": "THEN 'No Location' text is displayed\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN 'No Location' text is displayed \nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "GIVEN the device location is set to 'While Using the App'\nAND the device location for Precise is set ON\n\nWHEN the existing user is on the HomeTab\n\n** note: when changing the device location, restarting the app to witness the change may be necessary",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA' \nAND no CTA is present to change location\n\n*BP ver 10.5.0 introduces header img/text when located at venue and would replace the city loc text/CTA"
      },
      {
        "content": "WHEN the user updates the geographic location ** \nAND the existing user is on the HomeTab\n\n** (can be mocked using Debug BP app - Navigate to More>AboutBP>DevTools<ChangeGPS )",
        "expected": "THEN the location of the device is updated to display the new geographic location\nAND no CTA is present to change location\n\n*BP ver 10.5.0 introduces header img/text when located at venue and would replace the city loc text/CTA"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA'\nAND no CTA is present to change location\n\n\n*BP ver 10.5.0 introduces header img/text when located at venue and would replace the city loc text/CTA"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "[SKIP REMAINING STEPS IF 'ALWAYS' DEVICE SETTING DOES NOT EXIST]\n\nGIVEN the device location is set to 'Always'\nAND the device location for Precise is set ON\n\nWHEN the existing user is on the HomeTab\n\n** note: when changing the device location, restarting the app to witness the change may be necessary",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA'\nAND no CTA is present to change location\n\n\n*BP ver 10.5.0 introduces header img/text when located at venue and would replace the city loc text/CTA"
      },
      {
        "content": "WHEN the user updates the geographic location ** \nAND the existing user is on the HomeTab\n\n** (can be mocked using Debug BP app - Navigate to More>AboutBP>DevTools<ChangeGPS )",
        "expected": "THEN the location of the device is updated to display the new geographic location \nAND no CTA is present to change location\n\n\n*BP ver 10.5.0 introduces header img/text when located at venue and would replace the city loc text/CTA"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA'\nAND no CTA is present to change location\n\n\n*BP ver 10.5.0 introduces header img/text when located at venue and would replace the city loc text/CTA"
      }
    ]
  },
  {
    "id": 34425311,
    "title": "[iOS] Existing user, Imprecise Location - Show 'Near' city / state based on location *[requires mock loc app/service]",
    "section_id": 2004547,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "iOS",
    "created_by": 288,
    "created_on": 1734633835,
    "updated_by": 288,
    "updated_on": 1734633835,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 2,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "[BP-9336](https://baseball.atlassian.net/browse/BP-9336)\r\n\r\nGIVEN a fan has device location enabled **\r\nAND the device location for Precise is set OFF ***\r\n\r\n*Debug BP app is needed to simulate different venue locations - Navigate to More>AboutBP>DevTools<ChangeGPS\r\n**'Ask Next Time', 'While Using the App', 'Always'\r\n***Precise setting is applicable for iOS (all supported versions)",
    "custom_steps": "WHEN a fan is on the HomeTab\r\n\r\n",
    "custom_expected": "THEN we will show a toast with the city/state in the format: \"Near Boulder, CO\" or \"Near New York, NY\"\r\nAND the HomePage will show a CTA to 'Change my location'",
    "custom_steps_separated": [
      {
        "content": "GIVEN the device location is set to 'Ask Next Time'\nAND the device location for Precise is set OFF\n\nWHEN the existing user is on the HomeTab\n\n** note: when changing the device location, restarting the app to witness the change may be necessary",
        "expected": "THEN 'No Location' text is displayed\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user updates the geographic location ** \nAND the existing user is on the HomeTab\n\n** (can be mocked using Debug BP app - Navigate to More>AboutBP>DevTools<ChangeGPS )",
        "expected": "THEN 'No Location' text is displayed\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN 'No Location' text is displayed\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "GIVEN the device location is set to 'While Using the App'\nAND the device location for Precise is set OFF\n\nWHEN the existing user is on the HomeTab\n\n** note: when changing the device location, restarting the app to witness the change may be necessary",
        "expected": "THEN the location of the device is displayed, such as 'Near San Francisco, CA'\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user updates the geographic location, BUT within the same city ** \nAND the existing user is on the HomeTab\n\n** (can be mocked using Debug BP app - Navigate to More>AboutBP>DevTools<ChangeGPS )",
        "expected": "THEN the location of the device is displayed, such as 'Near San Francisco, CA' (should be the same as prev step)\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN the location of the device is displayed, such as 'Near San Francisco, CA' (should be the same as prev step)\nAND 'Change my location' CTA is displayed "
      },
      {
        "content": "WHEN the user updates the geographic location, NOT within the same city ** \nAND the existing user is on the HomeTab\n\n** (can be mocked using Debug BP app - Navigate to More>AboutBP>DevTools<ChangeGPS )",
        "expected": "THEN the location of the device is updated to display the new geographic location such as 'Near San Francisco, CA' \nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "[SKIP REMAINING STEPS IF 'ALWAYS' DEVICE SETTING DOES NOT EXIST]\n\nGIVEN the device location is set to 'Always'\nAND the device location for Precise is set OFF\n\nWHEN the existing user is on the HomeTab\n\n** note: when changing the device location, restarting the app to witness the change may be necessary",
        "expected": "THEN the location of the device is displayed, such as 'Near San Francisco, CA' (should be the same as prev step)\nAND 'Change my location' CTA is displayed "
      },
      {
        "content": "WHEN the user updates the geographic location, BUT within the same city ** \nAND the existing user is on the HomeTab\n\n** (can be mocked using Debug BP app - Navigate to More>AboutBP>DevTools<ChangeGPS )",
        "expected": "THEN the location of the device is displayed, such as 'Near San Francisco, CA' (should be the same as prev step)\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user updates the geographic location, NOT within the same city ** \nAND the existing user is on the HomeTab\n\n** (can be mocked using Debug BP app - Navigate to More>AboutBP>DevTools<ChangeGPS )",
        "expected": "THEN the location of the device is updated to display the new geographic location, such as 'Near San Francisco, CA' \nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN the location of the device is displayed, such as 'Near San Francisco, CA' (should be the same as prev step)\nAND 'Change my location' CTA is displayed"
      }
    ]
  },
  {
    "id": 34425312,
    "title": "[iOS] Allow location CTA - Precise",
    "section_id": 2004547,
    "template_id": 1,
    "type_id": 9,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "iOS",
    "created_by": 288,
    "created_on": 1734633835,
    "updated_by": 288,
    "updated_on": 1736891128,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 3,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": true,
    "custom_preconds": "[BP-9161](https://baseball.atlassian.net/browse/BP-9161)\r\n\r\nAs a fan, I want to be informed my location is not available or imprecise so I know to turn it on\r\n\r\nGIVEN an existing user DOES NOT have device location enable **\r\nAND user is on the HomeTab \r\n\r\n\r\n** 'Never', 'Ask Next Time'\r\n*** Precise setting is applicable for iOS (all supported versions)",
    "custom_steps": "WHEN user is shown 'No Location' text on the HomeTab\r\nAND user is shown 'Change my location' CTA \r\nAND user taps on 'Change my location'",
    "custom_expected": "THEN Ballpark app triggers the OS allow permissions prompt **\r\n\r\n\r\n** If fan has already been presented with the OS permissions dialog, CTA will deeplink into their device settings for Ballpark app so they can make a change through their OS\r\n\r\n",
    "custom_steps_separated": [
      {
        "content": "GIVEN a fresh install of Ballpark App\nAND the device location is set to 'Never'\n\nWHEN an existing user logs in and is on the HomeTab\nAND the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text:\n'Allow \"Ballpark\" to use your location?'\nAND subtext within prompt is shown:\n'Your location will be used to enable check-in features and ballpark map positioning'\nAND within prompt the user is shown options:\n- 'Allow Once'\n- 'Allow While Using the App'\n- 'Don't Allow'\nAND an option to set Precise as ON/OFF, with setting as ON \n\n\n\n** If fan has already been presented with the OS permissions dialog, CTA will deeplink into their device settings for Ballpark app so they can make a change through their OS"
      },
      {
        "content": "WHEN the user taps 'Don't Allow' within the Ballpark prompt\n\n** If fan had already been presented with the OS permissions dialog, CTA will deeplink into their device settings for Ballpark app so they can make a change through their OS",
        "expected": "THEN the Ballpark prompt to allow location is dismissed\nAND 'No Location' text is displayed \nAND 'Change my location' CTA is displayed\n"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "WHEN the user taps on 'Change my location' CTA from the HomePage",
        "expected": "THEN the user is directed into their device settings for Ballpark app so they can make a change through their OS\nAND the Location setting is shown as 'Never'/'Deny'/'Don't allow'"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "GIVEN a fresh install of Ballpark App\nAND the device location is set to 'Ask Next Time'\nWHEN an existing user logs in and is on the HomeTab",
        "expected": "THEN 'No Location' text is displayed\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text:\n'Allow \"Ballpark\" to use your location?'\nAND subtext within prompt is shown:\n'Your location will be used to enable check-in features and ballpark map positioning'\nAND within prompt the user is shown options:\n- 'Allow Once'\n- 'Allow While Using the App'\n- 'Don't Allow'\nAND an option to set Precise as ON/OFF, with setting as ON \n\n\n** If fan has already been presented with the OS permissions dialog, CTA will deeplink into their device settings for Ballpark app so they can make a change through their OS"
      },
      {
        "content": "WHEN the user taps 'Allow Once' within the Ballpark prompt\n\n** If fan had already been presented with the OS permissions dialog, CTA will deeplink into their device settings for Ballpark app so they can make a change through their OS",
        "expected": "THEN the Ballpark prompt to allow location is dismissed\nAND the location of the device is displayed, such as 'San Francisco, CA'\nAND no CTA is present to change location\n\n*Venue Header img/txt could possible replace the location (if device is located within venue)"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN 'No Location' text is displayed\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text:\n'Allow \"Ballpark\" to use your location?'\nAND subtext within prompt is shown:\n'Your location will be used to enable check-in features and ballpark map positioning'\nAND within prompt the user is shown options:\n- 'Allow Once'\n- 'Allow While Using the App'\n- 'Don't Allow'\nAND an option to set Precise as ON/OFF, with setting as ON \n\n\n** If fan has already been presented with the OS permissions dialog, CTA will deeplink into their device settings for Ballpark app so they can make a change through their OS"
      },
      {
        "content": "WHEN the user taps 'Allow While Using App' within the Ballpark prompt",
        "expected": "THEN the Ballpark prompt to allow location is dismissed\nAND the location of the device is displayed, such as 'San Francisco, CA'\nAND no CTA is present to change location\n\n*Venue Header img/txt could possible replace the location (if device is located within venue)"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA'\nAND no CTA is present to change location\n\n*Venue Header img/txt could possible replace the location (if device is located within venue)"
      }
    ]
  },
  {
    "id": 34425313,
    "title": "[iOS] Allow location CTA - Imprecise",
    "section_id": 2004547,
    "template_id": 1,
    "type_id": 9,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "iOS",
    "created_by": 288,
    "created_on": 1734633835,
    "updated_by": 288,
    "updated_on": 1736902059,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 4,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "[BP-9161](https://baseball.atlassian.net/browse/BP-9161)\r\n\r\nAs a fan, I want to be informed my location is not available or imprecise so I know to turn it on\r\n\r\nGIVEN an existing user DOES NOT have device location enable **\r\nAND user is on the HomeTab \r\n\r\n** 'Never', 'Ask Next Time'\r\n*** Imprecise setting is applicable for iOS (all supported versions)",
    "custom_steps": "WHEN user is shown 'No Location' text on the HomeTab\r\nAND user is shown 'Change my location' CTA \r\nAND user taps on 'Change my location'",
    "custom_expected": "THEN Ballpark app triggers the OS allow permissions prompt **\r\n\r\n\r\n** If fan has already been presented with the OS permissions dialog, CTA will deeplink into their device settings for Ballpark app so they can make a change through their OS\r\n\r\n",
    "custom_steps_separated": [
      {
        "content": "GIVEN a fresh install of Ballpark App\nAND the device location is set to 'Never'/'Don't allow'\n\nWHEN an existing user logs in and is on the HomeTab\nAND the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text: 'Allow \"Ballpark\" to use your location?' \nAND subtext within prompt is shown: 'Unlock the full Ballpark experience by granting location access. Enjoy quick venue check-ins, detailed maps, and game suggestions tailored to your location.'"
      },
      {
        "content": "",
        "expected": "AND within prompt the user is shown options:\n- 'Allow Once'\n- 'Allow While Using the App'\n- 'Don't Allow'\nAND an option to set Precise as ON/OFF, with setting as ON"
      },
      {
        "content": "WHEN the user sets the 'Imprecise'/'Approximate' setting within the Ballpark prompt on ON\nAND the user taps 'Don't Allow' within the Ballpark prompt",
        "expected": "THEN the Ballpark prompt to allow location is dismissed\n"
      },
      {
        "content": "",
        "expected": "AND 'No Location' text is displayed \nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user taps on 'Change my location'",
        "expected": "THEN the user is directed into their device settings for Ballpark app so they can make a change through their OS\nAND the Location setting is shown as 'Never'/'Don't allow'"
      },
      {
        "content": "WHEN the user changes the device settings to 'Ask Next Time'/'Ask every time'\nAND the user maintains 'Precise Location' as disabled \nAND the user returns the Ballpark app",
        "expected": "THEN 'No Location' text is displayed\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text:'Allow \"Ballpark\" to use your location?' \nAND subtext within prompt is shown: 'Unlock the full Ballpark experience by granting location access. Enjoy quick venue check-ins, detailed maps, and game suggestions tailored to your location.'"
      },
      {
        "content": "",
        "expected": "AND within prompt the user is shown options:\n- 'Allow Once'\n- 'Allow While Using the App'\n- 'Don't Allow'\nAND an option to set Precise as ON/OFF, with setting as OFF"
      },
      {
        "content": "WHEN the user maintains 'Precise Location' as disabled \nAND the user taps 'Allow Once' within the Ballpark prompt  \n\n(if 'Allow Once' option presented, if not then proceed to step 14)\n",
        "expected": "THEN the Ballpark prompt to allow location is dismissed\n"
      },
      {
        "content": "",
        "expected": "AND the location of the device is displayed (such as 'Near San Francisco, CA')\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN 'No Location' text is displayed\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text:\n'Allow \"Ballpark\" to use your location?' \n\nAND subtext within prompt is shown:\n'Unlock the full Ballpark experience by granting location access. Enjoy quick venue check-ins, detailed maps, and game suggestions tailored to your location.'\n\n"
      },
      {
        "content": "",
        "expected": "AND within prompt the user is shown options:\n- 'Allow Once'\n- 'Allow While Using the App'\n- 'Don't Allow'\nAND an option to set Precise as ON/OFF, with setting as OFF"
      },
      {
        "content": "GIVEN a fresh install of Ballpark App\nAND the device location is set to 'while using the app'\nAND the user sets Precise as disabled (Android set as Approximate)\n\nWHEN an existing user logs in and is on the HomeTab",
        "expected": "AND the location of the device is displayed (such as 'Near San Francisco, CA')\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text: 'Allow \"Ballpark\" to use your precise location once?'\nAND subtext within prompt is shown: 'Your precise location is required to access in venue features such as check in and map positioning'"
      },
      {
        "content": "",
        "expected": "AND within prompt the user is shown options:\n- 'Allow Once'\n- 'Don't Allow'\nAND an option to set Precise as ON/OFF is not shown"
      },
      {
        "content": "WHEN the user taps 'Don't Allow'/'Keep Approximate location' within the Ballpark prompt",
        "expected": "THEN the Ballpark prompt to allow location is dismissed\nAND the location of the device is displayed (such as 'Near San Francisco, CA')\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "GIVEN a fresh install of Ballpark App\nAND the device location is set to 'while using the app'\nAND the user sets Precise as disabled (Android set as Approximate)\n\nWHEN an existing user logs in and is on the HomeTab",
        "expected": "THEN the location of the device is displayed (such as 'Near San Francisco, CA')\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text: 'Allow \"Ballpark\" to use your precise location once?'\nAND subtext within prompt is shown: 'Your precise location is required to access in venue features such as check in and map positioning'"
      },
      {
        "content": "",
        "expected": "AND within prompt the user is shown options:\n- 'Allow Once'\n- 'Don't Allow'\nAND an option to set Precise as ON/OFF is not shown"
      },
      {
        "content": "WHEN the user taps 'Allow Once'/'Only this time' within the Ballpark prompt",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA' with 'Near' no longer shown\nAND no CTA is present to change location\n\n*Venue Header img/txt could possible replace the location (if device is located within venue)"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN the location of the device is displayed (such as 'Near San Francisco, CA')\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "GIVEN a fresh install of Ballpark App\nAND the device location is set to 'while using the app'\nAND the user sets Precise as disabled\n\nWHEN an existing user logs in and is on the HomeTab",
        "expected": "THEN the location of the device is displayed (such as 'Near San Francisco, CA')\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text: 'Allow \"Ballpark\" to use your precise location once?'\nAND subtext within prompt is shown: 'Your precise location is required to access in venue features such as check in and map positioning'"
      },
      {
        "content": "",
        "expected": "AND within prompt the user is shown options:\n- 'Allow Once'\n- 'Don't Allow'\nAND an option to set Precise as ON/OFF is not shown\n"
      },
      {
        "content": " WHEN the user taps 'Change to precise location' within the Ballpark prompt",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA' with 'Near' no longer shown\nAND no CTA is present to change location\n\n*Venue Header img/txt could possible replace the location (if device is located within venue)"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA' with 'Near' no longer shown\nAND no CTA is present to change location\n\n*Venue Header img/txt could possible replace the location (if device is located within venue)"
      }
    ]
  },
  {
    "id": 34425314,
    "title": "[iOS] Allow location CTA - No Network / Service Down",
    "section_id": 2004547,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "iOS",
    "created_by": 288,
    "created_on": 1734633835,
    "updated_by": 288,
    "updated_on": 1736901611,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 5,
    "custom_automation_id": null,
    "custom_android_automation": false,
    "custom_ios_automation": false,
    "custom_preconds": "[BP-9161](https://baseball.atlassian.net/browse/BP-9161)\r\n\r\nAs a fan, I want to be informed my location is not available or imprecise so I know to turn it on\r\n\r\nGIVEN an existing user DOES NOT have device location enable **\r\nAND user is on the HomeTab\r\nAND no network is present\r\n\r\n** 'Never', 'Ask Next Time'\r\n*** Precise setting is applicable for iOS (all supported versions)",
    "custom_steps": "WHEN user is shown 'No Location' text on the HomeTab\r\nAND user is shown 'Change my location' CTA\r\nAND user taps on 'Change my location'",
    "custom_expected": "THEN Ballpark app triggers the OS allow permissions prompt \r\n(the first time, and regardless of option chosen 'No Location' is shown)\r\n(additional taps will not trigger prompt due to no network, re-establishing network will update after traversing elsewhere in the app)\r\n",
    "custom_steps_separated": [
      {
        "content": "GIVEN a fresh install of Ballpark App\nAND existing user DOES NOT have device location enable \n\nWHEN an existing user logs in and is on the HomeTab\nAND Network has been disabled\nAND the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text: 'Allow \"Ballpark\" to use your location?'\nAND subtext within prompt is shown: 'Unlock the full Ballpark experience by granting location access. Enjoy quick venue check-ins, detailed maps, and game suggestions tailored to your location.'"
      },
      {
        "content": "",
        "expected": "AND within prompt the user is shown options:\n- 'Allow Once'\n- 'Allow While Using the App'\n- 'Don't Allow'\nAND an option to set Precise as ON/OFF, with setting as ON"
      },
      {
        "content": "WHEN the user taps 'Allow Once'/'Only this time' within the Ballpark prompt",
        "expected": "THEN the Ballpark prompt to allow location is dismissed"
      },
      {
        "content": "",
        "expected": "AND 'No Location' text is displayed\n"
      },
      {
        "content": "",
        "expected": "AND 'Change my location' CTA is NOT displayed"
      },
      {
        "content": "WHEN Network has been re-enabled\n",
        "expected": ""
      },
      {
        "content": "WHEN user goes to another page within BP app\nAND user returns to the home tab",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA'\nAND no CTA is present to change location\n\n*Venue Header img/txt could possible replace the location (if device is located within venue)"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "GIVEN a fresh install of Ballpark App\nAND existing user DOES NOT have device location enable \n\nWHEN an existing user logs in and is on the HomeTab\nAND Network has been disabled\nAND the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text: 'Allow \"Ballpark\" to use your location?'\nAND subtext within prompt is shown: 'Unlock the full Ballpark experience by granting location access. Enjoy quick venue check-ins, detailed maps, and game suggestions tailored to your location.'"
      },
      {
        "content": "",
        "expected": "AND within prompt the user is shown options:\n- 'Allow Once'\n- 'Allow While Using the App'\n- 'Don't Allow'\nAND an option to set Precise as ON/OFF, with setting as ON"
      },
      {
        "content": "WHEN the user taps 'Allow While Using the App' within the Ballpark prompt",
        "expected": "THEN the Ballpark prompt to allow location is dismissed\nAND 'No Location' text is displayed"
      },
      {
        "content": "",
        "expected": "AND 'Change my location' CTA is NOT displayed\n"
      },
      {
        "content": "WHEN Network has been re-enabled\n\n\n",
        "expected": ""
      },
      {
        "content": "WHEN user goes to another page within BP app\nAND user returns to the home tab\n\n",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA'\nAND no CTA is present to change location\n\n*Venue Header img/txt could possible replace the location (if device is located within venue)"
      }
    ]
  },
  {
    "id": 21117507,
    "title": "[Android] Existing user, Precise Location - Show city / state based on location",
    "section_id": 1594183,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "Android",
    "created_by": 288,
    "created_on": 1626382007,
    "updated_by": 288,
    "updated_on": 1667343454,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 1,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "[BPA-6164](https://baseball.atlassian.net/browse/BPA-6164)\r\n\r\nGIVEN a fan has device location enabled **\r\nAND the device location for Precise is set ON ***\r\n\r\n** 'Allow While Using the App', 'Ask everytime' (introduced w/ OS11)\r\n*** Android always sets Precision ON for Android OS 11 and lower. (OS 12 introduces imprecise)\r\n",
    "custom_steps": "WHEN a fan is on the HomeTab\r\n\r\n",
    "custom_expected": "THEN we will show a toast with the city/state in the format: \"Boulder, CO\" or \"New York, NY\"\r\nAND no CTA is present to change location\r\n\r\n![](index.php?/attachments/get/13391715)\r\nAbove image is for a Google Pixel 4a OS13\r\n",
    "custom_steps_separated": [
      {
        "content": "GIVEN the device location is set to 'Allow only while using the App'\nAND the device location for Precise is set ON***\nWHEN the existing user is on the HomeTab\n\n** note: when changing the device location, restarting the app to witness the change may be necessary\n*** Android always sets Precision ON for Android OS 11 and lower. (OS 12 introduces precise/approximate toggle)",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA' \nAND no CTA is present to change location\n\n*BP ver 10.5.0 introduces header img/text when located at venue and would replace the city loc text/CTA"
      },
      {
        "content": "WHEN the user updates the geographic location ** \nAND the existing user is on the HomeTab\n\n** (can be mocked using FakeGPS or similar)",
        "expected": "THEN the location of the device is updated to display the new geographic location\nAND no CTA is present to change location\n\n*BP ver 10.5.0 introduces header img/text when located at venue and would replace the city loc text/CTA"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA'\nAND no CTA is present to change location\n\n\n*BP ver 10.5.0 introduces header img/text when located at venue and would replace the city loc text/CTA"
      },
      {
        "content": "[SKIP REMAINING STEPS FOR ANDROID OS10 AND LOWER]\n\nGIVEN the device location is set to 'Ask Next Time'/'Ask everytime'\nAND the device location for Precise is set ON\nWHEN the existing user is on the HomeTab\n\n** note: when changing the device location, restarting the app to witness the change may be necessary",
        "expected": "THEN 'No Location' text is displayed\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN 'No Location' text is displayed\nAND 'Change my location' CTA is displayed"
      }
    ]
  },
  {
    "id": 21117747,
    "title": "[Android OS12 and above] Existing user, Approximate Location - Show 'Near' city / state based on location",
    "section_id": 1594183,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "Android",
    "created_by": 288,
    "created_on": 1626384323,
    "updated_by": 288,
    "updated_on": 1667343849,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 2,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "[BPA-6164](https://baseball.atlassian.net/browse/BPA-6164)\r\n\r\nGIVEN a fan has device location enabled **\r\nAND the device location for Precise is set OFF ***\r\n\r\n\r\n** 'Allow While Using the App', 'Ask every time'\r\n*** Android always sets Precision ON for Android OS 11 and lower. (OS 12 introduces approximate)",
    "custom_steps": "WHEN a fan is on the HomeTab\r\n\r\n",
    "custom_expected": "THEN we will show a toast with the city/state in the format: \"Near Boulder, CO\" or \"Near New York, NY\"\r\nAND the HomePage will show a CTA to 'Change my location'\r\n\r\n![](index.php?/attachments/get/13391716)\r\n",
    "custom_steps_separated": [
      {
        "content": "GIVEN the device location is set to 'While Using the App'\nAND the device location for Precise is set OFF\nWHEN the existing user is on the HomeTab\n\n** note: when changing the device location, restarting the app to witness the change may be necessary",
        "expected": "THEN the location of the device is displayed, such as 'Near San Francisco, CA'\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user updates the geographic location, BUT within the same city ** \nAND the existing user is on the HomeTab\n\n** (can be mocked using FakeGPS or similar)",
        "expected": "THEN the location of the device is displayed, such as 'Near San Francisco, CA' (should be the same as prev step)\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN the location of the device is displayed, such as 'Near San Francisco, CA' (should be the same as prev step)\nAND 'Change my location' CTA is displayed "
      },
      {
        "content": "WHEN the user updates the geographic location, NOT within the same city ** \nAND the existing user is on the HomeTab\n\n** (can be mocked using FakeGPS or similar)",
        "expected": "THEN the location of the device is updated to display the new geographic location such as 'Near Los Angeles, CA' \nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "GIVEN the device location is set to 'Ask Next Time'/'Ask every time'\nAND the device location for Precise is set OFF\nWHEN the existing user is on the HomeTab\n\n** note: when changing the device location, restarting the app to witness the change may be necessary",
        "expected": "THEN 'No Location' text is displayed\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN 'No Location' text is displayed\nAND 'Change my location' CTA is displayed"
      }
    ]
  },
  {
    "id": 21117512,
    "title": "[Android all supported] Allow location CTA - Precise",
    "section_id": 1594183,
    "template_id": 1,
    "type_id": 9,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "Android",
    "created_by": 288,
    "created_on": 1626382020,
    "updated_by": 288,
    "updated_on": 1667345024,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 3,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "[BPA-6147](https://baseball.atlassian.net/browse/BPA-6147)\r\n\r\nAs a fan, I want to be informed my location is not available so I know to turn it on\r\n\r\nGIVEN an existing user DOES NOT have device location enable **\r\nAND user is on the HomeTab \r\n\r\n\r\n** 'Deny'/'Don't allow' (some device/OS can also display 'Deny & don't ask again')\r\n(OS 11 introduces 'Ask Every time')\r\n*** Android always sets Precision ON for Android OS 11 and lower. (OS 12 introduces approximate)",
    "custom_steps": "WHEN user is shown 'No Location' text on the HomeTab\r\nAND user is shown 'Change my location' CTA \r\nAND user taps on 'Change my location'",
    "custom_expected": "THEN Ballpark app triggers the OS allow permissions prompt **\r\n\r\n![](index.php?/attachments/get/13391717)\r\nAbove image is for Samsung Galaxy 10+ OS10 device\r\n\r\n\r\n** If fan has already been presented with the OS permissions dialog, CTA will deeplink into their device settings for Ballpark app so they can make a change through their OS\r\n*** Android always sets Precision ON for Android OS 11 and lower. (OS 12 introduces approximate)\r\n\r\n",
    "custom_steps_separated": [
      {
        "content": "GIVEN a FRESH install of Ballpark App*\nAND the device location is set to 'Never'/'Deny'/'Don't allow'\n\nWHEN an existing user logs in and is on the HomeTab\nAND the user taps on 'Change my location'\n\n\n*best to uninstall and delete any prev existing instances of BP and then installing again. ",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text:\n'Allow Ballpark to access this device's location?'*\n\n*if apptester build is used, may see something like 'BP Prod Debug' instead of 'Ballpark' in header prompt\n\n"
      },
      {
        "content": "",
        "expected": "AND within prompt the user is shown options:\n- 'Allow only while using the app' / 'While using the app'\n- 'Only this time' (Android 11/12)\n- 'Deny' / 'Don't allow'\n- 'Deny & don't ask again' (some device/OS also has this setting shown)\n\n[ONLY FOR ANDROID OS12 AND ABOVE]\nAND an option to set Precise OR Approximate as circle image, with setting as Precise indicated via highlighted circle ***\n\n\n*** Android always sets Precision ON for Android OS 11 and lower. (OS 12 introduces approximate option to user)"
      },
      {
        "content": "WHEN the user taps 'Don't Allow'/'Deny' within the Ballpark prompt",
        "expected": "THEN the Ballpark prompt to allow location is dismissed\n"
      },
      {
        "content": "",
        "expected": "AND 'No Location' text is displayed \nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt\nAND within prompt the user is shown options:\n- 'Allow only while using the app' / 'While using the app'\n- 'Only this time' (Android 11/12)\n- 'Deny' / 'Don't allow'\n- 'Deny & don't ask again' (some device/OS also has this setting shown)\n\n\n[ONLY FOR ANDROID OS12 AND ABOVE]\nAND an option to set Precise OR Approximate as circle image, with setting as Precise indicated via highlighted circle\n\n\n** If fan has already been presented with the OS permissions dialog, CTA will deeplink into their device settings for Ballpark app so they can make a change through their OS (AND the Location setting is shown as 'Never'/'Deny'/'Don't allow')"
      },
      {
        "content": "[FOR ANDROID 10 OS AND LOWER OR IF DEVICE PROMPT NOT SHOWING THE OPTION DESCRIBED, SKIP TO STEP 11]\n\nGIVEN a FRESH install of Ballpark App*\nAND the device location is set to 'Ask Next Time'/ 'Ask every time' \nWHEN an existing user logs in and is on the HomeTab\n\n*best to uninstall and delete any prev existing instances of BP and then installing again. ",
        "expected": "THEN 'No Location' text is displayed\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt\nAND within prompt the user is shown options:\n- 'Allow only while using the app' / 'While using the app'\n- 'Only this time' (Android 11/12)\n- 'Deny' / 'Don't allow'\n- 'Deny & don't ask again' (some device/OS also has this setting shown)\n\n[ONLY FOR ANDROID OS12 AND ABOVE]\nAND an option to set Precise OR Approximate as circle image, with setting as Precise indicated via highlighted circle\n\n\n\n** If fan has already been presented with the OS permissions dialog, CTA will deeplink into their device settings for Ballpark app so they can make a change through their OS (AND the Location setting is shown as 'Never'/'Deny'/'Don't allow')"
      },
      {
        "content": "WHEN the user taps 'Allow Once'/'Only this time' within the Ballpark prompt\n",
        "expected": "THEN the Ballpark prompt to allow location is dismissed\nAND the location of the device is displayed, such as 'San Francisco, CA'\nAND no CTA is present to change location\n\n*Venue Header img/txt could possible replace the location (if device is located within venue)\n"
      },
      {
        "content": "WHEN the user restarts the Ballpark App *\n\n*may need to allow some time (few minutes) before reopening the BP app to ensure state has been cleared",
        "expected": "THEN 'No Location' text is displayed\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt\nAND within prompt the user is shown options:\n- 'Allow only while using the app' / 'While using the app'\n- 'Only this time' (Android 11/12)\n- 'Deny' / 'Don't allow'\n- 'Deny & don't ask again' (some device/OS also has this setting shown)\n\n[ONLY FOR ANDROID OS12 AND ABOVE]\nAND an option to set Precise OR Approximate as circle image, with setting as Precise indicated via highlighted circle\n\n\n** If fan has already been presented with the OS permissions dialog, CTA will deeplink into their device settings for Ballpark app so they can make a change through their OS (AND the Location setting is shown as 'Never'/'Deny'/'Don't allow')"
      },
      {
        "content": "WHEN the user taps 'Allow While Using App' within the Ballpark prompt \n(OR updates via Device Settings)",
        "expected": "THEN the Ballpark prompt to allow location is dismissed (if Ballpark prompt was shown prev)\n"
      },
      {
        "content": "",
        "expected": "AND the location of the device is displayed, such as 'San Francisco, CA'\nAND no CTA is present to change location\n\n*Venue Header img/txt could possible replace the location (if device is located within venue)"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA'\nAND no CTA is present to change location\n\n*Venue Header img/txt could possible replace the location (if device is located within venue)"
      }
    ]
  },
  {
    "id": 29605999,
    "title": "[Android OS12 and above] Allow location CTA - Device Location Options",
    "section_id": 1594183,
    "template_id": 1,
    "type_id": 9,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "Android",
    "created_by": 288,
    "created_on": 1667339344,
    "updated_by": 288,
    "updated_on": 1667405530,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 5,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "[BPA-6147](https://baseball.atlassian.net/browse/BPA-6147)\r\n\r\nAs a fan, I want to be informed my location is not available or imprecise so I know to turn it on\r\n\r\nGIVEN an existing user DOES NOT have device location enable **\r\nAND user is on the HomeTab \r\n\r\n** 'Don't allow', 'Ask every Time' ",
    "custom_steps": "WHEN user is shown 'No Location' text on the HomeTab\r\nAND user is shown 'Change my location' CTA \r\nAND user taps on 'Change my location'",
    "custom_expected": "THEN Ballpark app triggers the OS allow permissions prompt **\r\n\r\n![](index.php?/attachments/get/13391713)\r\nAbove image is for a Google Pixel 4a OS13 \r\n\r\n\r\n** If fan has already been presented with the OS permissions dialog, CTA will deeplink into their device settings for Ballpark app so they can make a change through their OS\r\n\r\n",
    "custom_steps_separated": [
      {
        "content": "GIVEN a FRESH install of Ballpark App*\nAND the device location is set to 'Never'/'Deny'/'Don't allow'\n\nWHEN an existing user logs in and is on the HomeTab\nAND the user taps on 'Change my location'\n\n*best to uninstall and delete any prev existing instances of BP and then installing again.",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text:\n'Allow Ballpark to access this device's location?'*\n\n*if apptester build is used, may see something like 'BP Prod Debug' instead of 'Ballpark' in header prompt"
      },
      {
        "content": "",
        "expected": "AND within prompt the user is shown options:\n- 'While using the app' / 'Allow only while using the app'\n- 'Only this time'\n- 'Deny' / 'Don't allow'\n- 'Deny & don't ask again' (some device/OS also has this setting shown)\n\nAND an option to set Precise OR Approximate as circle image, with setting as Precise indicated via highlighted circle ***\n\n*** Android always sets Precision ON for Android OS 11 and lower. (OS 12 introduces approximate option to user)"
      },
      {
        "content": "WHEN the user sets the 'Approximate' setting within the Ballpark prompt on ON\nAND the user taps 'Don't Allow' within the Ballpark prompt",
        "expected": "THEN the Ballpark prompt to allow location is dismissed\nAND 'No Location' text is displayed \nAND 'Change my location' CTA is displayed\n"
      },
      {
        "content": "WHEN the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt\nAND within prompt the user is shown options:\n- 'While using the app' / 'Allow only while using the app'\n- 'Only this time' \n- 'Deny' / 'Don't allow'\n- 'Deny & don't ask again' (some device/OS also has this setting shown)\nAND an option to set Precise OR Approximate as circle image, with setting as Precise indicated via highlighted circle ***(only OS12 and above)\n\n** If fan has already been presented with the OS permissions dialog, CTA may deeplink into their device settings for Ballpark app so they can make a change through their OS (AND the Location setting is shown as 'Never'/'Deny'/'Don't allow')"
      },
      {
        "content": "WHEN the user selects 'Approximate' option\nAND the user taps 'Only This Time'/'Allow Once' within the Ballpark prompt  \n",
        "expected": "THEN the Ballpark prompt to allow location is dismissed\nAND the location of the device is displayed (such as 'Near San Francisco, CA')\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user restarts the Ballpark App *\n\n*may need to allow some time (few minutes) before reopening the BP app to ensure state has been cleared",
        "expected": "THEN 'No Location' text is displayed\nAND 'Change my location' CTA is displayed\n\n\n[if 'Near <loc>' is shown, tester may not have waited a long enough time to pass before reopening]"
      },
      {
        "content": "WHEN the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt\nAND within prompt the user is shown options:\n- 'While using the app' / 'Allow only while using the app'\n- 'Only this time'\n- 'Deny' / 'Don't allow'\n- 'Deny & don't ask again' (some device/OS also has this setting shown)\nAND an option to set Precise OR Approximate as circle image, with setting as Approximate indicated via highlighted circle ***(only OS12 and above)\n\n** If fan has already been presented with the OS permissions dialog, CTA may deeplink into their device settings for Ballpark app so they can make a change through their OS (AND the Location setting is shown as 'Ask Every Time' AND Precise is toggled OFF)"
      }
    ]
  },
  {
    "id": 29606000,
    "title": "[Android OS12 and above] Allow location CTA - Approximate to Precise Options",
    "section_id": 1594183,
    "template_id": 1,
    "type_id": 9,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "Android",
    "created_by": 288,
    "created_on": 1667340121,
    "updated_by": 288,
    "updated_on": 1667405579,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 8,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "[BPA-6147](https://baseball.atlassian.net/browse/BPA-6147)\r\n\r\nAs a fan, I want to be informed my location is not available or imprecise so I know to turn it on\r\n\r\nGIVEN the device location is set to 'while using the app'\r\nAND the user has set Approximate setting (Precise toggled off within device settings)",
    "custom_steps": "WHEN user is shown 'Near <location>' text on the HomeTab\r\nAND user is shown 'Change my location' CTA \r\nAND user taps on 'Change my location'",
    "custom_expected": "THEN Ballpark app triggers the OS allow permissions prompt **\r\n\r\n![](index.php?/attachments/get/13391714)\r\n\r\nAbove image is for a Google Pixel 4a OS13 \r\n\r\n\r\n** If fan has already been presented with the OS permissions dialog, CTA will deeplink into their device settings for Ballpark app so they can make a change through their OS\r\n\r\n",
    "custom_steps_separated": [
      {
        "content": "WHEN an existing user logs in and is on the HomeTab",
        "expected": "THEN the location of the device is displayed (such as 'Near San Francisco, CA')\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text:'Change Ballpark location access from approximate to precise?'\n\n*if apptester build is used, may see something like 'BP Prod Debug' instead of 'Ballpark' in header prompt"
      },
      {
        "content": "",
        "expected": "AND within prompt the user is shown options:\n- 'Change to precise location'\n- 'Only this time'\n- 'Keep Approximate location'"
      },
      {
        "content": "WHEN the user taps 'Keep Approximate location' within the Ballpark prompt",
        "expected": "THEN the Ballpark prompt to allow location is dismissed\nAND the location of the device is displayed (such as 'Near San Francisco, CA')\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "GIVEN a FRESH install of Ballpark App*\nAND the device location is set to 'while using the app'\nAND the user sets Approximate setting (Precise toggled OFF)\nWHEN an existing user logs in and is on the HomeTab\n\n*best to uninstall and delete any prev existing instances of BP and then installing again.\n",
        "expected": "THEN the location of the device is displayed (such as 'Near San Francisco, CA')\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text*:'Change Ballpark location access from approximate to precise?'\nAND within prompt the user is shown options:\n- 'Change to precise location'\n- 'Only this time'\n- 'Keep Approximate location'\n\n\n\n\n*if apptester build is used, may see something like 'BP Prod Debug' instead of 'Ballpark' in header prompt"
      },
      {
        "content": "WHEN the user taps 'Only this time' within the Ballpark prompt",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA' with 'Near' no longer shown\nAND 'Change my location' CTA is removed\n\n*Venue Header img/txt could possible replace the location (if device is located within venue)"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN the location of the device is displayed (such as 'Near San Francisco, CA')\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "GIVEN a FRESH install of Ballpark App\nAND the device location is set to 'while using the app'\nAND the user sets Precise as disabled (Android set as Approximate)\nWHEN an existing user logs in and is on the HomeTab\n\n\n*best to uninstall and delete any prev existing instances of BP and then installing again.",
        "expected": "THEN the location of the device is displayed (such as 'Near San Francisco, CA')\nAND 'Change my location' CTA is displayed"
      },
      {
        "content": "WHEN the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text*:'Change Ballpark location access from approximate to precise?'\nAND within prompt the user is shown options:\n- 'Change to precise location'\n- 'Only this time'\n- 'Keep Approximate location'\n\n\n\n\n*if apptester build is used, may see something like 'BP Prod Debug' instead of 'Ballpark' in header prompt"
      },
      {
        "content": "WHEN the user taps 'Change to precise location' within the Ballpark prompt",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA' with 'Near' no longer shown\nAND 'Change my location' CTA is removed\n\n*Venue Header img/txt could possible replace the location (if device is located within venue)"
      },
      {
        "content": "WHEN the user restarts the Ballpark App",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA' with 'Near' no longer shown\nAND 'Change my location' CTA is removed\n\n*Venue Header img/txt could possible replace the location (if device is located within venue)"
      }
    ]
  },
  {
    "id": 21118076,
    "title": "[Android all supported] Allow location CTA - No Network / Service Down",
    "section_id": 1594183,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 288,
    "created_on": 1626386192,
    "updated_by": 288,
    "updated_on": 1667345811,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 263349,
    "display_order": 9,
    "custom_automation_id": null,
    "custom_android_automation": null,
    "custom_ios_automation": null,
    "custom_preconds": "[BPA-6147](https://baseball.atlassian.net/browse/BPA-6147 )\r\n\r\nAs a fan, I want to be informed my location is not available or imprecise so I know to turn it on\r\n\r\nGIVEN an existing user DOES NOT have device location enable **\r\nAND user is on the HomeTab\r\nAND no network is present\r\n\r\n\r\n** 'Deny'/'Don't allow' (some device/OS can also display 'Deny & don't ask again')\r\n(OS 11 introduces 'Ask Every time')\r\n*** Android always sets Precision ON for Android OS 11 and lower. (OS 12 introduces imprecise)\r\n\r\n",
    "custom_steps": "WHEN user is shown 'No Location' text on the HomeTab\r\nAND user is shown 'Change my location' CTA\r\nAND user taps on 'Change my location'",
    "custom_expected": "THEN Ballpark app triggers the OS allow permissions prompt \r\n(the first time, and regardless of option chosen 'No Location' is shown)\r\n(additional taps will not trigger prompt due to no network, re-establishing network will update after traversing elsewhere in the app)\r\n",
    "custom_steps_separated": [
      {
        "content": "GIVEN a fresh install of Ballpark App\nAND existing user DOES NOT have device location enable \n\nWHEN an existing user logs in and is on the HomeTab\nAND Network has been disabled\nAND the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text:\n'Allow Ballpark to access this device's location?'*\n\n*if apptester build is used, may see something like 'BP Prod Debug' instead of 'Ballpark' in header prompt"
      },
      {
        "content": "",
        "expected": "AND within prompt the user is shown options:\n- 'While using the app' / 'Allow only while using the app'\n- 'Only this time' (Android 11)\n- 'Deny'/'Don't Allow'\n- 'Deny & don't ask again' (some device/OS has this setting shown)\n\n[ONLY FOR ANDROID OS12 AND ABOVE]\nAND an option to set Precise OR Approximate as circle image, with setting as Precise indicated via highlighted circle ***"
      },
      {
        "content": "[FOR ANDROID 10 OS AND LOWER, SKIP TO STEP 10]\nWHEN the user taps 'Allow Once'/'Only this time' within the Ballpark prompt",
        "expected": "THEN the Ballpark prompt to allow location is dismissed"
      },
      {
        "content": "",
        "expected": "AND 'No Location' text is displayed\n"
      },
      {
        "content": "",
        "expected": "AND 'Change my location' CTA is NOT displayed"
      },
      {
        "content": "WHEN Network has been re-enabled\n",
        "expected": ""
      },
      {
        "content": "WHEN user goes to another page within BP app\nAND user returns to the home tab",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA'\nAND no CTA is present to change location\n\n*Venue Header img/txt could possible replace the location (if device is located within venue)"
      },
      {
        "content": "",
        "expected": ""
      },
      {
        "content": "GIVEN a fresh install of Ballpark App\nAND existing user DOES NOT have device location enable \n\nWHEN an existing user logs in and is on the HomeTab\nAND Network has been disabled\nAND the user taps on 'Change my location'",
        "expected": "THEN Ballpark device triggers the OS allow permissions prompt with the header text:\n'Allow \"Ballpark\" to access this device's location?'\n\nAND within prompt the user is shown options:\n- 'Allow only while using the app'\n- 'Only this time' (Android 11)\n- 'Deny'/'Don't Allow'\n- 'Deny & don't ask again' (some device/OS has this setting shown)"
      },
      {
        "content": "WHEN the user taps 'Allow While Using the App' within the Ballpark prompt",
        "expected": "THEN the Ballpark prompt to allow location is dismissed\nAND 'No Location' text is displayed"
      },
      {
        "content": "",
        "expected": "AND 'Change my location' CTA is NOT displayed\n"
      },
      {
        "content": "WHEN Network has been re-enabled\n\n\n",
        "expected": ""
      },
      {
        "content": "WHEN user goes to another page within BP app\nAND user returns to the home tab\n\n",
        "expected": "THEN the location of the device is displayed, such as 'San Francisco, CA'\nAND no CTA is present to change location\n\n*Venue Header img/txt could possible replace the location (if device is located within venue)"
      }
    ]
  }
]