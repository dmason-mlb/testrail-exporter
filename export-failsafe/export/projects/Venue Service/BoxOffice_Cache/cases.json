[
  {
    "id": 33812002,
    "title": "Verify the count of the userThrottleStatus",
    "section_id": 1952334,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 168,
    "created_on": 1722608025,
    "updated_by": 168,
    "updated_on": 1722608025,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 531395,
    "display_order": 1,
    "custom_preconds": "GIVEN\r\nWhen users has numbers of BoxOffice request\r\n",
    "custom_steps": "WHEN,\r\nAdmin user send a request with `http://qa.boxoffice.mlb.com/cache/userThrottleStatus?key=00uhplontu8lM9Yxl0h7",
    "custom_expected": "THEN\r\nresponse should show the below\r\n{\r\n    \"currentlyBeingThrottled\": true,\r\n    \"secondsUntilNextAllowedRequest\": 85610,\r\n    \"currentTime\": \"2024-08-02T13:33:12+0000\",\r\n    \"currentRequestCount\": 1000,\r\n    \"maxRequestCount\": 1000\r\n}\r\n",
    "custom_steps_separated": null
  },
  {
    "id": 33812003,
    "title": "Verify the throttling reset works fine",
    "section_id": 1952334,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 168,
    "created_on": 1722608058,
    "updated_by": 168,
    "updated_on": 1722608179,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 531395,
    "display_order": 2,
    "custom_preconds": "GIVEN\r\nuser has over 1000 calls to BOxOffice in 24 hours",
    "custom_steps": "WHEN,\r\nAdmin send a request http://qa.boxoffice.mlb.com/cache/clear?cacheID=uid-rate-limit&cacheKey=00u1rvkhp48FhqEtr0h8",
    "custom_expected": "THEN\r\napi should return true\r\nAND\r\nuser throttle count should set yo zero",
    "custom_steps_separated": null
  },
  {
    "id": 34155036,
    "title": "Verify BoxO API to bust BoxO cache when ticket purchased in TDC",
    "section_id": 1952334,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 168,
    "created_on": 1727814730,
    "updated_by": 168,
    "updated_on": 1728059202,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 531395,
    "display_order": 3,
    "custom_preconds": "GIVEN\r\nI have an existing TDC account",
    "custom_steps": "WHEN\r\nI buy tickets via mpv\r\nAND\r\nPV to send a PubSub message in to the TOPIC(TBD)\r\nAND\r\nBP app service to process the message and trigger <api>\r\nAND\r\nI should see Redis <cacheKey> are deleted \r\n\r\n\r\nExamples:\r\n|api||cacheKey|\r\n|POST /api/v3/events/$eventID/tickets/flush?teamId=$teamID&uid=$uid|||tdc.ticket.detail:/USA1/41787/7306|\r\n||||tdc.inventory.summary:/USA1/41787-2025-03-20T07:33:00.000Z-2026-01-01T00:00:00.000Z|\r\n\r\nAND\r\nI make a `V2 tickets/summaries with Refresh=false`",
    "custom_expected": "THEN\r\nI should see in Datadogs log shows POST /api/v3/events/$eventID/tickets/flush?teamId=$teamID&uid=$uid call being made\r\nAND\r\nI should view the tickets in BoxOffice V2 tickets/summaries with Refresh=false\r\nAND \r\nI should see PV call being made\r\nAND\r\nI should see Redis <cacheKey> are stored\r\nExamples:\r\n|cacheKey|\r\n|tdc.ticket.detail:/USA1/41787/7306|\r\n|tdc.inventory.summary:/USA1/41787-2025-03-20T07:33:00.000Z-2026-01-01T00:00:00.000Z|",
    "custom_steps_separated": null
  }
]