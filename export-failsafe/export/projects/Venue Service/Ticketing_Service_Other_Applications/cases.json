[
  {
    "id": 1291279,
    "title": "Ticketing admin 1.0 Reporting",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 11,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 1,
    "custom_preconds": null,
    "custom_steps": "(Before Bamgrid migration\r\nLogin to https://qa-ticketing-admin.bamgrid.com/ticketing-admin/\r\n\r\nuse LDAP credential )\r\n\r\nUse Okta sign in\r\nhttps://qa-ticketing-admin-legacy.mlb.com/ticketing-admin/login.jsp\r\n\r\n\r\nOnly scheduler reporting is available\r\n\r\nEnter report name\r\nSelect report type as Events\r\nSelect the year, sports, League and team\r\nClick on configure\r\nRun Now\r\n(Report should be generated)\r\nDownload the report\r\n ",
    "custom_expected": "report should generate with data\r\nemail should receive ",
    "custom_steps_separated": null
  },
  {
    "id": 1291533,
    "title": "Middleware Availability Service",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 2,
    "custom_preconds": "Manual Testing can still be done in QA using ticketing-admin 1.0 (gcp) “Middleware / FrontEnd / API Testing” page to view availability for game Milwaukee Brewers (team 158) / Sep 20, 2020.  This has to be configured to work so randomly picking games won’t work.\r\n\r\n1. Ticketing admin 1 - Needs to create LOWEST mlb flow ( PO assistance needed)",
    "custom_steps": "curl --location --request POST 'https://qa-ticketing-middleware.mlb.com/middleware/block?log=false' \\\r\n--data-raw '{\"GetAvailabilityFilterRequest\":{\"source\":\"ballpark\",\"mlbTeamId\":\"158\",\"mlbEventId\":\"605309\",\"mlbFlow\":\"LOWEST\",\"ticketType\":[\"STANDARD\"],\"sectionBreakDown\":\"true\",\"filter\":[\"LOWESTPRICE\"]}}'",
    "custom_expected": "partial \r\n <event>\r\n        <externalEventId>1206</externalEventId>\r\n        <season>2020</season>\r\n        <description>TEST Texas Rangers</description>\r\n        <secondaryDescription>TEST Twins Vs Rangers</secondaryDescription>\r\n        <date>2020-01-05T18:00:00.000-06:00</date>\r\n        <formattedGameDate>Sunday, January 5, 2020</formattedGameDate>\r\n        <formattedGameTime>6:00 PM</formattedGameTime>\r\n        <status>ON_SALE</status>\r\n        <displayOrder>100</displayOrder>\r\n        <venue>\r\n            <id>1001</id>\r\n            <code>TWIN</code>\r\n            <description>MN Twins</description>\r\n        </venue>\r\n        <venueConfiguration>\r\n            <id>1061</id>\r\n            <code>TWIN</code>\r\n        </venueConfiguration>\r\n    </event>",
    "custom_steps_separated": null
  },
  {
    "id": 1291534,
    "title": "Middleware Event Service",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 3,
    "custom_preconds": "This feature uses the middleware to pull back a list of the ticketing provider event ids.  I don’t believe the business uses this feature  It works in the background so it’s a little wonky.  You hit the button once and it starts a thread to pull back the data.  Then you hit the button again a little later on (30 seconds?) and then the dropdown should populate.    See screenshot on where to do this manually:",
    "custom_steps": "curl -X POST \\\r\n  'https://qa-ticketing-middleware.mlb.com/middleware/block?log=false' \\\r\n  -H 'Authorization: ApiKey e1VIcDDAh06SC1TNCqLz83Z5F43cMZOcazUFAgbR' \\\r\n  -H 'Content-Type: application/xml' \\\r\n  -H 'Postman-Token: 41a915f1-4fb0-4361-8c2c-7c5c3d6145df,24634950-7867-477b-8211-6d3ec815f957' \\\r\n  -H 'QA-Test: Sajadul_UNLINK1094249' \\\r\n  -H 'X-Forwarded-By: 22.33.44.55' \\\r\n  -H 'X-Forwarded-For: 11.22.33.44' \\\r\n  -H 'cache-control: no-cache,no-cache' \\\r\n  -d '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<ns2:getEventRequest xmlns:ns2=\"http://www.mlb.com/ticketing/middleware\">\r\n    <source>mlbfe</source>\r\n    <mlbTeamId>158</mlbTeamId>\r\n    <venueId>32</venueId>\r\n    <mlbFlow>NONE</mlbFlow>\r\n    <startDateRange>20200101</startDateRange>\r\n    <endDateRange>20201231</endDateRange>\r\n</ns2:getEventRequest>'",
    "custom_expected": "    <event>\r\n        <externalEventId>1231</externalEventId>\r\n        <season>2020</season>\r\n        <description>TEST Chicago cubs</description>\r\n        <secondaryDescription>TEST Twins Vs Cubs</secondaryDescription>\r\n        <date>2020-01-01T18:00:00.000-06:00</date>\r\n        <formattedGameDate>Wednesday, January 1, 2020</formattedGameDate>\r\n        <formattedGameTime>6:00 PM</formattedGameTime>\r\n        <status>ON_SALE</status>\r\n        <displayOrder>100</displayOrder>\r\n        <venue>\r\n            <id>1001</id>\r\n            <code>TWIN</code>\r\n            <description>MN Twins</description>\r\n        </venue>\r\n        <venueConfiguration>\r\n            <id>1061</id>\r\n            <code>TWIN</code>\r\n        </venueConfiguration>\r\n    </event>",
    "custom_steps_separated": null
  },
  {
    "id": 1291897,
    "title": "TM Proxy",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 4,
    "custom_preconds": "Please make sure in postman\r\nAutomatically follow redirect is turned off \r\nyou should see 302 response code",
    "custom_steps": "QA \r\nuse the following call\r\nhttp://qa-ticksys-integration.mlb.com/ticketing-proxy/tmproxy?posting_session_id=test1.test2\r\n\r\nProd\r\nUse the following call\r\nSimon Lee 5:23 PM\r\nhttp://35.190.121.18/ticketing-proxy/tmproxy?posting_session_id=test1.test2 .  ( host name will be changed -replacing IP)\r\n",
    "custom_expected": "response code 302\r\n\r\nfor Production: please make sure it takes to TM site\r\nhttps://www.stubhub.com/sell/sth/?ticketData=test1.test2&teamId=test1&vendor=TM#init",
    "custom_steps_separated": null
  },
  {
    "id": 1291898,
    "title": "TM secure PROXY",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 5,
    "custom_preconds": null,
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": null
  },
  {
    "id": 1292286,
    "title": "Backgrand validation",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 6,
    "custom_preconds": null,
    "custom_steps": "QA validation:\r\n\r\nUpdated an existing offer group for a team in TA1.0 ( added an event to an existing offer)\r\nhttps://qa-ticketing-admin-legacy.mlb.com/ticketing-admin/vadin/OfferGroup\r\n\r\nWaited for a couple of minutes without performing any manual cache refresh\r\n\r\nVerified the same offer group in TA2.0 and newly added offer is present\r\nhttps://qa-ticketing-admin.mlb.com/ops/event\r\n\r\nLogs\r\nhttps://console.cloud.google.com/logs/viewer?project=mlb-bbserv-ticketing-npd-e9b7&authuser=0&organizationId=93846768614&minLogLevel=0&expandAll=false&timestamp=2020-01-16T19:01:50.352000000Z&customFacets=&limitCustomFacetWidth=true&dateRangeStart=2020-01-16T18:01:07.144Z&interval=PT1H&resource=k8s_container%2Fcluster_name%2Fmlb-bbserv-ticketing-npd-cluster2%2Fnamespace_name%2Fjx-qa-tix-background-service%2Fcontainer_name%2Fbackground-svc&scrollTimestamp=2020-01-16T18:50:00.217781885Z&dateRangeUnbound=forwardInTime\r\n",
    "custom_expected": "Modfication should take place without clearing cache shows that the background service is running and doing its job ",
    "custom_steps_separated": null
  },
  {
    "id": 6529089,
    "title": "URL validation in Beta",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 7,
    "custom_preconds": "Ticketing account with twins",
    "custom_steps": "Step 1:\r\nGo here > https://beta-login.mlb.com/\r\n \r\nStep 2: \r\nenter for Username: beta-user\r\nEnter for Password: b3ta@mlb.com\r\nClick submit\r\n \r\nStep 3: in the same browser, new tab, go to > http://partner.mlb.com/setBetaCookie.html\r\nClick the dialogue box “OK”\r\n \r\nStep 4:\r\nGo here in the same browser: \r\nhttps://betasecure.mlb.com/min/ticketing/sweetspot/index.jsp\r\n \r\nStep 5: login to your MLB acct\r\n \r\nStep 6:\r\nSame browser, new tab, load any of the following. These are the single sign on links w. the fix:\r\nhttps://beta-aws.mlb.com/twins/tickets/management/portal\r\nhttps://beta-aws.mlb.com/twins/tickets/management/portal?platform=mobile\r\nhttps://beta-aws.mlb.com/twins/tickets/management/portal?platform=desktop",
    "custom_expected": "successful login ",
    "custom_steps_separated": null
  },
  {
    "id": 6682040,
    "title": "Auto stats cache clear when some ticketing data (tlink / promotion) being updated",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 8,
    "custom_preconds": "Access to TA1\r\nhttps://qa-ticketing-admin-legacy.mlb.com/ticketing-admin/vadin/OfferGroup\r\n\r\nSelect a team and gamePK and then add promotion to that gamePK. After a 61 sec submit statapi to verify the change.",
    "custom_steps": "1. Login to ticketing admin 1.0 and go to offers\r\n2. go to search and select sports _MLB and the team\r\n3. click on get offers\r\n4. select an offer ( radio button)\r\n5. on the right hand side select a gamePK for a date that you want to tie the offer to\r\n6. update offers\r\n7. wait for a 61 sec and then submit the statsapi to pull the newly offer details\r\nGET 'https://qa-statsapi.mlb.com/api/v1/schedule?lang=en&sportId=1&season=2020&teamId=158&eventTypes=primary&scheduleTypes=games,events,xref&hydrate=game%28tickets,promotions,sponsorships,atBatPromotions%29&endDate=2020-03-28&startDate=2020-03-28'\r\n",
    "custom_expected": null,
    "custom_steps_separated": null
  },
  {
    "id": 8673492,
    "title": "Invalidation service for TA2.0",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 9,
    "custom_preconds": "This service hits the background service to clear cache. It’s used by the admin2 events page to clear cache after you update something\r\n\r\nhttps://baseball.atlassian.net/browse/TIX-2328",
    "custom_steps": "1. Make changes to an event in admin 2 ( date, time, venue or desc)\r\n2. Wait for a few mins ( 2-5 mins)\r\n3.Update should be available in Boxoffice \r\n( please make sure user has a ticket for the same event)",
    "custom_expected": "Without making any manual cache (cacheID=admin-config) change should take in place in BoxOffice\r\n\r\n",
    "custom_steps_separated": null
  },
  {
    "id": 16206475,
    "title": "Tix-stats-change_Verify when stats made schedule time change that takes place in ticketing client",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 10,
    "custom_preconds": null,
    "custom_steps": "1. Check the Event status by submitting http://qa-statsapi.mlb.com/api/v1/schedule?gamePk=634587&hydrate=game(tickets)\r\n2.Sends email to MLBAM - Schedules <Schedules@MLB.com> to update TIME for a particular gamePK\r\nEx. gamePK 634587\r\nTeamID 147\r\n3.Verify the when stats confirms the changes\r\n4. Wait for 6 mins and 30 sec and verify the GCP log and ticketing client for an update",
    "custom_expected": "1. Status to display the current date/time for the event\r\n2. Wait for the change to take place\r\n3. Get the status updated info using http://qa-statsapi.mlb.com/api/v1/schedule?gamePk=634587&hydrate=game(tickets)\r\nAlso, Change should be saved in Postgres database -StatsToTicketing& table stats_change_history\r\nAlso, GCP log should show the change has been received \r\n![](index.php?/attachments/get/8485932)\r\nAlso, Ticketing client should display still display the old date/time\r\nhttp://qa.ticketing-client.com/ticketing-client/json/GameTicketPromotionThin.tiksrv?team_id=158&begin_date=20210101&end_date=20211231&lang=en&schedule_id=632945\r\n4.Ticketing client should display still display the updated date/time\r\nhttp://qa.ticketing-client.com/ticketing-client/json/GameTicketPromotionThin.tiksrv?team_id=158&begin_date=20210101&end_date=20211231&lang=en&schedule_id=634587\r\nAlso, log should say the InvalidationUMO.process() with gamePk=634587\r\n",
    "custom_steps_separated": null
  },
  {
    "id": 16206476,
    "title": "tix-stats-change_Verify when stats made schedule date change that takes place in ticketing client",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 11,
    "custom_preconds": null,
    "custom_steps": "1. Check the Event status by submitting http://qa-statsapi.mlb.com/api/v1/schedule?gamePk=634587&hydrate=game(tickets)\r\n2.Sends email to MLBAM - Schedules <Schedules@MLB.com> to update a particular gamePK\r\nEx. gamePK 634587\r\nTeamID 147\r\n3.Verify the when stats confirms the changes\r\n4. Wait for 6 mins and 30 sec and verify the GCP log and ticketing client for an update\r\n",
    "custom_expected": "1. Status to display the current date/time for the event\r\n2. Wait for the change to take place\r\n3. Get the status updated info using http://qa-statsapi.mlb.com/api/v1/schedule?gamePk=634587&hydrate=game(tickets)\r\nAlso, Change should be saved in Postgres database -StatsToTicketing& table stats_change_history\r\nAlso, GCP log should show the change has been received \r\n![](index.php?/attachments/get/8485932)\r\nAlso, Ticketing client should display still display the old date/time\r\nhttp://qa.ticketing-client.com/ticketing-client/json/GameTicketPromotionThin.tiksrv?team_id=158&begin_date=20210101&end_date=20211231&lang=en&schedule_id=632945\r\n4.Ticketing client should display still display the updated date/time\r\nhttp://qa.ticketing-client.com/ticketing-client/json/GameTicketPromotionThin.tiksrv?team_id=158&begin_date=20210101&end_date=20211231&lang=en&schedule_id=634587\r\nAlso, log should say the InvalidationUMO.process() with gamePk=634587\r\n",
    "custom_steps_separated": null
  },
  {
    "id": 16206481,
    "title": "BackgroundJob_Verify when TLINK changes in admin1 that takes place in ticketing client",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 12,
    "custom_preconds": "Access to ticketing admin1",
    "custom_steps": "1. Login to ticketing admin1 https://qa-ticketing-admin-legacy.mlb.com/ticketing-admin/vadin/HomePage\r\n2. Go to Event mapping under Event Management\r\n3. Select the year, sports, team and venue and click on Refresh Events to get all the Events\r\n4. Select an event click on \"Get Mapping\"\r\n5. Modify or add a tlink and save it\r\n6. Without running any cache this change should take place within 6 mons 30 secs\r\nsample \r\nhttp://qa.ticketing-client.com/ticketing-client/json/GameTicketPromotionPriceThin.tiksrv?team_id=147&site_section=%27SCHEDULE%27&begin_date=20210101&end_date=20221231&year=2021\r\n\r\n",
    "custom_expected": "1. Login should the successful\r\n2. Event mapping page will appear\r\n3. List of events will be display\r\n4. Existing Tlink mapping will display ( if any)\r\n5. Tlink will be updated\r\n6. Ticketing client service should have the modified tlink\r\n",
    "custom_steps_separated": null
  },
  {
    "id": 16206482,
    "title": "BackgroundJob_Verify when TLINK changes for the event thats part of the promotion via admin1",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 13,
    "custom_preconds": "Make sure the event is present in the promotion",
    "custom_steps": "1. Login to ticketing admin1 https://qa-ticketing-admin-legacy.mlb.com/ticketing-admin/vadin/HomePage\r\n2. Go to Event mapping under Event Management\r\n3. Select the year, sports, team and venue and click on Refresh Events to get all the Events\r\n4. Select an event click on \"Get Mapping\"\r\n5. Modify or add a tlink and save it\r\n6. Without running any cache this change should take place within 6 mons 30 secs\r\nsample \r\nhttp://qa.ticketing-client.com/ticketing-client/json/GameTicketPromotionPriceThin.tiksrv?team_id=147&site_section=%27SCHEDULE%27&begin_date=20210101&end_date=20221231&year=2021\r\n7. Verify the Background log\r\n![](index.php?/attachments/get/8485846)\r\n",
    "custom_expected": "\r\n1. Login should the successful\r\n2. Event mapping page will appear\r\n3. List of events will be display\r\n4. Existing Tlink mapping will display ( if any)\r\n5. Tlink will be updated\r\n6. Ticketing client service should have the modified tlink\r\n7. Event log should be present\r\n",
    "custom_steps_separated": null
  },
  {
    "id": 16206498,
    "title": "BackgroundJob_Verify the modification of an offer associated with gamePK in admin1",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 14,
    "custom_preconds": null,
    "custom_steps": "1.Login to admin1 and go to Offers View/Create/Edit Offer Group\r\n2.Select a team and offer groups\r\n3.Modify by adding or removing an event & save it\r\n4.Verify the records in the log\r\n![](index.php?/attachments/get/8485847)\r\n\r\n5.Go to Admin2 and verify the same team & offer group\r\n\r\n",
    "custom_expected": "1.Offers page should display\r\n2.List of Mapped Event(s) should display\r\n3.Offer groups should be updated\r\n4.Information should be invalidated\r\n5. Admin2 should have updated events for the offer group",
    "custom_steps_separated": null
  },
  {
    "id": 16206499,
    "title": "BackgroundJob_Verify when event details changes in admin2 that takes place in ticketing client",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 15,
    "custom_preconds": "Make you have a ticket for the event\r\nUpdate the same event\r\n",
    "custom_steps": "1. Add/Modify Event details changes in Ticketing admin2 & save it\r\n2. Wait for 1 min ( while waiting check the background log)\r\nresource.type=\"k8s_container\"\r\nresource.labels.project_id=\"mlb-bbserv-ticketing-npd-e9b7\"\r\nresource.labels.location=\"us-east4\"\r\nresource.labels.cluster_name=\"mlb-bbserv-ticketing-npd-cluster2\"\r\nresource.labels.namespace_name=\"jx-qa-tix-background-service\"\r\nlabels.k8s-pod/app_kubernetes_io/instance=\"jx\"\r\nlabels.k8s-pod/app_kubernetes_io/name=\"background-svc\" severity>=DEFAULT\r\n158\r\n3. Background job will invalidate the change",
    "custom_expected": "1. Update should take place in Ticketing admin2\r\n2. Background log should have the change (teamID\r\n3. After invalidate the change display on ticket. \r\n(/api/v2/users/tickets?teamID=158&refresh=false&includeTicketBack=true&ballpark_summary=true&eventID=632386)",
    "custom_steps_separated": null
  },
  {
    "id": 16254055,
    "title": "PromotionUpdate_Verify when a single game promotion sale date update with remvoePromotInd = 'Y'",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 16,
    "custom_preconds": "Make sure there is a single game promotion\r\nTicketing admin1 Remove Promo When Event Date Changes : Y. ( Under offers /Create promotion)\r\nAfter the gamePK change for the promotion event.. the promotion should not be with the gamePK, it should go into BETA ( verify in Ticketing admin1 Under offers /Create promotion)",
    "custom_steps": "1. Check the Event status by submitting http://qa-statsapi.mlb.com/api/v1/schedule?gamePk=634587&hydrate=game(tickets)\r\n2. Check the current promotion status-http://qa.ticketing-client.com/ticketing-client/json/GameTicketPromotionPriceThin.tiksrv?site_section=DEFAULT&ticket_category=Tickets&begin_date=20210101&end_date=20221231&year=2021&team_id=158&schedule_id=633407\r\n3.Sends email to MLBAM - Schedules <Schedules@MLB.com> to update a particular gamePK (start date )\r\nEx. gamePK 634587\r\nTeamID 147\r\n4.Verify the when stats confirms the changes\r\n5. Wait for 6 mins and 30 sec and verify the GCP log and ticketing client for the below updates\r\na) Event date should be updated\r\nb) Ticketing admin 1 Display Status:set to be \"BETA\"\r\n ",
    "custom_expected": "1. Status to display the current date/time for the event\r\n2. Promotion should be active\r\n3. Wait for the change to take place\r\n4. Get the status updated info using http://qa-statsapi.mlb.com/api/v1/schedule?gamePk=634587&hydrate=game(tickets)\r\nAlso, Change should be saved in Postgres database -StatsToTicketing& table stats_change_history\r\nAlso, GCP log should show the change has been received \r\n![](index.php?/attachments/get/8485934)\r\n\r\nAlso, Ticketing client should display still display the old promotion info\r\nhttp://qa.ticketing-client.com/ticketing-client/json/GameTicketPromotionPriceThin.tiksrv?site_section=DEFAULT&ticket_category=Tickets&begin_date=20210101&end_date=20221231&year=2021&team_id=158&schedule_id=633407\r\n5.Ticketing client should not display the promotion any more\r\nhttp://qa.ticketing-client.com/ticketing-client/json/GameTicketPromotionPriceThin.tiksrv?site_section=DEFAULT&ticket_category=Tickets&begin_date=20210101&end_date=20221231&year=2021&team_id=158&schedule_id=633407\r\nAlso, log should say-JobQueuePromotionUpdateProcessor.process() with gamePk=634587\r\nAlso, Ticketing admin 1 should set the Display Status:set to \"BETA\"",
    "custom_steps_separated": null
  },
  {
    "id": 16254056,
    "title": "PromotionUpdate_Verify when a single game promotion sale date update with remvoePromotInd = 'N'",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 17,
    "custom_preconds": "Make sure there is a single game promotion\r\nTicketing admin1 Remove Promo When Event Date Changes : N. ( Under offers /Create promotion)\r\nAfter the gamePK change for the promotion event-the promotion should be with the gamePK",
    "custom_steps": "1. Check the Event status by submitting http://qa-statsapi.mlb.com/api/v1/schedule?gamePk=634587&hydrate=game(tickets)\r\n2. Check the current promotion status-http://qa.ticketing-client.com/ticketing-client/json/GameTicketPromotionPriceThin.tiksrv?site_section=DEFAULT&ticket_category=Tickets&begin_date=20210101&end_date=20221231&year=2021&team_id=158&schedule_id=633407\r\n3.Sends email to MLBAM - Schedules <Schedules@MLB.com> to update a particular gamePK (start date )\r\nEx. gamePK 634587\r\nTeamID 147\r\n4.Verify the when stats confirms the changes\r\n5. Wait for 6 mins and 30 sec and verify the GCP log and ticketing client for the below updates\r\na) Event date should be updated\r\nb) Event should still be part of the promotion",
    "custom_expected": "1. Status to display the current date/time for the event\r\n2. Promotion should be active\r\n3. Wait for the change to take place\r\n4. Get the status updated info using http://qa-statsapi.mlb.com/api/v1/schedule?gamePk=634587&hydrate=game(tickets)\r\nAlso, Change should be saved in Postgres database -StatsToTicketing& table stats_change_history\r\nAlso, GCP log should show the change has been received \r\n![](index.php?/attachments/get/8485934)\r\n\r\nAlso, Ticketing client should display still display the old promotion info\r\nhttp://qa.ticketing-client.com/ticketing-client/json/GameTicketPromotionPriceThin.tiksrv?site_section=DEFAULT&ticket_category=Tickets&begin_date=20210101&end_date=20221231&year=2021&team_id=158&schedule_id=633407\r\n5.Ticketing client should still display the promotion\r\nhttp://qa.ticketing-client.com/ticketing-client/json/GameTicketPromotionPriceThin.tiksrv?site_section=DEFAULT&ticket_category=Tickets&begin_date=20210101&end_date=20221231&year=2021&team_id=158&schedule_id=633407\r\nAlso, log should say-JobQueuePromotionUpdateProcessor.process() with gamePk=634587\r\nAlso, Event should not part of the promotion",
    "custom_steps_separated": null
  },
  {
    "id": 16254057,
    "title": "PromotionUpdate_Verify when a multi game promotion sale date update with remvoePromotInd = 'Y'",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 18,
    "custom_preconds": "Make sure there is multi games promotion\r\nTicketing admin1 Remove Promo When Event Date Changes : Y ( Under offers /Create promotion)\r\nAfter the gamePK change for the promotion event.. the promotion should not be with the gamePK",
    "custom_steps": "1. Check the Event status by submitting http://qa-statsapi.mlb.com/api/v1/schedule?gamePk=634587&hydrate=game(tickets)\r\n2. Check the current promotion status-http://qa.ticketing-client.com/ticketing-client/json/GameTicketPromotionPriceThin.tiksrv?site_section=DEFAULT&ticket_category=Tickets&begin_date=20210101&end_date=20221231&year=2021&team_id=158&schedule_id=633407\r\n3.Sends email to MLBAM - Schedules <Schedules@MLB.com> to update a particular gamePK (start date )\r\nEx. gamePK 634587\r\nTeamID 147\r\n4.Verify the when stats confirms the changes\r\n5. Wait for 6 mins and 30 sec and verify the GCP log and ticketing client for the below updates\r\na) Event date should be updated\r\nb) Ticketing admin 1 Display Status still as PROD",
    "custom_expected": "\r\n1. Status to display the current date/time for the event\r\n2. Promotion should be active\r\n3. Wait for the change to take place\r\n4. Get the status updated info using http://qa-statsapi.mlb.com/api/v1/schedule?gamePk=634587&hydrate=game(tickets)\r\nAlso, Change should be saved in Postgres database -StatsToTicketing& table stats_change_history\r\nAlso, GCP log should show the change has been received \r\n![](index.php?/attachments/get/8485934)\r\n\r\nAlso, Ticketing client should display still display the old promotion info\r\nhttp://qa.ticketing-client.com/ticketing-client/json/GameTicketPromotionPriceThin.tiksrv?site_section=DEFAULT&ticket_category=Tickets&begin_date=20210101&end_date=20221231&year=2021&team_id=158&schedule_id=633407\r\n5.Ticketing client should still display the promotion and only the event is off the promotion\r\nhttp://qa.ticketing-client.com/ticketing-client/json/GameTicketPromotionPriceThin.tiksrv?site_section=DEFAULT&ticket_category=Tickets&begin_date=20210101&end_date=20221231&year=2021&team_id=158&schedule_id=633407\r\nAlso, log should say-JobQueuePromotionUpdateProcessor.process() with gamePk=634587\r\nAlso, Ticketing admin 1 should set the Display Status stays as prod",
    "custom_steps_separated": null
  },
  {
    "id": 17416091,
    "title": "Middleware_TDC_certificationTest_verify availability service",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 19,
    "custom_preconds": "TDC recertification of Ticketing-Middleware\r\n\r\nSummary\r\nUpdated the way Ticketing-Middleware authenticates with TDC. Instead of username/password use client_id and client_secret to pull access token and pass in subsequent requests. Access token is cached for 7 hours 30 minutes and can also be refreshed if a pv.proxy.10001 error message is returned from TDC.\r\n\r\nAPI\r\n2.1 events\r\ncurl --location --request POST 'http://preview-middleware-svc-pr-37-4.bbserv-ticketing-gcp-npd.mlbinfra.net/middleware/block?ignoreCache=true' \\\r\n--header 'Content-Type: application/xml' \\\r\n--data-raw '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<ns2:getEventRequest xmlns:ns2=\"http://www.mlb.com/ticketing/middleware\">\r\n    <source>mlbfe</source>\r\n    <mlbTeamId>137</mlbTeamId>\r\n    <venueId>2395</venueId>\r\n    <mlbFlow>NONE</mlbFlow>\r\n    <startDateRange>20210101</startDateRange>\r\n    <endDateRange>20211231</endDateRange>\r\n</ns2:getEventRequest>'\r\n\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<ns0:getEventResponse xmlns:ns0=\"http://www.mlb.com/ticketing/middleware\">\r\n    <requestId>210603T174230lrrnFKyvKhtoU0rEvzRG1Q</requestId>\r\n    <workflowId>210603T174230lPKOrcralKI8mZJqFUVDqg</workflowId>\r\n    <event>\r\n        <externalEventId>9726</externalEventId>\r\n        <season>2021</season>\r\n        <description>Parking</description>\r\n        <secondaryDescription>Parking for Game # 14</secondaryDescription>\r\n        <date>2021-06-08T19:35:00.000-07:00</date>\r\n        <formattedGameDate>Tuesday, June 8, 2021</formattedGameDate>\r\n        <formattedGameTime>7:35 PM</formattedGameTime>\r\n        <onSaleEndDate>2021-06-08T20:35:00.000-07:00</onSaleEndDate>\r\n        <status>ON_SALE</status>\r\n        <displayOrder>100</displayOrder>\r\n        <venue>\r\n            <id>3160</id>\r\n            <code>GA</code>\r\n            <description>General Admission</description>\r\n        </venue>\r\n    </event>\r\n    <event>\r\n        <externalEventId>9686</externalEventId>\r\n        <season>2021</season>\r\n        <description>Rockies at Zephyrs</description>\r\n        <secondaryDescription>Game #14</secondaryDescription>\r\n        <date>2021-06-08T19:35:00.000-07:00</date>\r\n        <formattedGameDate>Tuesday, June 8, 2021</formattedGameDate>\r\n        <formattedGameTime>7:35 PM</formattedGameTime>\r\n        <onSaleEndDate>2021-06-08T20:35:00.000-07:00</onSaleEndDate>\r\n        <status>ON_SALE</status>\r\n        <displayOrder>100</displayOrder>\r\n        <venue>\r\n            <id>3140</id>\r\n            <code>BASEBALL</code>\r\n            <description>Baseball Park</description>\r\n        </venue>\r\n        <venueConfiguration>\r\n            <id>3142</id>\r\n            <code>BBALL</code>\r\n        </venueConfiguration>\r\n    </event>\r\n…\r\n</ns0:getEventResponse>\r\n\r\n2.2 availability/events\r\ncurl --location --request POST 'http://preview-middleware-svc-pr-37-4.bbserv-ticketing-gcp-npd.mlbinfra.net/middleware/block?ignoreCache=true' \\\r\n--header 'Content-Type: application/json' \\\r\n--data-raw '{\r\n    \"GetAvailabilityFilterRequest\": {\r\n        \"source\": \"lowest\",\r\n        \"mlbTeamId\": \"158\",\r\n        \"mlbEventId\": \"632397\",\r\n        \"mlbFlow\": \"LOWEST\",\r\n        \"ticketType\": [\r\n            \"STANDARD\"\r\n        ],\r\n        \"sectionBreakDown\": false,\r\n        \"filter\": [\r\n            \"LOWESTPRICE\",\r\n            \"FEATURED\",\r\n            \"BESTAVAILABLE\"\r\n        ],\r\n        \"ticketsRequested\": 2\r\n    }\r\n}'\r\n\r\n{\r\n    \"GetAvailabilityResponse\": {\r\n        \"requestId\": \"210602T212346oW47413-UcLNc7cgLWVIzA\",\r\n        \"workflowId\": \"210602T212346lAapxigRRyuX7eFyFpJO5w\",\r\n        \"eventPriceGroup\": [\r\n            {\r\n                \"event\": {\r\n                    \"mlbEventId\": \"632397\",\r\n                    \"mlbTicketType\": \"STANDARD\",\r\n                    \"ticketingPartnerId\": \"65039\",\r\n                    \"ticketingPartnerCode\": \"TDC\",\r\n                    \"externalEventId\": \"9707\",\r\n                    \"season\": \"2021\",\r\n                    \"description\": \"Brewers at Zephyrs\",\r\n                    \"secondaryDescription\": \"Game #35\",\r\n                    \"date\": \"2021-09-11T19:35:00.000-07:00\",\r\n                    \"formattedGameDate\": \"Saturday, September 11, 2021\",\r\n                    \"formattedGameTime\": \"7:35 PM\",\r\n                    \"onSaleEndDate\": \"2021-09-11T20:35:00.000-07:00\",\r\n                    \"status\": \"ON_SALE\",\r\n                    \"displayOrder\": 100,\r\n                    \"venue\": {\r\n                        \"id\": \"3140\",\r\n                        \"code\": \"BASEBALL\",\r\n                        \"description\": \"Baseball Park\"\r\n                    },\r\n                    \"venueConfiguration\": {\r\n                        \"id\": \"3142\",\r\n                        \"code\": \"BBALL\"\r\n                    }\r\n                },\r\n                \"priceGroup\": [\r\n                    {\r\n                        \"priceScale\": {\r\n                            \"id\": \"2295\",\r\n                            \"code\": \"DC\",\r\n                            \"description\": \"Dugout Club\",\r\n                            \"displayOrder\": 10,\r\n                            \"mlbId\": \"66153\",\r\n                            \"mlbDescription\": \"Field Outfield Box\",\r\n                            \"mlbWebImageURL\": \"https://storage.googleapis.com/ticketing-assets/seating-map-overlays/mil/images/ballpark/section_maps/66153.png\",\r\n                            \"mlbMobileImageURL\": \"https://storage.googleapis.com/ticketing-assets/seating-map-overlays/mil/images/ballpark/section_maps/66153.png\"\r\n                        },\r\n                        \"otherPrice\": [\r\n                            {\r\n                                \"buyerTypeId\": \"3161\",\r\n                                \"buyerTypeCode\": \"ADULT\",\r\n                                \"mlbBuyerTypeCode\": \"ADULT-3161\",\r\n                                \"price\": 203.00,\r\n                                \"totalAvailable\": 66,\r\n                                \"description\": \"Adult\",\r\n                                \"maximumContiguousAvailable\": 8,\r\n                                \"minimumPerOrderAmount\": 1,\r\n                                \"maximumPerOrderAmount\": 0,\r\n                                \"displayOrder\": \"1\",\r\n                                \"bestavailable\": true,\r\n                                \"default\": true\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        \"priceScale\": {\r\n                            \"id\": \"2318\",\r\n                            \"code\": \"CFB120\",\r\n                            \"description\": \"Center Fld Bleacher (Row 1-20)\",\r\n                            \"displayOrder\": 180,\r\n                            \"mlbId\": \"6031951\",\r\n                            \"mlbDescription\": \"Premium Field Club Premium Field Club \"\r\n                        },\r\n                        \"otherPrice\": [\r\n                            {\r\n                                \"buyerTypeId\": \"3161\",\r\n                                \"buyerTypeCode\": \"ADULT\",\r\n                                \"mlbBuyerTypeCode\": \"ADULT-3161\",\r\n                                \"price\": 69.91,\r\n                                \"totalAvailable\": 885,\r\n                                \"description\": \"Adult\",\r\n                                \"maximumContiguousAvailable\": 26,\r\n                                \"minimumPerOrderAmount\": 1,\r\n                                \"maximumPerOrderAmount\": 0,\r\n                                \"displayOrder\": \"1\",\r\n                                \"lowest\": true,\r\n                                \"default\": true\r\n                            }\r\n                        ]\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"captchaRequired\": false\r\n    }\r\n}\r\n\r\n\r\n2.3 test/ping\r\ncurl --location --request POST 'http://preview-middleware-svc-pr-37-4.bbserv-ticketing-gcp-npd.mlbinfra.net/middleware/block?ignoreCache=true' \\\r\n--header 'Content-Type: application/json' \\\r\n--data-raw '{\r\n    \"PingRequest\": {\r\n        \"source\": \"mlbfe\",\r\n        \"mlbTeamId\": \"158\",\r\n        \"venueId\": \"32\",\r\n        \"mlbFlow\": \"LOWEST\"\r\n    }\r\n}'\r\n\r\n{\r\n    \"PingResponse\": {\r\n        \"requestId\": \"210602T214333nLDa6EAi9zo_u2ePIjFEbw\",\r\n        \"workflowId\": \"210602T214333oDSNY1Eyz-2j8yS8IdhAnw\",\r\n        \"vendorVersion\": \"6.0.00.28\",\r\n        \"cachedRequestTime\": \"2021-06-02T21:43:34.172+0000\",\r\n        \"applicationVersion\": \"0.0.0-SNAPSHOT-PR-37-4 ticketing-shared:6.4.9 shared:1.1.3-SNAPSHOT Java source:1.8 target:1.8 OS:4.19.167+\"\r\n    }\r\n}\r\n\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": null
  },
  {
    "id": 21028845,
    "title": "Tix admin1 _Verify section management report",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 20,
    "custom_preconds": "user should have access to https://qa-ticketing-admin-legacy.mlb.com/ticketing-admin/login.jsp",
    "custom_steps": "Log in to admin1 https://qa-ticketing-admin-legacy.mlb.com/ticketing-admin/login.jsp\r\n1 go to Manage Sections under pricing \r\n2. select Brewers team and select Default section view\r\n3. click on generate report\r\n4. go to reporting and you should see section management report has been generated\r\n5. Verify all the columns has been filled up with data\r\n6. compare the previously generated report ",
    "custom_expected": "report should generate with data",
    "custom_steps_separated": null
  },
  {
    "id": 21190278,
    "title": "Verify when gamePk resume dateTIme is setup and the same dateTime is captured in ticketing",
    "section_id": 1645388,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 21,
    "custom_preconds": null,
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": null
  },
  {
    "id": 28758935,
    "title": "Verify the MW service use the lowest api for low price setup",
    "section_id": 1645389,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 1,
    "custom_preconds": "Given\nLowest price is setup in QA for Brewers or Yankess\nAND\nCurrent MW service is not active\nAND\nThere are no redis Key available in Cache\nAND\nManually run the <api> service\n|api|\n|https://qa-ticketing-middleware.mlb.com/middleware/lowest|",
    "custom_steps": "When\nSubmit the <ticketing client api> \n|ticketing client api|\n|http://qa.ticketing-client.com/ticketing-client/json/GamePromotion.tiksrv?team_id=147&year=2022&display_in=%27Schedule%27&availability=true&team_id=158&available_only=true&ignoreCache=t1cket$|",
    "custom_expected": "Then\nTicketing client response should show the availability sections with <lowest price details>\nExamples |\"availability\": {\n                    \"availableQuantity\": \"50\",\n                    \"section_name\": \"Field Club Field Club 113 \",\n                    \"price\": \"25.0\",\n                    \"availability_detail\": {\n                        \"availableQuantity\": \"50\",\n                        \"price_scale_id\": \"6040897\",\n                        \"price_scale_name\": \"Field Club Field Club 113 \"\n                    }|",
    "custom_steps_separated": null
  },
  {
    "id": 28758936,
    "title": "Verify the availability is not shwoing when MW lowest API is not running",
    "section_id": 1645389,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 2,
    "custom_preconds": "Given\nLowest price is setup in QA for Brewers or Yankess\nAND\nCurrent MW service is not active\nAND\nThere are no redis Key available in Cache\nAND\nNo Manually run the <api> service\n|api|\n|https://qa-ticketing-middleware.mlb.com/middleware/lowest|",
    "custom_steps": "When\nSubmit the <ticketing client api> \n|ticketing client api|\n|http://qa.ticketing-client.com/ticketing-client/json/GamePromotion.tiksrv?team_id=147&year=2022&display_in=%27Schedule%27&availability=true&team_id=158&available_only=true&ignoreCache=t1cket$|",
    "custom_expected": "Then\nTicketing client response should not show the availability secotions with <lowest price details>",
    "custom_steps_separated": null
  },
  {
    "id": 21190277,
    "title": "Verify when there is a gamePk schedule change and the same change is captured in  ticketing",
    "section_id": 1645390,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 370,
    "created_on": 1677510950,
    "updated_by": 370,
    "updated_on": 1677510950,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 594611,
    "display_order": 1,
    "custom_preconds": null,
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": null
  }
]