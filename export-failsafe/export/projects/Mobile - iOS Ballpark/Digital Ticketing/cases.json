[
  {
    "id": 50164,
    "title": "Ticket Dashboard",
    "section_id": 7027,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 4,
    "milestone_id": null,
    "refs": null,
    "created_by": 25,
    "created_on": 1423784673,
    "updated_by": 43,
    "updated_on": 1505938213,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 1,
    "custom_preconds": "Given users are on the ticket dashboard",
    "custom_steps": null,
    "custom_expected": "   ",
    "custom_steps_separated": [
      {
        "content": "When the user navigates to the Ticket Dashboard for a team that has digital access enabled\nAnd the user has not yet linked their account",
        "expected": "Then the cell directly below the sub nav will display a message directing the users to link their account\nAnd there will be a 'Link Account' button\nAnd tapping that button will bring the user to the Ticketing Accounts page"
      },
      {
        "content": "When the user navigates to the Ticket Dashboard",
        "expected": "Then the user will see a button for the Team Picker on the top left\nAnd a POI indicator (when applicable) on the top right\nAnd the sub nav below that\nAnd the current/next event module below that\nAnd buttons to buy, upgrade(if applicable) for current/next\nAnd a timestamp showing last update time (with a tappable button to update)\nAnd a section with upcoming events (next 3 home)\nAnd a button for all home events \nAnd a section that displays event \"cards\" with for any event for which the user has tickets\nAnd a transfers section with received and sent\nAnd a section for supplemental ticketing webviews\nAnd a button to take the user to Settings > Ticketing Accounts (filtered for club)\n"
      },
      {
        "content": "When the user looks at the event information",
        "expected": "Then the user will see the team names and logos (Nationals @ Cardinals), the event date/time (stadium time zone) & stadium name\n"
      },
      {
        "content": "When the user looks at the button available for the Next/Current Event",
        "expected": "Then the user should see Buy Tickets and Upgrade buttons (but NOT Upgrade if the \"upgradeURL:\" is blank for that ballpark in the ballpark.json)"
      },
      {
        "content": "When the user taps on a ticket in the tickets found section (if user has tickets for current/next event)",
        "expected": "Then the user will be taken to the Scan View for that specific ticket"
      },
      {
        "content": "When the user looks to the left of their seat information in the Tickets Found section (if they have tickets for the current/next event)",
        "expected": "Then they will see a ticket image for each ticket in their inventory\n\n"
      },
      {
        "content": "When the user taps on the Buy Tickets button",
        "expected": "Then the user will be taken to the native ticket flow for that game"
      },
      {
        "content": "When native ticket enabled is false for a team\nand the user taps on the Buy Tickets button either from the ticket dashboard game module or the ticket event detail view",
        "expected": "THEN the user will be taken through the mobile ticket purchase flow"
      },
      {
        "content": "When the user taps on the Upgrades button",
        "expected": "Then the user will be taken to the upgrading ticket webview"
      },
      {
        "content": "When the user taps on card of one of their \"YOUR UPCOMING EVENTS\"",
        "expected": "Then the user will be taken to the Full Ticket List view for the next/upcoming event"
      },
      {
        "content": "When the user taps on a game cell in the Next Home Events section and they do NOT have tickets for that event",
        "expected": "Then the user should be taken into the native ticket flow or web ticket flow if NTP is not enabled"
      },
      {
        "content": "When the user taps on a game cell in the Next Home Events section and they DO have tickets for that event",
        "expected": "Then the user will be taken to the Ticket List view for that specific game\nand will see the following:\n- a carrot back button on the top left\n- a Forward mode button in the top right\n- a cell with team names and logos (Nationals @ Cardinals)\n- event date & stadium name\n- game start time in stadium local time and timezone\n- a section for buying, upgrading(if applicable) buttons"
      },
      {
        "content": "When the user taps on All Home Events button below the upcoming events section",
        "expected": "Then the user will be taken to the Home Events master list\nAnd it will display the following\n- a carrot back button on the top left\n- a refresh timestamp\n- list of all future home events\n(each cell will display the following:\n- logo of the team they are playing against\n- day of, and the date of the game\n- the team they are playing against, and start time with timezone)"
      },
      {
        "content": "When the user taps on an event cell in the Home Events master list they DO have tickets to",
        "expected": "Then the user will be taken to the Ticket List view for that event"
      },
      {
        "content": "When the user taps on an event cell in the Home Events master list they do NOT have tickets to",
        "expected": "Then the user should be taken into the native ticket flow or web ticket flow if NTP is not enabled"
      },
      {
        "content": "When the user taps on an event card in the future ticketed games section (Your Upcoming Events)",
        "expected": "Then the user will be taken to the Ticket List view for the selected event\nAnd the user will see the number of tickets found in the refresh timestamp section\nAnd the user will see a list of all the tickets found\nAnd the user will see a section for buying, upgrading(if applicable) buttons"
      },
      {
        "content": "When the user taps on the All Ticketed Games button (e.g. See All in Your Upcoming Events section)",
        "expected": "**Not applicable for 6.x**\n\nThen the user will be taken to the All Ticketed Games view\nAnd it will display the following:\n- a carrot back button on the top left\n- a refreshed timestamp\n- list of tickets with the number of tickets found for that specific event"
      },
      {
        "content": "When the user taps on the Received or Sent button under the ticket forwards section",
        "expected": "Then the user will be taken to the ticket forward page\nAnd it will display the following:\n- a carrot back button on the top left\n- a received and sent indicator(one of these cells will be highlighted based on the one tapped to navigate to this page)\n- a list of all completed transactions\n- a list of all cancelled transactions\n(each transaction will display the following:\n- day of event and opponent for game event/title for non game event\n- section, row, and seat)"
      },
      {
        "content": "When the user taps on a completed transaction on the received section of the ticket forward page",
        "expected": "Then the user will be taken to the Forward details page\nAnd the page will display the following:\n- a carrot back button on the top left\n- event information\n- ticket information\n- forward details (From, Date, Status)"
      },
      {
        "content": "When the user taps on a completed transaction on the sent section of the ticket forward page",
        "expected": "Then the user will be taken to the Forward details page\nAnd the page will display the following:\n- a carrot back button on the top left\n- event information\n- a cancel forward button\n- ticket information\n- forward details (To, Date, Accepted By, Status)\n"
      },
      {
        "content": "When the user taps on the cancel forward button",
        "expected": "Then the ticket that was forwarded will be returned to the current user"
      },
      {
        "content": "When the user looks to the left of the event information on the cells in the Upcoming Events section",
        "expected": "Then the user will see the opponents team logo or generic icon for non game event\n\n(please confirm for all 30 teams)"
      },
      {
        "content": "When the user looks at the cards for upcoming events for which they have tickets \"Your Upcoming Events\"",
        "expected": "Then the user will see the opponents team logo or generic icon for non game event in the background"
      },
      {
        "content": "When the user looks at the Ticket Dashboard\nAnd sees a time",
        "expected": "Then the time will be displayed as local time of the selected ballpark with time zone"
      },
      {
        "content": "When a user has a ticket(s) for the current day\nAND the user looks at the Tickets dashboard of that team",
        "expected": "THEN the user will the ticket(s) listed in the Tickets Dashboard\n\n*Changing device date to the date of the ticket will not work as of 6.2, will need tickets for an event on today's server date"
      },
      {
        "content": "When a user has a ticket(s) for the current day and swipes left on one of the rows",
        "expected": "Then the user should be able to access a quick link to the forward or cancel forward ticket functionality depending if the ticket is currently in their inventory or in a pending state"
      },
      {
        "content": "When a user has a PARKING ticket for the current day\nAND the user looks at the ticket dashboard for that team that the parking ticket is for",
        "expected": "THEN the Parking ticket will display first in the list followed by the game tickets"
      }
    ]
  },
  {
    "id": 50572,
    "title": "Ticket List Views",
    "section_id": 7027,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 4,
    "milestone_id": null,
    "refs": null,
    "created_by": 25,
    "created_on": 1424290723,
    "updated_by": 43,
    "updated_on": 1498493834,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 3,
    "custom_preconds": "The user is on the Tickets Dashboard\r\nThe swipe to forward/cancel button is only in iOS 8 and up",
    "custom_steps": null,
    "custom_expected": "     ",
    "custom_steps_separated": [
      {
        "content": "When the user taps is on dashboard and has more than 4 tickets to the current event on 'See All' in the current event ticket list",
        "expected": "Then the user will see a Show More link below the ticket rows\n"
      },
      {
        "content": "When the user taps on the Show More link",
        "expected": "Then the link will become Show Less\nAnd the user will see all of their tickets to the current event expanded"
      },
      {
        "content": "When the user taps on the Show Less link",
        "expected": "Then the current event tickets list reduces back to showing only 4 tickets"
      },
      {
        "content": "When the user taps on a ticket in the Event Full Ticket List",
        "expected": "Then the user will be taken to the scan view"
      },
      {
        "content": "When the user taps on an event cell in the Upcoming Events section\nAnd the user has tickets to that event",
        "expected": "Then the user will be taken to the Event Full Ticket List"
      },
      {
        "content": "When the user taps on an event cell in the Upcoming Events section\nAnd the user has NO tickets to that event",
        "expected": "Then the user will be taken to the NTP flow if enabled or mobile flow"
      },
      {
        "content": "When the user taps on an event cell in the Your Upcoming Events section",
        "expected": "Then the user will be taken to the Event Full Ticket List"
      },
      {
        "content": "When the user taps on the All Ticketed Games button",
        "expected": "**not for 6.x**\n\nThen the user will be taken to the All Ticketed Events List\nAnd the user will see a button to return back to the dashboard at the top left\nAnd below that the ticket count with a timestamp & refresh control\nAnd below that will be a list of all ticketed events for the user\nAnd the events will be sorted in ascending chronological order"
      },
      {
        "content": "When the user taps on an event cell in the All Ticketed Events List",
        "expected": "**not for 6.x**\n\nThen the user will be taken to the Event Full Ticket List"
      },
      {
        "content": "When the user is in the event ticket list view\nand the user has a ticket that has not been forwarded\nand the user swipes that ticket cell to the left",
        "expected": "THEN the user will see a blue 'Forward' button appear"
      },
      {
        "content": "When the user is in the tickets list view\nand the user has not forwarded a ticket\nand the user swipes that ticket to the left to display the forward button\nand the user taps on the forward button",
        "expected": "THEN the forward options will display from the bottom\nand the user can tap on one of those options to forward the ticket"
      },
      {
        "content": "When the user has a ticket in pending forward status in the tickets list view",
        "expected": "THEN the ticket in the list view will display the forward arrow icon\nand when the user now swipes to the left on that ticket it will have a cancel button"
      },
      {
        "content": "When the user is in the tickets list view\nand the user has a ticket that has been forwarded\nand the user swipes that ticket to the left",
        "expected": "THEN the user will see a red 'Cancel' button"
      },
      {
        "content": "When the user is in the tickets list view\nand the user has a ticket that has been forwarded\nand the user swipes that ticket to the left\nand the user taps on the 'Cancel' button",
        "expected": "THEN the user get a cancel confirmation prompt"
      },
      {
        "content": "When the user cancels a ticket forward via the swipe action in the tickets list view",
        "expected": "THEN the forward arrow icon will be removed from that ticket \nand then blue forward button will now appear when the user swipes it to the left"
      },
      {
        "content": "When a user has a PARKING ticket in addition to tickets for a game",
        "expected": "THEN the PARKING ticket will always display first in the list followed by the game tickets"
      },
      {
        "content": "When a user has a ticket in the tickets list view that has been scanned(check mark indicator)",
        "expected": "THEN the user will not be able to swipe that scanned ticket to forward/cancel"
      },
      {
        "content": "When a user has an unpaid ticket in their tickets list view",
        "expected": "THEN the user will not be able to t swipe that unpaid ticket to forward/cancel"
      },
      {
        "content": "When user has a non-forwardable ticket(ex. unpaid ticket)",
        "expected": "THEN the non-forwardable ticket will have a red indicator appear next to it\nAND the user will not be able to swipe to forward that ticket"
      },
      {
        "content": "When the user interacts with the current event ticket list on the Ticket Dashboard (looks at icons, tries to forward or cancel via swipe)",
        "expected": "Then the current event ticket list should look and behave like the full Ticket List view behavior from the previous steps"
      }
    ]
  },
  {
    "id": 50629,
    "title": "Ticket Indicators",
    "section_id": 7027,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 4,
    "milestone_id": null,
    "refs": null,
    "created_by": 25,
    "created_on": 1424302503,
    "updated_by": 43,
    "updated_on": 1505952681,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 4,
    "custom_preconds": "Blue Dot = New Ticket\r\nRed X = Non-forwardable ticket(Usually unpaid tickets)\r\nCheck Mark = Scanned Ticket\r\nArrow = Pending Transfer State",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When the user is on the Ticket Dashboard in the Tickets Found section\nAnd the user has new tickets",
        "expected": "Then the tickets will have a blue dot next to them in the list\nAnd when the user returns to this page the green dot will dismiss"
      },
      {
        "content": "When the user is on the Event Full Ticket List\nAnd the user has new tickets",
        "expected": "Then the tickets will have a blue dot next to them in the list\nAnd when the user returns to this page the blue dot will dismiss"
      },
      {
        "content": "When the user is on the Ticket Dashboard in the Tickets Found section\nAnd the user has tickets that have already been scanned",
        "expected": "Then the tickets will have a check mark next to them in the list\n"
      },
      {
        "content": "When the user is on the Event Full Ticket List\nAnd the user has tickets that have already been scanned",
        "expected": "Then the tickets will have a check mark next to them in the list"
      },
      {
        "content": "When the user is on the Ticket Dashboard in the Tickets Found section\nAnd the user has tickets that are in a Pending Transfer State",
        "expected": "Then the tickets will have an arrow next to them in the list"
      },
      {
        "content": "When the user is on the Event Full Ticket List\nAnd the user has tickets that are in a Pending Transfer State",
        "expected": "Then the tickets will have an arrow next to them in the list"
      },
      {
        "content": "When the user is on the event full ticket list\nand the user has tickets that are non-forwardable\n",
        "expected": "Then the tickets will have a red X next to them in the list"
      },
      {
        "content": "When a user has a new ticket which is also a non-forwardable ticket\nand the user looks at the ticket for the first time in the list view",
        "expected": "THEN the user will see first see a blue dot next to that ticket\nand then after viewing it the blue dot will change to a red X"
      }
    ]
  },
  {
    "id": 97216,
    "title": "Add to Wallet(aka Passbook)",
    "section_id": 7027,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 40,
    "created_on": 1460397819,
    "updated_by": 40,
    "updated_on": 1460397864,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 5,
    "custom_preconds": "Wallet is available on phone\r\nprod account setup with a prod credit card\r\nneed to purchase a real ticket from prod\r\n*see Marco for prod credit card",
    "custom_steps": "1. Purchase a ticket for SF Giants(any tdc would work but using SF as an example)\r\n2. After purchasing ticket go to the 'My SF tix' webview found on the tickets dashboard\r\n3. On the webview tap on 'View Ticket Inventory'\r\n4. Open the ticket you purchased\r\n5. Tap on the Add to passbook button\r\n\r\n",
    "custom_expected": "When you view your Wallet(aka Passbook) you should now see the ticket you added from the My SF Tix webview",
    "custom_steps_separated": null
  },
  {
    "id": 48788,
    "title": "Scan View",
    "section_id": 7028,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 4,
    "milestone_id": null,
    "refs": null,
    "created_by": 25,
    "created_on": 1421100826,
    "updated_by": 43,
    "updated_on": 1521922573,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 1,
    "custom_preconds": "The user can access the scan view from the ticket dashboard or from the ticketed event list\r\n\r\nFor additional information about the scan view animations: BP-4750\r\nFor more details on the general scan view design: BP-5279",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When the user taps on a ticket item from the Ticket Dashboard",
        "expected": "Then the user will be taken to the Scan View for that ticket"
      },
      {
        "content": "When the user taps on a ticket item from the ticketed event list\n",
        "expected": "Then the user will be taken to the Scan View for that ticket"
      },
      {
        "content": "When the user is on the Scan View",
        "expected": "Then the user will see the correct team logo\nAnd an 'X' button to close the view\nAnd their account name\nAnd their account number \nAnd a bar/QRC code\nAnd the event information (time local to stadium)\nAnd the standard SEC ROW SEAT\nAnd space for an ad\nAnd a bottom bar with controls\n"
      },
      {
        "content": "When the user is on the Scan View\nAnd the user has > 1 ticket",
        "expected": "Then the user will be able to swipe to navigate their tickets\n"
      },
      {
        "content": "When the user is on the Scan View\nAnd the user taps the Forward Tickets button on the bottom",
        "expected": "Then the user will be presented with an option to Forward Ticket, Forward Ticket Via Link, or Cancel"
      },
      {
        "content": "When the user is on the Scan View\nAnd the user taps on the Show Ticket Back button (i)",
        "expected": "Then the user will be taken to the Ticket Back View\n"
      },
      {
        "content": "When the user is on the Scan View and has fewer than 15 tickets\n",
        "expected": "Then the user will see a series of dots that highlight their progress through their tickets (e.g. 5 dots with the second dot filled in when the user is displaying the second ticket in a set of 5)"
      },
      {
        "content": "When the user is on the Scan View and has greater than 15 tickets",
        "expected": "Then the user will see a numeric display of which ticket is displayed out of the set (e.g. 12 of 15, when showing the 12th ticket in a set of 15 for that event)"
      },
      {
        "content": "When the user taps on the Ad ",
        "expected": "Then the user will be taken to the sponsor webview / external site"
      },
      {
        "content": "When the user is on a device with a smaller screen\nAnd the user scrolls",
        "expected": "The bottom bar will stay locked in place"
      },
      {
        "content": "When the user taps the 'X' button in the top right",
        "expected": "Then the user will be brought back to their entry point"
      },
      {
        "content": "When the user is on the Scan View\nAnd the user receives an app controlled notification (poi notification, auto check in)",
        "expected": "Then the app will suppress those notications"
      },
      {
        "content": "When the user enters the Scan View",
        "expected": "Then the app will set the device to maximum brightness\nAnd dismissing the Scan View will return the device's brightness to where it was prior"
      },
      {
        "content": "When the user views a ticket that does not have a barcode, in the ticket response from box office it will appear like this:\n\"barcode\": {\n\t\t\t\"displayString\": \"Ticket Unavailable: Please See Box Office\",\n\t\t\t\"available\": false\n\t\t},\n",
        "expected": "Then the app will not show a barcode and there will be an error message displayed provided by the ticket data "
      },
      {
        "content": "When the user enters the scan view of ticket that has been scanned\n",
        "expected": "THEN the user will see a message in the bottom where the forward button is normally located - \"SCANNED\""
      },
      {
        "content": "When a user opens the scan view of an unpaid ticket or non forwardable ticket, in the data it will appear like this:\n\"forwardable\": false,",
        "expected": "THEN the user will not see a forward button at the bottom of the scan view"
      },
      {
        "content": "When a user opens the scan view of a scanned ticket",
        "expected": "THEN the user will not see a forward button at the bottom of the scan view"
      },
      {
        "content": "When a user has opened the scan view of a ticket",
        "expected": "THEN the scan view will have an animation of a dot going from left to right"
      },
      {
        "content": "When a user has opened the scan view of a ticket and CMS has configured an animation, it look like this in the data: \n\"backgroundVid\": \"https://bp-cms.mlb.com/digital_ticketing/animated_assets/ari_backgroundVid.mp4\",\n\"backgroundVidPoster\": \"https://bp-cms.mlb.com/digital_ticketing/poster/ari_backgroundVidPoster.jpg\",",
        "expected": "Then an animation will play in the scan view background area"
      },
      {
        "content": "When the user has the scan view opened\nand the user backgrounds the app\nand the user foregrounds the app",
        "expected": "THEN the animation will still be active in the scan view"
      },
      {
        "content": "When the user has the scan view opened\nand the user fast switches to another app\nthen the user fast switches back to Ballark",
        "expected": "THEN the animation will still be active in the scan view"
      }
    ]
  },
  {
    "id": 50519,
    "title": "Ticket Forwarding",
    "section_id": 7029,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 4,
    "milestone_id": null,
    "refs": null,
    "created_by": 25,
    "created_on": 1424274607,
    "updated_by": 43,
    "updated_on": 1522008583,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 1,
    "custom_preconds": "Given the user has tickets\r\nAnd he/she wants to give them away\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When the user is on the scan view\nAnd taps on the Forward button",
        "expected": "Then the user will be brought to a ticket list view for that event for multiple ticket selection (see multi ticket forward test cases for more)"
      },
      {
        "content": "When the user has a Ticket Forward in progress",
        "expected": "Then the Forwards history module will become visible on the Ticket Dashboard (Ticket Forwards header, Received / Sent tappable rows)"
      },
      {
        "content": "When the user has a ticket forward in progress\nAnd the user decides to cancel the forwarding\n(confirm cancelling from scan view, swipe on ticket row of list view and forward history)",
        "expected": "Then the user will be displayed a loading screen that indicates the cancellation of the ticket transaction\nAnd the following will happen:\n- if the ticket was forwarded via link, then the webpage will inform the user the invitation is no longer valid\n- if the ticket was forwarded via email, then tapping the link in the email will alert the user the forward is no longer valid"
      },
      {
        "content": "When no Forwards (EVER) are found for the user's history",
        "expected": "Then the app will hide the Forward history module from the Ticket Dashboard"
      },
      {
        "content": "When the user forwards a ticket via link or email\nAnd the receiver accepts the ticket",
        "expected": "Then the receiver will have the ticket in their account"
      },
      {
        "content": "When the user forwards a ticket via link or email\nAnd the transaction is completed",
        "expected": "Then the receiver will have the tickets show up on the ticket dashboard for that specific team\nAnd the receiver will have the ticket icon appear over the ticket dashboard nav\nAnd the reveiver will have the ticket icon appear in the team picker page for that ballpark"
      },
      {
        "content": "When the user forwards all tickets from one ballpark\nAnd the transaction is completed",
        "expected": "Then the sender should no longer have the tickets\nAnd the sender should have all tickets appear under the ticket forward \"sent\" page\nAnd the sender should not see the ticket icon on the ticket dashboard nav\nAnd the sender should not see the ticket icon on the team picker page for that ballpark"
      },
      {
        "content": "When the user has completed a Forward in the past",
        "expected": "Then the Forwards module will become visible on the Ticket Dashboard"
      },
      {
        "content": "When Box Office disables ticket forward on a per ticket basis (need dev help)",
        "expected": "Then the Forward button will be hidden on the Scan View for that ticket"
      },
      {
        "content": "When a ticket is forwarded\nAnd the other user received it and completed the transaction\nAnd the sender cancels the forward from the ticket forwards history page",
        "expected": "Then the sender will receive the ticket back regardless of the transaction being completed"
      },
      {
        "content": "When the Forward Module is visible on the Ticket Dashboard",
        "expected": "Then the user will be able to access a list of their forwarding activity history"
      },
      {
        "content": "When a PARKING ticket is forwarded\nAND the other user received it and completed the transaction\n",
        "expected": "THEN the parking ticket will display first in the tickets list for that particular game that the ticket is for"
      },
      {
        "content": "When a user is on the tickets list view\nand the user has tickets that can be forwarded\nand the user swipes to forward a ticket\nand the user taps on 'Forward' blue button",
        "expected": "THEN the Forward Ticket, Forward via Link, and Cancel buttons will appear from bottom"
      },
      {
        "content": "When a user swipes to forward a ticket\nand the user taps on the Forward Ticket button",
        "expected": "Then the user will be brought to the forward ticket email form\n*Complete full forward(send and receive)"
      },
      {
        "content": "When a user swipes to forward a ticket\nand the user taps on Forward via Link\nand the user chooses an app to forward with",
        "expected": "THEN the user will be brought to that app\nAND the user will be shown the forward link for the ticket\n*Complete full forward(Send and receive)"
      },
      {
        "content": "When a user has a non-forwardable ticket in the list view",
        "expected": "THEN that ticket will have a red X next to it. "
      },
      {
        "content": "When a user has a non-forwardable ticket in the list view\n",
        "expected": "THEN the user will not be able to forward that ticket (no check box in multi forward mode and cannot be swiped to reveal Forward button)"
      }
    ]
  },
  {
    "id": 59508,
    "title": "Multi-Ticket Forwarding",
    "section_id": 7029,
    "template_id": 1,
    "type_id": 7,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 40,
    "created_on": 1440426587,
    "updated_by": 43,
    "updated_on": 1506019992,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 2,
    "custom_preconds": "Given the user has multiple tickets\r\nAnd he/she wants to give them away simultaneously",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When the user goes to the tickets list view",
        "expected": "Then the user will see a 'Forward' button on the top right"
      },
      {
        "content": "When the user goes to the tickets list view\nand taps on the 'Forward' button",
        "expected": "Then the user will see check circles appearing next to their ticket(s)"
      },
      {
        "content": "When the user is in the tickets list view\nand the user taps on the 'Forward' button",
        "expected": "Then the user will be able to select a ticket or multiple tickets\nand a check mark will appear next to each ticket that is selected"
      },
      {
        "content": "When a user is on the tickets list view\nand taps on the 'Forward' button",
        "expected": "Then a 'Forward' button will appear at the bottom of the page"
      },
      {
        "content": "When a user is in the tickets list view\nand the user has a ticket that has already been forwarded\nand the user taps on the 'Forward' button",
        "expected": "Then the check circle will not appear on the previously forwarded ticket\nand no action will occur if the user taps on that ticket's cell"
      },
      {
        "content": "When a user in the tickets list view\nand the user has a ticket that is unpaid(non-forwardable)\nand the user taps on the 'Forward' button",
        "expected": "THEN the check circle will not appear next to the unpaid ticket\nand no action will occur if the user taps on the ticket's cell"
      },
      {
        "content": "When a user is in the tickets list view\nand the user taps on the 'Forward' button\nand the user selects one or more tickets",
        "expected": "Then the user will see a numerical value displayed at the top of the view\nand that value will be the number of tickets that the user has selected"
      },
      {
        "content": "When a user is in the tickets list view\nand the user taps on the 'Forward' button\nand the user selects one or more tickets\nand the user taps on the 'Forward' button at bottom the page",
        "expected": "THEN the user will be taken to the forward ticket email form\nand the ticket(s) selected will appear in that form"
      },
      {
        "content": "When a users is on the tickets forward email form\nand the user is about to forward multiple tickets\nand the user taps on the 'Send' button",
        "expected": "THEN the tickets will successfully send\nand you will get a message stating the tickets have been successfully forwarded"
      },
      {
        "content": "After multiple tickets have been forwarded \nand the user goes back to the tickets list view",
        "expected": "THEN all the tickets that have been forwarded will have the forward arrow icon next to them"
      },
      {
        "content": "When a user decides to cancel one of the tickets that was forwarding during a multi ticket forward",
        "expected": "THEN after canceling the forward, only that one ticket will be cancelled and the other tickets will still be in a forwarded state"
      },
      {
        "content": "When multiple tickets forwarded have been accepted by the receiver",
        "expected": "THEN when we refresh our tickets list view the tickets that have been forwarded will get removed"
      },
      {
        "content": "When multiple tickets have been forwarded\nand we look at the 'Sent' tab",
        "expected": "THEN we will see all the tickets that group of tickets which were forwarded under the pending section"
      },
      {
        "content": "When multiple tickets that have been forwarded are accepted by the receiver\nand we look under the Sent tab",
        "expected": "THEN we will see all the tickets that were accepted by receiver display under the Completed section"
      },
      {
        "content": "When a user accepts a multi ticket forward",
        "expected": "THEN when the user is taken to the app they will get an alert\nand the alert will have two options: Dismiss and View Tickets\nand tapping on Dismiss will close the alert\nand tapping on 'View Tickets' will take the user to the tickets list view for that game"
      },
      {
        "content": "When a user accepts a multi ticket forward\nand there is an error during the acceptance of the tickets",
        "expected": "THEN in the app the user will get an alert stating 'Unable to accept x out of x tickets. Please try again or call (phone number) for assistance'\nand there will be three buttons: FAQ, 'Try Again', and 'Dismiss'\nAnd tapping on FAQ will bring up the faqs page\nand tapping on try again will attempt to retrieve the tickets again\nand tapping on dismiss will dismiss the alert"
      },
      {
        "content": "When a user has forwarded more than 1 ticket during a forward\nand the user looks under the Sent tab",
        "expected": "THEN the user will see a cell under the Pending section\nand that cell will display the date of the game(Day, date) and the team they are playing agains(vs awayteam)\nand below that will be the amount of tickets that were forwarded(in the format x seats)"
      },
      {
        "content": "When a user has forwarded multiple tickets\nand the user goes to the Sent tab\nand the user taps on the cell for those forwarded tickets",
        "expected": "THEN the user will be brought to the Forward details for those forwarded tickets\nand the tickets will be listed with a header Ticket 1, Ticket 2, etc\nand each individual ticket will have the ticket and forward details\n*Check for pending, completed, and cancelled multi-ticket forwards"
      },
      {
        "content": "When a user has accepted multiple tickets\nand the user goes to the Received tab\n",
        "expected": "Then under the Completed section the user will see a cell for those tickets\nand that cell will display the date of the game(Day, date) and the team they are playing agains(vs awayteam)\nand below that will be the amount of tickets that were forwarded(in the format x seats)\n*Check for Completed and Cancelled"
      },
      {
        "content": "When a user has accepted multiple tickets\nand the user goes to the Received tab\nand the user taps on the cell of the received tickets",
        "expected": "THEN the user will be brought to the Forward details for those received tickets\nand the tickets will be listed with a header Ticket 1, Ticket 2, etc\nand each individual ticket will have the ticket and forward details\n*Check for Completed and Cancelled"
      }
    ]
  },
  {
    "id": 50051,
    "title": "Data Updates",
    "section_id": 7274,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 4,
    "milestone_id": null,
    "refs": null,
    "created_by": 25,
    "created_on": 1423600240,
    "updated_by": 43,
    "updated_on": 1498502382,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 1,
    "custom_preconds": "Hard Refresh = Calling the Box Office API to update ticket data from the source and then return it to us (a call to boxoffice.mlb.com with refresh=true appended)\r\nSoft Refresh = Calling the Box Office's currently stored data (a call to boxoffice.mlb.com with refresh=false appended)\r\nGlobal = Refresh across all ticket accounts\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When the user launches the app for the first time\nAnd views any ticketing data\u0016\u0003\u0001",
        "expected": "Then the app will perform a soft refresh"
      },
      {
        "content": "When the user launches the app from background or a killed state within 24 hours\n",
        "expected": "Then the ticket dashboard will display cached data"
      },
      {
        "content": "When the user launches the app from background or a killed state after 24 hours",
        "expected": "Then the app will perform a soft refresh"
      },
      {
        "content": "When the user navigates to Settings > Ticket Accounts\n",
        "expected": "Then the app will perform a soft refresh"
      },
      {
        "content": "When the user navigates to Settings > Ticket Accounts\nAnd the user adds an account\nOr the user unlinks an account",
        "expected": "Then the app will perform a soft refresh"
      },
      {
        "content": "When the user navigates to the Ticket Dashboard that has already been viewed\n",
        "expected": "Then the ticket dashboard will display cached data"
      },
      {
        "content": "When the user navigates to a Ticket Dashboard of a team that has NOT already been viewed",
        "expected": "Then the app will perform a soft refresh"
      },
      {
        "content": "When the user navigates to a webview on the Ticket Dashboard\nAnd returns to the Ticket Dashboard ",
        "expected": "Then the app will not refresh automatically"
      },
      {
        "content": "When the user navigates to the Ticket Dashboard\nAnd the user initiates a manual refresh",
        "expected": "Then the app will perform a hard refresh"
      },
      {
        "content": "When the user navigates to the Scan View \nAnd the user initiates a transfer \nOR the user cancels a transfer",
        "expected": "Then the app will perform a hard refresh"
      },
      {
        "content": "When the user navigates to any ticket list view from the Ticket Dashboard\nAnd the user initiates a ticket forward (by email)",
        "expected": "Then the app will perform a hard refresh"
      },
      {
        "content": "When the user navigates to any ticket list view from the Ticket Dashboard\nAnd the user initiates a manual refresh",
        "expected": "Then the app will perform a hard refresh"
      },
      {
        "content": "When user has viewed the ticket dashboard, then disables network connection and views the ticket dashboard again",
        "expected": "Then the user will see cached ticket dashboard information (https://jira.mlbam.com/browse/BP-4622)"
      }
    ]
  },
  {
    "id": 50516,
    "title": "Timestamps",
    "section_id": 7274,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 4,
    "milestone_id": null,
    "refs": null,
    "created_by": 25,
    "created_on": 1424273768,
    "updated_by": 43,
    "updated_on": 1521930520,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 2,
    "custom_preconds": "Timestamps are displayed on the Ticket Dashboard, All Home Events and Ticket List Views",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When a refresh of ticketing data has not occurred in more than 2 minutes",
        "expected": "Then the timestamp will update\nAnd the time will be shown as 'Last updated' <time>(ex. 9 minutes ago)"
      },
      {
        "content": "When a refresh of ticketing data has occurred within the last 2 minutes",
        "expected": "Then the timestamp will display \"Updated just now\""
      },
      {
        "content": "When a refresh of ticketing data fails \nAnd the failure is network related",
        "expected": "Then the user will receive a generic network issue error message"
      }
    ]
  },
  {
    "id": 48783,
    "title": "Linking",
    "section_id": 7026,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 4,
    "milestone_id": null,
    "refs": null,
    "created_by": 25,
    "created_on": 1421094342,
    "updated_by": 67,
    "updated_on": 1430932484,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 1,
    "custom_preconds": "The 'Ticketing Accounts' page can be accessed from the Setting page",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When the user navigates to Settings > Ticketing Accounts",
        "expected": "Then there will be a button labelled 'Link Account' at the top\nAnd a section for currently linked ticketing accounts\n"
      },
      {
        "content": "When the user has ticket accounts linked",
        "expected": "Then they will be listed under Ticketing Accounts section\nAnd the data will display name of account, email, and account number\nAnd there will be an 'Unlink' button next to each tickting account"
      },
      {
        "content": "When the user taps the 'Link Account' button",
        "expected": "Then they will be taken to the Linking webview\n"
      },
      {
        "content": "When the user is on the Linking webview\nAnd the user taps on the dropdown to select a team",
        "expected": "Then the user will see a dropdown with all 30 teams available to be selected"
      },
      {
        "content": "When the user selects a team that does not participate (Yankees)\nAnd the user fills in en email address\nAnd the user taps the 'Link Your Account' button",
        "expected": "Then the user will receive a message stating, 'Account linking is not currently supported with this team.'\nAnd there will be a 'return' button\nAnd tapping that will bring you back to the select a team page"
      },
      {
        "content": "When the user selects a team that does participate (Mariners)\nAnd the user fills in en email address\nAnd the user taps the 'Link Your Account' button",
        "expected": "Then the user will receive a message to check their email to confirm the link\nOr the user will be advised that a ticketing account doesn't exist for that email address/team combo"
      },
      {
        "content": "When the user is on the Linking webview\nAnd the user taps 'Done' on bottom right",
        "expected": "Then the user will be returned to the Ticketing Accounts page\nAnd a refresh with occur"
      },
      {
        "content": "When the user has successfully linked an account with tickets",
        "expected": "Then the user will have those tickets show up on his account"
      },
      {
        "content": "When the user unlinks the same user",
        "expected": "Then the user will lose the tickets he recently added\n"
      }
    ]
  },
  {
    "id": 58901,
    "title": "Postseason Tickets",
    "section_id": 8554,
    "template_id": 1,
    "type_id": 7,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 40,
    "created_on": 1438787134,
    "updated_by": 40,
    "updated_on": 1442266089,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 1,
    "custom_preconds": null,
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "Given that we have tickets for a postseason game\nAND we look at the ticket description in the ticket list view",
        "expected": "THEN when we see the game description above the matchup\nex. NLCS Game 1"
      },
      {
        "content": "Given that we have tickets for a postseason game\nAND we open the scan view for that ticket\n",
        "expected": "THEN we will see the game description above the matchup\nex. NLCS Game 1"
      },
      {
        "content": "Given that we have tickets for a postseason game(s)\nAND we look at the 'Next Home Games' list",
        "expected": "THEN we will see the game description next to the date of the game\nex. NLCS Game 1"
      },
      {
        "content": "Given we have tickets for a postseason game\nand the away opponent is not yet known\nand we look at the event view for that game",
        "expected": "Then the opponent will be displayed as 'TBD'\nAND there will be a TBD circle icon for that team"
      },
      {
        "content": "Given we have tickets for a postseason game\nand the away opponent is not yet known\nand we look at scan view for that ticket",
        "expected": "THEN the opponent will be displayed as TBD"
      },
      {
        "content": "Given we have tickets for a postseason game\nand the away opponent is not yet known\nand we forward that ticket via email",
        "expected": "Then the event information in the email form will display the opponent as TBD\nAND there will be a circle TBD icon to the left of the TBD text"
      },
      {
        "content": "Given we have tickets for a postseason game\nand the time of the game is not yet known",
        "expected": "THEN when we look at the ticket info in the ticket dashboard, ticket list view, next home game list and scan view we will see the time as TBD"
      },
      {
        "content": "When we forward a postseason ticket\nAND we look at the forward details for that ticket",
        "expected": "THEN we will see the game description displayed below the matchup\nex. NLCS Game 1"
      },
      {
        "content": "When we look at the forward details of a postseason ticket without a time",
        "expected": "THEN we will see the time displayed as TBD"
      },
      {
        "content": "When the date and/or time for a game are unknown\nand we look at the event view for that game\n",
        "expected": "THEN the Date and/or Time will have TBD next to it"
      },
      {
        "content": "When the date and/or time for a game are unknown\nand a user has a ticket for that game\nand we look at the scan view for that ticket",
        "expected": "Then Date and/or time will have TBD next to it"
      },
      {
        "content": "When the date and/or time for a game are unknown\nand a user has a ticket for that game\nand the user forwards that ticket via email",
        "expected": "THEN the email form will display TBD next to Date and/or Time"
      },
      {
        "content": "Given that a user has a postseason ticket where the team goes from TBD to a known tame(non-event->event flip)",
        "expected": "Then after the team has been added the user will now see that team's logo appear in the ticket dashboard and also the scan view of that game\n\n*Will need to work with services to coordinate an event flip"
      },
      {
        "content": "When we look at the ticket dashboards event module",
        "expected": "THEN we will see the circle logos for both the away and home team \nand the away team will be on the left side\nand the home team on the right side\nand the matchup will display away team @ home team"
      },
      {
        "content": "When we look at the next home games section\nand the opponent is known",
        "expected": "THEN we will see the circle logo for the opponent\nand it will say vs (away team name) below the game description"
      },
      {
        "content": "When we look at the your other tickets section in the tickets dashboard",
        "expected": "THEN we will see the circle logo for the opponent\nand it will say vs (away team name) below the game description"
      },
      {
        "content": "When we got to the tickets list view for a postseason game we have tickets for\nand the opponent is known",
        "expected": "THEN we will will see the circle logos display for both teams\nand the away team will be on the left side and home team on the right side\nand the matchup will display away team @ home team under the game description"
      },
      {
        "content": "When we have a postseason ticket where the opponent is known\nAND we open the scan view for that ticket",
        "expected": "Then we will see the opponent team name under the home team name\nex. Los Angelas Dodgers\nvs. New York Mets"
      },
      {
        "content": "When we have tickets for a postseason game\nand that game is an if necessary game\nand we look at the game in the Tickets list view",
        "expected": "THEN next to the series description it will say (if necessary)->parenthesis included"
      },
      {
        "content": "When we have a ticket for an if necessary game\nand we look at the scan view for that ticket",
        "expected": "THEN next to the series name we will see (if necessary) display->parentheses included"
      },
      {
        "content": "When there is a game(s) that are if necessary games\nand we look at next home game section and the all home games list view for that team",
        "expected": "THEN we will see (if necessary) display next to that game --> parenthesis included"
      },
      {
        "content": "When there is a game(s) that are if necessary games\nand the user has tickets for that game\nand the user looks at the your other tickets section on tickets dashboard\nor the user looks at the full tickets list view",
        "expected": "THEN next to that game the user will see (if necessary) display --> parenthesis included"
      }
    ]
  },
  {
    "id": 59825,
    "title": "Tickets Dashboard",
    "section_id": 8554,
    "template_id": 1,
    "type_id": 7,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 40,
    "created_on": 1440779816,
    "updated_by": 40,
    "updated_on": 1442241049,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 2,
    "custom_preconds": null,
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "Given there is a postseason game schedule for a team\nand the user has tickets for that game\nand the user looks at the tickets dashboard for that team he has tickets for",
        "expected": "THEN under the 'Your Other Tickets' section we will see the series name(ex. NLCS)\nand we will see the game number(ex. Game 1) next to the series name\nand below that we will see the opponent name and the time of game"
      },
      {
        "content": "Given there is a postseason game schedule for a team\nand the user has tickets for that game\nand the opponent is not yet known for that game\nand the user looks at the ticket in the 'Your other tickets' section",
        "expected": "THEN the opponent will display as 'TBD'"
      },
      {
        "content": "Given there is a postseason game schedule for a team\nand the user has tickets for that game\nand the time is not yet known for that game\nand the user looks at the ticket in the 'Your other tickets' section",
        "expected": "THEN the time will display as 'TBD'"
      },
      {
        "content": "Given the user is on the Tickets dashboard\nand the user opens the 'All Home Games' view\nand there is a postseason game where the opponent is unknown",
        "expected": "THEN when we look at the home games list we will see the opponent as TBD for those games where opponent is unknown"
      },
      {
        "content": "Given the user is on the Tickets dashboard\nand the user sees the postseason home games in the all games list view\n",
        "expected": "THEN the user will see some games that have the 'If Necessary' notation next to it"
      },
      {
        "content": "Given the user is on the Tickets dashboard\nand there are some games with the If Necessary flag\nand the next home game is potentially the if necessary game\n",
        "expected": "THEN the user will see the if necessary game display in the event module\nand it will have the 'If Necessary' notation next to it"
      },
      {
        "content": "Given the user is on the Tickets Dashboard\nand the 'if necessary' game is going to be played\n",
        "expected": "THEN the if necessary notation will have been removed\nand the user will not see it display in the event module"
      },
      {
        "content": "Given the user is in the all home games list on the ticket dashboard\nand the if necessary game is now going to be played\n",
        "expected": "THEN the user will not see if necessary notation display next to that game in the list"
      }
    ]
  },
  {
    "id": 70276,
    "title": "Ticket Selection",
    "section_id": 120424,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 40,
    "created_on": 1449680851,
    "updated_by": 43,
    "updated_on": 1498251476,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 1,
    "custom_preconds": "Availability Featured page = The first ticket list view that user is shown which features tickets in certain sections\r\nAvailability All page = The ticket list view that displays all tickets available this includes both featured and non-featured tickets\r\nCart = View that user goes to to place order. It consists of the number of tickets the user has selected and the fees and total value of the tickets. \r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When a user taps on T button from native schedule, the Buy Tickets button from Tickets dashboard, or Buy Tickets button from the ticket event detail view, or the Buy Tickets button from the native schedule event detail page\nand the team does not have native flow enabled",
        "expected": "Then the user will be taken to the mobile web flow"
      },
      {
        "content": "When a user taps on T button from native schedule, the Buy Tickets button from Tickets dashboard, or Buy Tickets button from the ticket event detail view, or the Buy Tickets button from the native schedule event detail page\nAnd the team does have native flow enabled",
        "expected": "Then the user will be taken to the Featured Seats page (populated and controlled by the teams)"
      },
      {
        "content": "When a user is on the tickets page for a game",
        "expected": "Then the user will see a list of tickets for featured sections\nand each featured section will display an image of that section\nand within that image will be the seating chart for that section\nand the section name and price per ticket will display at the bottom of the image"
      },
      {
        "content": "When the user is on the Availability Featured page of a game\nand the user filters the page by amount of tickets he wants for the game",
        "expected": "THEN the Availability Featured page will update to the show sections that have availability in the number of requested tickets"
      },
      {
        "content": "When the user has edited the filter on the Availability Featured page\nand the user taps on Cancel button",
        "expected": "THEN the user will be brought back to the Availability Featured page\nand the user sees the unchanged list of tickets"
      },
      {
        "content": "When you're on the featured tickets page and tap on the filter bar\n",
        "expected": "THEN you will see a section under the ticket quantity for ADA seating\nand it will have a wheelchair icon \nand next to the icon will be View Accessible Seats on Web"
      },
      {
        "content": "WHEN a user taps  on the 'View accessible seats on web' for the ada seating\n",
        "expected": "THEN The user will see an alert message asking the user if they would like to exit Ballpark and open this link in Safarai\nAND if the user taps on no it will dismiss the alert\nAND if the user taps on Yes then it will leave Ballpark and open the ada seating link in Safari"
      },
      {
        "content": "When the user is on the Availability Featured page of a game\nand the user taps on the seat view icon ",
        "expected": "THEN the user will be shown an image of the seat"
      },
      {
        "content": "When the user taps on the seat view icon \nand there is no seat view available for that seat",
        "expected": "THEN The user will see a place holder image which says seat view unavailable"
      },
      {
        "content": "When the user is on Availability Featured page\nand the user selects a ticket(s)",
        "expected": "THEN the user will be taken to the cart view\nand the cart will have a timer for 15 minutes holding the tickets for reserve\nand the cart view will have the event details including team logos\nand below the matchup data will be the credit card promotional image\nand below the promotional image will be the ticket details including section, row, seat and price values\nand there will be Disclaimer button\nand there will be a Seat View button\nbelow the ticket details will be the price, taxes, and fees information\nbelow the ticket details will be the fees information including the total value\nand below the Grand Total line will be a 'Pay Now' button"
      },
      {
        "content": "When the user is on the Cart page\nand the user taps on Disclaimer button",
        "expected": "THEN a popover will appear with the disclaimer text"
      },
      {
        "content": "When the user is on the Cart View\nand the user taps on the Seat View button",
        "expected": "THEN the user will see a popover of the seat view image that they selected\nand if there is no image available a place holder will appear and it will say seat view unavailable"
      },
      {
        "content": "When the user is on the Cart View\nand the user taps on the Seat View button for a ticket",
        "expected": "THEN the user will see disclaimer text appear under the seat view image\nand the text will say 'This view is a sample, and may vary depending on the exact ticket location you purchase.'"
      },
      {
        "content": "When the user is on the Cart page\nand the user taps on the 'Disclaimer' link in the tickets section",
        "expected": "THEN the Disclaimer page will open"
      },
      {
        "content": "When the user is on the Cart page\nand the user taps on Payment Method",
        "expected": "Then the user will be sent to select a payment method\nEither Add new card IF the user doesn't have a saved card\nOR the user selects one of their saved cards\nOR the user pays with ApplePay"
      },
      {
        "content": "When the user is on the Availability Featured page\nand the user taps on the 'View All' button on the top right (if present)",
        "expected": "THEN the user will be taken to the Availability All page which displays other price scales and sections available"
      },
      {
        "content": "When the user is on the Availability All page",
        "expected": "THEN the user will see a list of all the available tickets including the featured tickets\nAnd at the top will be the game details and below that will be the ticket and price filters"
      },
      {
        "content": "When the user is on the Availability Page \nand the user filters based on the quantity of tickets",
        "expected": "THEN the page will refresh\nand the list will be udpated with the tickets that match that criteria"
      },
      {
        "content": "When the user is on the Availability Page \nand the user filters based on price range",
        "expected": "THEN the page will refresh\nand the list will be udpated with the tickets that match that criteria"
      },
      {
        "content": "When the user is on the Availability Page\nand the user selects a ticket",
        "expected": "THEN the user will be taken to the cart view\nand the cart will have a timer for 15 minutes holding the tickets for reserve\nand the cart view will have the event details including team logos\nand below the matchup data will be the credit card promotional image\nand below the promotional image will be the ticket details including section, row, seat and price values\nand there will be Disclaimer button\nand there will be a Seat View button\nbelow the ticket details will be the price, taxes, and fees information\nbelow the ticket details will be the fees information including the total value\nand below the Grand Total line will be a 'Pay Now' button"
      },
      {
        "content": "When the user is on the Availability page\nand the user taps on the 'Seat View' button for a ticket",
        "expected": "THEN the user will be shown an image of the view of that seat"
      },
      {
        "content": "When the reservation timer expires",
        "expected": "THEN there will be a message saying that the tickets are no longer reserved\nand there will be an ok button\nand tapping on the ok button will bring the user back to the NTP entry point"
      },
      {
        "content": "When a user is on the cart view\nand the user taps on the Disclaimer button\nand there is an api error encountered on the disclaimer page",
        "expected": "THEN the default disclaimer text will appear\nand the text will read:\nIf you purchase tickets, you may receive customer service messages via e-mail, including optional surveys regarding your baseball experience\n\n*Test by setting device in airplane mode"
      },
      {
        "content": "When the game_pk of a game is part of the excludeGamePK group\n",
        "expected": "THEN the ticket link will go to the webflow\n"
      },
      {
        "content": "When flowOnOff is off for a team",
        "expected": "THEN all ticket links will go to the webflow"
      },
      {
        "content": "When off sale time condition is set to true",
        "expected": "THEN the ticket button will be hidden from the native schedule and the native schedule event detail view"
      },
      {
        "content": "When a user locks a ticket\nand there is an Extended Seat Description for that ticket",
        "expected": "THEN the user will see the extended seat description below the row seat section\nand it will have an asterisk before it"
      },
      {
        "content": "When a user taps on a ticket in the cart view that has an extended seat description\n",
        "expected": "THEN the user will be taken to the Seat Description detailed view \nAND the detail view will have the row, seat, and price information of the ticket\nand below the ticket data will be the full extended seat description"
      },
      {
        "content": "When a user has locked a ticket(s) that has an extended seat description\nand the description has requiresAcknowledgement=true(need ticketing team to set this)\nand the user taps on the pay now button\n",
        "expected": "THEN the user will get an acknowledgement prompt\nand the prompt will have a title 'Seat Description' \nand the prompt will say 'I have read & understand the conditions for each ticket'\nand there will be a Cancel and Accept button\nand tapping on Cancel will take the user  back to the cart view\nand tapping on Accept will continue with the purchase"
      },
      {
        "content": "When a user has locked a ticket(s) that has an extended seat description\nand the descriptions has requiresAcknowledgement=false(need ticketing team to set this)\nand the user taps on the pay now button\n",
        "expected": "THEN the user will not get an acknowledgement prompt\nand the ticket purchase will go through"
      }
    ]
  },
  {
    "id": 70302,
    "title": "Ticket Purchase",
    "section_id": 120424,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 40,
    "created_on": 1449693652,
    "updated_by": 43,
    "updated_on": 1494431813,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 2,
    "custom_preconds": "Availability Featured page = The first ticket list view that user is shown which features tickets in certain sections\r\nAvailability All page = The ticket list view that displays all tickets available this includes both featured and non-featured tickets\r\nCart = View that user goes to to place order. It consists of the number of tickets the user has selected and the fees and total value of the tickets.",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When the user has selected a ticket(s) either from featured or all tickets page\nand the user is on the Cart page",
        "expected": "THEN the user will see a timer at the top right side of the page\nand the timer will begin immediately when the page opens\nand the timer will count down from 15:00"
      },
      {
        "content": "When the user has selected a ticket(s) either from featured or all tickets page\nand the user is on the Cart page\nAnd the timer has started to count down\nand the user cancels out of the cart page\nand the user selects the same or another ticket",
        "expected": "THEN the timer will start again from 15:00"
      },
      {
        "content": "When the user has selected a ticket(s)\nand the user is on the Cart page\nand the user taps on the Cancel button located on the top left side",
        "expected": "THEN the user will receive a pop up message asking confirming to cancel the order\n\n"
      },
      {
        "content": "When the user is in the payment stage\nand the reserve ticket timer has expired",
        "expected": "THEN the user will receive a pop up message stating that the ticket(s) are no longer reserved\nand tapping 'ok' for the message will bring the user back to the featured tickets page"
      },
      {
        "content": "When the user is on the Cart page\nand the user taps on the Payment button",
        "expected": "THEN The user will be taken to the payment options page\nand the user will see a list of options to choose from to make the payment"
      },
      {
        "content": "When the payment options page\nand the user does not have Apple Pay available on that phone",
        "expected": "THEN the user will not see Apple Pay as a payment option"
      },
      {
        "content": "When the user is on the payment options page",
        "expected": "THEN the user will see and option for adding a new card"
      },
      {
        "content": "When the user taps on the 'Add New Card' button from the payment options page",
        "expected": "THEN the user is taken though the add new card flow\n"
      },
      {
        "content": "When the user completes the add new card flow",
        "expected": "THEN the user is taken back to the cart view \nand the user will see the newly added card as the payment method\nand it will display as 'Pay with <card company name>(last 4 digits of credit card)"
      },
      {
        "content": "When user has added a new card\nand the user is ready to check out\nand the user taps on the 'Pay Now' button\nand the payment is successful",
        "expected": "THEN the user will be brought to the confirmation page\n"
      },
      {
        "content": "When a user has completed a ticket purchase with a credit card\nand the user returns to purchase another ticket(s)",
        "expected": "THEN the user will see the credit card that he previously used display as the default payment method in the cart view\n"
      },
      {
        "content": "When the user is in cart view\nand the user has a previously used credit card displayed as the payment method\nand the user taps on the 'Pay Now' button",
        "expected": "THEN the user will be prompted to enter in the security code for his credit card\nAnd the user will see the credit card type and last 4 digits of the card\n\n"
      },
      {
        "content": "When the user is in cart view\nand the user has a previously used credit card displayed as the payment method\nand the user taps on the 'Pay Now' button\nand the user does not enter in a security code\nand the user taps on the 'checkout' button",
        "expected": "THEN the user will be prompted with an error message asking to enter the credit card's security code\nAnd tapping 'OK' for that message will dismiss it"
      },
      {
        "content": "When the user is in cart view\nand the user has a previously used credit card displayed as the payment method\nand the user taps on the 'Pay Now' button\nand the user types in the security code for the credit card\nand the user taps on the 'Checkout' button\nand the payment is successful",
        "expected": "THEN the user will be brought to the confirmation page"
      },
      {
        "content": "When a user does not have a patron id for the team he purchasing tickets for\nand the user has selected  a ticket(s) to purchase\nand the user completes a ticket purchase",
        "expected": "THEN the user will have a patron ID automatically created for that team that he purchased tickets for\n\n*Verify by going to my ticket account view\n"
      },
      {
        "content": "When a user has previously added a credit card as a payment option\nand the user is coming out of session\nand the user is on the cart view \nand the user taps on the payment method button",
        "expected": "THEN the user will see the previously added credit card(s) in the payment options list"
      },
      {
        "content": "When the payment process is complete",
        "expected": "THEN the user is taken to the Confirmation page\nand the page will display order number, game details, ticket details, payment details, delivery details\nand at the bottom of the page will be a 'View Event Details' button \nand there will be a 'Done' button on the top left\nand tapping on the view event details button will take you to the ticket event detail page of that game And the user will see the ticket(s) that was purchased listed in that ticket event detail view\nAnd tapping on the 'Done' button will take you back to the start of the purchase flow"
      },
      {
        "content": "When a user selects 'Add a Credit Card' option",
        "expected": "Then the user is taken to the 'Add Card' page\nand the user will be able to add a new credit card\nand when completing adding a new card the user will be able to complete the purchase"
      },
      {
        "content": "When a user has added a credit card \nand that credit card has expired\nand the user looks in the payment options list",
        "expected": "THEN the user will not see that credit card in the payment options list because it has expired\n"
      },
      {
        "content": "When a previously used credit card is the default payment method in the cart view\nand that credit card has now expired",
        "expected": "THEN the payment method field in cart view should now be blank\nand the user will have to select a new payment method"
      },
      {
        "content": "When a user selects more than one ticket",
        "expected": "Then the tickets displayed in the cart view and the confirmation page will be in ascending order according to the seat numbers"
      },
      {
        "content": "When there are are fees and taxes for a ticket(s)",
        "expected": "THEN all the fees and taxes values will have a dollar sign in front of it"
      }
    ]
  },
  {
    "id": 72999,
    "title": "Error cases",
    "section_id": 120424,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 43,
    "created_on": 1454513805,
    "updated_by": 43,
    "updated_on": 1521416720,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 3,
    "custom_preconds": "https://wiki.mlbam.com/display/mobile/NTP+Error+Handling+Documentation\r\nUse the attached .json file, remap middleware requests in Charles with the corresponding error code to verify NTP handles error experience correctly",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When a user receives a payment error (e.g. trying to pay with an invalid card number)\n",
        "expected": "THEN the user will receive an error\nand the user will be able to Select or Modify payment method\nand when the user taps on the Select or Modify payment method then the message will be dismissed and the user will be able to choose another payment method"
      },
      {
        "content": "When a user receives a temporary payment error (error code: 8390, 8391)",
        "expected": "THEN the user will receive a temporary delay processing your transaction error alert\nand there will be a Try again and a Select New Payment method button\nand tapping on try again will retry the payment\nand tapping on select new payment method will bring the user to the payment method page"
      },
      {
        "content": "When a user receives a temporary error (error code: 9030)\n",
        "expected": "Then the user will receive a temporary error message alert\nand there will be an ok button\nand tapping on the ok button will take the user back to the ntp entry point"
      },
      {
        "content": "When a user makes an middleware availability request and receives an error selection error (Unable to find seats matching your request)\npv.cart.50015\n",
        "expected": "Then there will be an ok button in the error alert\nand tapping on OK will bring the user back to the ntp entry point"
      },
      {
        "content": "When a user is on the view more tickets tickets page\nand the user modifies the price and quantity filter\nand the user doesn't get any results (error code: 8978)",
        "expected": "THEN the error will say \"Sorry we were unable to reserve seats. Please try a different price or change the number of tickets\"\n"
      },
      {
        "content": "When a user is on the featured page\nand the user modifies the quantity of tickets in the filter\nand the user doesn't get back any results",
        "expected": "THEN the error will say \"Sorry, we were unable to get seats that match your request. Please change the number of tickets\""
      },
      {
        "content": "When a user tries to lock a ticket\nand there is an error with locking the ticket",
        "expected": "THEN the user will receive this error: \"Sorry we were unable to reserve seats. Please try a different price or change the number of tickets\""
      }
    ]
  },
  {
    "id": 79854,
    "title": "Adding new card to wallet",
    "section_id": 120424,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 40,
    "created_on": 1456951077,
    "updated_by": 43,
    "updated_on": 1521405660,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 4,
    "custom_preconds": null,
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When the user is on the payment method page\nand the user taps on add new card",
        "expected": "THEN The user will be taken to the add new card form"
      },
      {
        "content": "When a user is on the add new card form\nand the user tries to save information without filling out one of the required fields",
        "expected": "THEN the Continue to Purchase button will remain disabled"
      },
      {
        "content": "When a user is on the add new card form\nand the user taps on the choose existing contact button",
        "expected": "THEN the user will be taken to their contacts list \nand the user can choose an existing contact"
      },
      {
        "content": "When a user is on the add new card form\nand the user enters in an invalid zip code(more than 5 digits)\nand the user saves the credit card\nand the user tries to complete a purchase",
        "expected": "THEN the user will receive a payment error when trying to check out"
      },
      {
        "content": "When the user enters in a credit card\n\n",
        "expected": "THEN the credit card logo will appear on the right\n\n*You can use this link to verify for Visa, Mastercard, Amex, and Discover: \nhttps://developer.paypal.com/docs/classic/payflow/payflow-pro/payflow-pro-testing/"
      },
      {
        "content": "When a user enters an invalid expiration date\nand then the user edits the incorrect field",
        "expected": "THEN the user will see the 'Invalid' or 'Expired' text on the expiration date field appear and then disappear when corrected"
      },
      {
        "content": "When a user adds a contact under billing information\nand the user taps on the Save Billing Information button\n",
        "expected": "THEN the user will be taken back to the Credit Card Information view\n"
      },
      {
        "content": "When a user is on the credit card information page after adding contact information\nand the user taps on the contact ",
        "expected": "THEN the user will be brought to the billing information page\nand all the fields will be populated with the previous entries\nand the user will be able to edit and save his changes"
      },
      {
        "content": "When a user is on the payment method or the Credit Card Information screen\n",
        "expected": "THEN the user will see the preferred card promotion appear under the title of the view"
      }
    ]
  },
  {
    "id": 80913,
    "title": "Config values",
    "section_id": 120424,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 40,
    "created_on": 1457647732,
    "updated_by": 124,
    "updated_on": 1532969101,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 5,
    "custom_preconds": "MLBFLow FLWONOFF is “ON\" \r\nApp wide NTP kill switch from app config is true\r\ngamePK NOT in MLBFlow PKEXCLDE list \r\nGame_Time_Local plus MLB Flow OFFSET represents a time in the future\r\n\r\nhttps://qacontent.mlb.com/hbcontent/app/mlb/mobile/ballpark/9/venue/[venue ID].json  (QA)\r\n\r\n\r\nhttps://content.mlb.com/hbcontent/app/mlb/mobile/ballpark/9/venue/[Venue ID].json  (Prod)\r\n\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When ticketsNativePurchaseEnable is false in the ballpark config (i.e. https://qacontent.mlb.com/hbcontent/app/mlb/mobile/ballpark/9/venue/[venue ID].json  (QA))",
        "expected": "THEN tapping on the tickets link will take you to the mobile flow"
      },
      {
        "content": "WHEN FLOWONOFF is set to off (can be viewed in Charles by filtering to \"middleware\" and looking for the flow request, e.g. https://secure.ticksys.gen.prod.mlbam.net/middleware/sync/flowrequest?os=i10.3.3&v=6.3.0)",
        "expected": "THEN tapping on the tickets link will take you to the mobile flow"
      },
      {
        "content": "WHEN \"nativeTicketKillSwitch is set to true in the app config (e.g. http://ballparkappconfig.mlb.com/ios/6.3.0/appconfig.json)",
        "expected": "THEN the Buy Tickets button on the ballpark guide page will be disabled\nAND tapping on the Buy Tickets button from tickets dashboard or ticket event details page will take you through the mobile purchase flow"
      },
      {
        "content": "WHEN the gamePK for a game is part of the ExcludePK list in the MLBFlow",
        "expected": "THEN tapping on the ticket links will take you through the mobile flow"
      },
      {
        "content": "When user changes the device date past the event time that has NTP on Prod, therefore the Game_Time_Local plus MLB Flow OFFSET represents a time in the future ",
        "expected": "THEN tapping on the tickets links will take you through the mobile flow"
      }
    ]
  },
  {
    "id": 1079724,
    "title": "Deep Link",
    "section_id": 120424,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": null,
    "created_by": 43,
    "created_on": 1498680250,
    "updated_by": 43,
    "updated_on": 1521857966,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 923,
    "display_order": 6,
    "custom_preconds": "Work with Project Manager and developers to set up sample links for this testing. As of this time (June 2017), the following links should be functional:\r\nQA - http://mbeta.mlb.com/brewers/attheballpark/tickets/info/t-mobile-tuesdays (9/27, 9/28 games)\r\nProd - http://mbeta.mlb.com/twins/attheballpark/tickets/info/qntp (8/31 game)\r\nProd - http://mbeta.mlb.com/marlins/attheballpark/tickets/info/qntp (8/31 game)\r\n\r\nIn order for deep links to launch Ballpark, the build must be a PUSH debug type from HockeyApp. This requires the testing device to be provisioned.",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When Ballpark is installed but has not been launched yet\nAnd the user taps on a valid NTP deep link",
        "expected": "Then Ballpark will open and user will be taken into onboarding"
      },
      {
        "content": "When user completes onboarding notification preferences after Ballpark has been first opened via NTP deep link",
        "expected": "Then the user will be taken directly into Native Ticket Purchase flow > Featured tickets without viewing the team picker"
      },
      {
        "content": "When user back navigates from Featured Tickets after Ballpark has been first opened via NTP deep link",
        "expected": "Then the user will be taken to Ticket Dashboard successfully"
      },
      {
        "content": "When user has Ballpark in a killed state and taps on a valid NTP deep link",
        "expected": "Then Ballpark will launch and the user will be taken directly into Native Ticket Purchase flow > Featured tickets"
      },
      {
        "content": "When user backgrounds Ballpark on any of the following views (Team Picker, Inbox, Journal, Settings, Maps, webviews) and taps on a valid NTP deep link",
        "expected": "Then the user will be taken directly into Native Ticket Purchase flow > Featured tickets, NOT the view where the app had been backgrounded"
      },
      {
        "content": "When user the user  taps on a valid NTP deep link from an email",
        "expected": "Then the user will be taken directly into Native Ticket Purchase flow > Featured tickets"
      },
      {
        "content": "When user the user  taps on a valid NTP deep link from a text message",
        "expected": "Then the user will be taken directly into Native Ticket Purchase flow > Featured tickets"
      },
      {
        "content": "When user the user  taps on a valid NTP deep link from a webpage in an external browser (e.g. Safari, Chrome)",
        "expected": "Then the user will be taken directly into Native Ticket Purchase flow > Featured tickets"
      },
      {
        "content": "When user the user  taps on a valid NTP deep link and selects a section from Featured of More tickets",
        "expected": "Then the user will be taken to the lock screen, all of the expected information is displayed and the user will be able to checkout or back navigate to Featured/More ticket views"
      },
      {
        "content": "When user the user  taps on a NTP deep link but NTP does not meet the launch requirements (e.g. date is beyond time of the event, NTP is disabled, network failure, etc)",
        "expected": "Then the user will be taken directly into mobile web flow for the selected game"
      },
      {
        "content": "When the user taps on a NTP deep link that is configured to display only a select section of tickets (sample https://bp.mlb.com/NYMAPP?routingKey=buytickets&homeTeamId=121&schedule_Id=529466&flow=student&venueId=3289&season=2018)",
        "expected": "Then the user is taken to NTP where the available tickets have been modified (confirm by back navigating from the deep link and entering the NTP flow from a normal Buy Tickets button)"
      }
    ]
  }
]