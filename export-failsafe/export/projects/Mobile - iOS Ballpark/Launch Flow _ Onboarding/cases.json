[
  {
    "id": 49456,
    "title": "Sessions",
    "section_id": 7161,
    "template_id": 1,
    "type_id": 7,
    "priority_id": 4,
    "milestone_id": null,
    "refs": null,
    "created_by": 25,
    "created_on": 1422633712,
    "updated_by": 124,
    "updated_on": 1533067136,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 959,
    "display_order": 1,
    "custom_preconds": "In Session = App has been launched or foregrounded within 3 hours of last use.\r\nOut of Session = App has been closed or backgrounded > 3 hours.\r\n\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When the user has launched the app from a backgrounded state within a \"session\" \n",
        "expected": "Then the user will be considered in session\nAnd the user is taken to the last view they were on (including webviews)\n\n*There is an exception to this if the user is considered within the range of having tickets \"today\" (dependent on the service rules - https://wiki.mlbam.com/display/mobile/Today+Tab), this is tested more specifically in the Today Tab suite"
      },
      {
        "content": "When the user has launched the app from a dead or backgrounded state after a \"session\" has elapsed\n(check from both dead and backgrounded)",
        "expected": "Then the user will be considered out of session\nAnd the user will be taken to the default ballpark or ticket tab\n\n*same rules apply if the user has tickets \"today\""
      }
    ]
  },
  {
    "id": 49457,
    "title": "Location Check",
    "section_id": 7161,
    "template_id": 1,
    "type_id": 7,
    "priority_id": 4,
    "milestone_id": null,
    "refs": null,
    "created_by": 25,
    "created_on": 1422633721,
    "updated_by": 40,
    "updated_on": 1447865335,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 959,
    "display_order": 2,
    "custom_preconds": "We assume the user is out of session for these cases.\r\n\r\nOut of Session = App has been closed or backgrounded > 3 hours.\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When the user launches the app",
        "expected": "Then the user will taken to a location check screen with a progress spinner\nAnd there will be a Cancel button"
      },
      {
        "content": "When the user hit the Cancel button",
        "expected": "Then the app will stop fetching location data\nAnd the user will be brought to the last team they were on\n"
      },
      {
        "content": "When the location check times out\nAnd the user has location permissions ON",
        "expected": "Then the user will be brought to the last team they were on"
      },
      {
        "content": "When the location check fails\nAnd the user has location permissions OFF\n",
        "expected": "Then the user will be brought to the last team they were on\nAnd the user will receive an alert, 'Please turn location services on.'"
      },
      {
        "content": "When the location check fails\nAnd the user has location permissions OFF\nAnd the user taps the location services alert",
        "expected": "Then the user will be taken to the Location Services Settings View"
      },
      {
        "content": "When the location check fails\nAnd the user has location permissions OFF\nAnd the user doesn't tap on the location services alert",
        "expected": "Then the user will remain on the team page"
      }
    ]
  },
  {
    "id": 49458,
    "title": "Close Ballpark",
    "section_id": 7161,
    "template_id": 1,
    "type_id": 7,
    "priority_id": 4,
    "milestone_id": null,
    "refs": null,
    "created_by": 25,
    "created_on": 1422633728,
    "updated_by": 25,
    "updated_on": 1427472321,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 959,
    "display_order": 3,
    "custom_preconds": "-User is out of session\r\n-Location Check has succeeded\r\n-User is Close to a ballpark\r\n\r\n(Close = < .3 miles from home plate or within beacon range)\r\n\r\ndefault sub tab is determined in the config: http://qa.mlb.com/gen/hb/ballpark/6/ballpark.json\r\nposition: \"1\",  =  default tab",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When digital ticketing is enabled for the close ballpark\n",
        "expected": "Then the user will be taken to the team page\nAnd the sub tab will default to the config value"
      },
      {
        "content": "When digital ticketing is enabled for the close ballpark\nAnd the user has tickets to the close ballpark today",
        "expected": "Then the user will be taken to the team page\nAnd the sub tab will default to the config value"
      },
      {
        "content": "When digital ticketing is enabled for the close ballpark\nAnd the user has tickets to a different ballpark today",
        "expected": "Then the user will be taken to the team page for the close ballpark\nAnd the sub tab will default to the config value\nAnd the user will receive an alert stating they have tickets at another ballpark today\n"
      },
      {
        "content": "When digital ticketing is NOT enabled for the close ballpark\nAnd the close ballpark IS a Fortress team\nAnd the user's account is connected to the program",
        "expected": "Then the user will be taken to the team page for the close ballpark\nAnd the sub tab will default to the config value\nAnd if the user has tickets to another team they will receive an alert"
      },
      {
        "content": "When digital ticketing is NOT enabled for the close ballpark\nAnd the close ballpark IS a Fortress team\nAnd the user's account is NOT connected to the program",
        "expected": "Then the user will be taken to the team page for the close ballpark\nAnd the sub tab will default to the config value\nAnd if the user has tickets to another team they will receive an alert"
      },
      {
        "content": "When digital ticketing is NOT enabled for the close ballpark\nAnd the close ballpark is NOT a Fortress team",
        "expected": "Then the user will be taken to the team page for the close ballpark\nAnd the sub tab will default to the config value\nAnd if the user has tickets to another team they will receive an alert"
      }
    ]
  },
  {
    "id": 49459,
    "title": "Nearby Ballpark(s)",
    "section_id": 7161,
    "template_id": 1,
    "type_id": 7,
    "priority_id": 4,
    "milestone_id": null,
    "refs": null,
    "created_by": 25,
    "created_on": 1422633735,
    "updated_by": 25,
    "updated_on": 1427472415,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 959,
    "display_order": 4,
    "custom_preconds": "-User is out of session\r\n-Location Check has succeeded\r\n-User is Nearby to one or more ballparks\r\n\r\n(Nearby = < 25 miles from home plate or within beacon range, but > .3 miles)\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When digital ticketing is enabled for the nearby ballpark",
        "expected": "Then the user will be taken to the team page\nAnd the sub tab will default to the config value"
      },
      {
        "content": "When digital ticketing is enabled for the nearby ballpark\nAnd the user has tickets to the nearby ballpark",
        "expected": "Then the user will be taken to the team page\nAnd the sub tab will default to the config value"
      },
      {
        "content": "When digital ticketing is enabled for the nearby ballpark\nAnd the user has tickets to a different ballpark today",
        "expected": "Then the user will be taken to the team page for the nearby ballpark\nAnd the sub tab will default to the config value\nAnd the user will receive an alert stating they have tickets at another ballpark today"
      },
      {
        "content": "When digital ticketing is NOT enabled for the nearby ballpark\nAnd the nearby ballpark IS a Fortress team\nAnd the user's account is connected to the program",
        "expected": "Then the user will be taken to the team page for the nearby ballpark\nAnd the sub tab will default to the config value\nAnd if the user has tickets to another team they will receive an alert"
      },
      {
        "content": "When digital ticketing is NOT enabled for the nearby ballpark\nAnd the nearby ballpark IS a Fortress team\nAnd the user's account is NOT connected to the program",
        "expected": "Then the user will be taken to the team page for the nearby ballpark\nAnd the sub tab will default to the config value\nAnd if the user has tickets to another team they will receive an alert"
      },
      {
        "content": "When digital ticketing is NOT enabled for the nearby ballpark\nAnd the nearby ballpark is NOT a Fortress team",
        "expected": "Then the user will be taken to the team page for the nearby ballpark\nAnd the sub tab will default to the config value\nAnd if the user has tickets to another team they will receive an alert"
      },
      {
        "content": "When the user is nearby more than one ballpark\nAnd one of those teams is a user set favorite",
        "expected": "Then the user will be taken to the team page for the nearby ballpark of the favorite team\n\n(sub tab will default based on config value)"
      },
      {
        "content": "When the user is nearby more than one ballpark\nAnd neither team is a user set favorite\nAnd one of the ballparks was the user's last viewed ballpark",
        "expected": "Then the user will be taken to the team page for the last viewed nearby ballpark\n\n(sub tab will default based on config value)"
      },
      {
        "content": "When the user is nearby more than one ballpark\nAnd neither team is a user set favorite\nAnd neither ballpark was the user's last viewed ballpark\nAnd the user's last viewed ballpark has digital ticketing enabled",
        "expected": "Then the user will be taken to the team page for the last viewed ballpark\nAnd the sub tab will default to the config value\nAnd the user will receive a location alert stating, 'You are near (nearby1)' and 'You are near (nearby2)'"
      },
      {
        "content": "When the user is nearby more than one ballpark\nAnd neither team is a user set favorite\nAnd neither ballpark was the user's last viewed ballpark\nAnd the user's last viewed ballpark doesn't have digital ticketing enabled\nAnd the user's last viewed ballpark is NOT a Fortress team",
        "expected": "Then the user will be taken to the team page for the last viewed ballpark\nAnd the sub tab will default to the config value\nAnd the user will receive a location alert stating, 'You are near (nearby1)' and 'You are near (nearby2)'"
      },
      {
        "content": "When the user is nearby more than one ballpark\nAnd neither team is a user set favorite\nAnd neither ballpark was the user's last viewed ballpark\nAnd the user's last viewed ballpark doesn't have digital ticketing enabled\nBut the last viewed ballpark IS a Fortress team\nAnd the user's account is connected to the program",
        "expected": "Then the user will be taken to the team page for the last viewed ballpark\nAnd the sub tab will default to the config value \nAnd the user will receive a location alert stating, 'You are near (nearby1)' and 'You are near (nearby2)'"
      },
      {
        "content": "When the user is nearby more than one ballpark\nAnd neither team is a user set favorite\nAnd neither ballpark was the user's last viewed ballpark\nAnd the user's last viewed ballpark doesn't have digital ticketing enabled\nBut the last viewed ballpark IS a Fortress team\nAnd the user's account is NOT connected to the program",
        "expected": "Then the user will be taken to the team page for the last viewed ballpark\nAnd the sub tab will default to the config value\nAnd the user will receive a location alert stating, 'You are near (nearby1)' and 'You are near (nearby2)'"
      }
    ]
  },
  {
    "id": 49460,
    "title": "No Nearby Ballpark",
    "section_id": 7161,
    "template_id": 1,
    "type_id": 7,
    "priority_id": 4,
    "milestone_id": null,
    "refs": null,
    "created_by": 25,
    "created_on": 1422633745,
    "updated_by": 25,
    "updated_on": 1427472445,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 959,
    "display_order": 5,
    "custom_preconds": "-User is out of session\r\n-Location Check has succeeded\r\n-User is > 25 miles to a ballpark\r\n\r\n",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When digital ticketing is enabled for the last viewed ballpark",
        "expected": "Then the user will be taken to the team page for the last viewed ballpark\nAnd the sub tab will default to the config value"
      },
      {
        "content": "When digital ticketing is enabled for the last viewed ballpark\nAnd the user has tickets to the ballpark",
        "expected": "Then the user will be taken to the team page for the last viewed ballpark\nAnd the sub tab will default to the config value"
      },
      {
        "content": "When digital ticketing is enabled for the last viewed ballpark\nAnd the user has tickets to a different ballpark today",
        "expected": "Then the user will be taken to the team page for the last viewed ballpark\nAnd the sub tab will default to the config value\nAnd the user will receive an alert stating they have tickets at another ballpark today"
      },
      {
        "content": "When digital ticketing is NOT enabled for the last viewed ballpark\nAnd the ballpark IS a Fortress team\nAnd the user's account is connected to the program",
        "expected": "Then the user will be taken to the team page for the last viewed ballpark\nAnd the sub tab will default to the config value\nAnd if the user has tickets to another team they will receive an alert"
      },
      {
        "content": "When digital ticketing is NOT enabled for the last viewed ballpark\nAnd the ballpark IS a Fortress team\nAnd the user's account is NOT connected to the program",
        "expected": "Then the user will be taken to the team page for the last viewed ballpark\nAnd the sub tab will default to the config value\nAnd if the user has tickets to another team they will receive an alert"
      },
      {
        "content": "When digital ticketing is NOT enabled for the last viewed ballpark\nAnd the ballpark is NOT a Fortress team",
        "expected": "Then the user will be taken to the team page for the last viewed ballpark\nAnd the sub tab will default to the config value\nAnd if the user has tickets to another team they will receive an alert"
      }
    ]
  },
  {
    "id": 48730,
    "title": "Onboarding Flow",
    "section_id": 120425,
    "template_id": 1,
    "type_id": 7,
    "priority_id": 4,
    "milestone_id": null,
    "refs": null,
    "created_by": 39,
    "created_on": 1419346904,
    "updated_by": 43,
    "updated_on": 1521493959,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 959,
    "display_order": 1,
    "custom_preconds": "Given users are loading the app for the very first time on their iOS mobile device",
    "custom_steps": null,
    "custom_expected": "The User will have a smooth onboarding experience",
    "custom_steps_separated": [
      {
        "content": "When a user has launched the app for the first time\nand the app opens",
        "expected": "Then the user will be greeted with a splash screen\nand the Location Services alert will appear\nand the alert will not dismiss until the user selects an option\nand if the user selects 'Don't Allow' the system will turn Off all LBS for the user\nor if the user selects 'Allow' the system will turn 'Allow While Using' LBS for the user\n\n(please test both on and off)"
      },
      {
        "content": "When the user has tapped allow or don't allow on the location services alert",
        "expected": "Then the user will be at the splash screen\nand at the bottom there will be buttons for 'Login' and 'Sign Up'"
      },
      {
        "content": "When the user taps on the Log In button",
        "expected": "Then the Log In page will slide over from the right side"
      },
      {
        "content": "When the user is on the Log In page\n",
        "expected": "Then the user will see an carrot button(pointing to the left) on top left corner\nand an email field\nand a password field\nand a Log In button\nand a Forgot Password button\nand a Privacy Policy button\nand there is another tab for Sign Up"
      },
      {
        "content": "When the user is on the Log In page\nAnd the user looks at the password field",
        "expected": "Then the user will see Show/Hide button on the right side of the field\nAND 'Show' will be default"
      },
      {
        "content": "When the user is on the Log In page\nand taps the carrot button on the top left corner",
        "expected": "Then the log in screen will slide to the right\nAnd the user will be back on the splash screen"
      },
      {
        "content": "When the user is on the Log In page\nand taps 'Forgot Password?'",
        "expected": "Then the user will be taken through the Forgot Password flow\n(listed in next step)"
      },
      {
        "content": "when the user is on the \"forgot password\" page",
        "expected": "then the following should appear:\n- a carrot button with the text \"log in\" on the top left corner(back button)\n- text that informs users to enter the email address that is associated with their MLB.com account\n- a text input field with greyed out text(should say \"enter your email address\")"
      },
      {
        "content": "when the user is on the \"forgot password\" page\nand enters a valid email address in the text input field\nand hits the send button",
        "expected": "then the user should receive an email notification form MLB.com regarding password reset\nand this email should the following:\n- a temporary password (should be a random string)\n- a link to mlb.com profile page that will direct users to register or login"
      },
      {
        "content": "When a user is on the Log In page\nand has entered an invalid username and/or password \nand taps the Log In button",
        "expected": "Then the user will receive a login has failed message\nand remain on the Log In page"
      },
      {
        "content": "When a user changes tabs to the Sign Up page",
        "expected": "Then the user will see a carrot Button on top left corner\nand an Email field\nand a Password field\nand a Show password button\nand a check box for receiving newsletters and promotions\nand a Sign Up button\nand Terms of Service / Privacy Policy links"
      },
      {
        "content": "When a user is on the Sign Up tab\nand taps the carrot button on top left corner",
        "expected": "Then the create account screen will slide right\nAnd the user will be back on the splash screen"
      },
      {
        "content": "When a user is on the Log In page\nand the password field is displaying 'Show' for the show/hide button\nAND the user types in a password",
        "expected": "THEN as the user types in the password the text will be hidden by dots"
      },
      {
        "content": "When a user is on the Log In page\nand the show/hide button is showing 'Show'\nand the user taps on the show/hide button",
        "expected": "THEN the show/hide button text will change to 'Hide'"
      },
      {
        "content": "When the user is on the Log In page\nand the user changes the show/hide button to show password in the password field\nAnd the user types in a password",
        "expected": "THEN as the user types in their password the text will be visible"
      },
      {
        "content": "When a user is on the Log In page\nand has filled in a valid email and password\nand this is initial launch\nand taps on the Log In button",
        "expected": "Then the user will be shown a login success message\nand the user will be taken to the BLE Info page\nand the BLE Info page will also contain POI information"
      },
      {
        "content": "when a user is on the BLE info page\nand the user taps on the privacy policy link ",
        "expected": "Then the Privacy policy page will slide open from the bottom\nand the page will contain the following:\n- \"X\" or close button on the top left corner\n- Privacy Policy header located on the top of the page centered\n- privacy policy information that should be well formatted to fit the page"
      },
      {
        "content": "when a user taps on the \"X\" or close button in the privacy policy page",
        "expected": "then the user should be directed back to the BLE Info page"
      },
      {
        "content": "When a user has taps \"continue\" on the BLE info page",
        "expected": "Then the user will be at the Select Favorite Team page"
      },
      {
        "content": "When a user is on the Select Favorite Team page\nand taps on the + sign to the left of team name",
        "expected": "Then the team will be added to the top of the page under a new Favorite Teams section\nand the + sign will disappear, the added team will move to the top section with a - sign\n"
      },
      {
        "content": "When a user manipulates their selected favorite teams by dragging and dropping their order",
        "expected": "Then teams will be reordered"
      },
      {
        "content": "When a user taps the - sign to the left of a team name",
        "expected": "Then the team will be removed the favorite teams section and return to an addable status in the teams list (+ sign reappears)"
      },
      {
        "content": "When a user in on the Favorite Team page",
        "expected": "Then there will be no Back button"
      },
      {
        "content": "When a user is on the Favorite Team page\nand taps the Next button",
        "expected": "Then the user will be taken to the \"Notifications\" page\nand the page will contain the following:\n- \"Notifications\" header that will be located at the top page and centered\n- next button located right next to the header on the top right corner\n- options to allow notification(listed out in the step below)"
      },
      {
        "content": "When a user is on the \"Notifications\" page",
        "expected": "then the user should be able to configure the following: [notifications can only be turned on in DEBUG builds]\n- allow notifications (if this is enabled everything listed below will be configurable, but if this is disabled then the user should see all options listed below hidden from view)\n- at the game (check in, ballpark attractions, upgrade & premier)\n- from mlb partners\n- ticket & event info (should contain cells that allows users to enable notification for tickets and events for each specific team)\n"
      },
      {
        "content": "When a user is on the \"Notifications\" page\nand taps the next button located on the top right of the page",
        "expected": "then the app will brought to the team ballpark guide page with the closest ballparks located at the very top\nand all ballparks will be located directly below(should be separated by a divider with the text \"all teams\")\n\nif the user has selected favorite teams they will appear directly in between the closest ballparks(these ball parks will contain a star icon to properly identify favorite team/ballpark) and the \"all team\" divider"
      },
      {
        "content": "When a user has opened Ballpark for the first time\nand the user is on the splash screen\n",
        "expected": "THEN the user will see a Take a Tour button under the Ballpark logo"
      },
      {
        "content": "When the user taps on the 'Take a Tour' button on the splash screen",
        "expected": "THEN the tour modal opens from bottom to top\nand tapping on the x button on the top right will bring the user back to the splash screen"
      },
      {
        "content": "When the user is on the splash screen after opening ballpark for the first time\n",
        "expected": "then the user will see a Why log in? button at the bottom of the page\nand tapping on the button will open the faq page\nand the title will display Why Log In\nand closing the view will bring the user back to the splash screen"
      }
    ]
  }
]