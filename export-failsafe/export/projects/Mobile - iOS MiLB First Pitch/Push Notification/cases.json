[
  {
    "id": 80334,
    "title": "Fresh Install Onboarding Flow",
    "section_id": 147816,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "MILBATBAT-1076",
    "created_by": 84,
    "created_on": 1457110168,
    "updated_by": 65,
    "updated_on": 1522959332,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 1522,
    "display_order": 1,
    "custom_preconds": "Given a user is on an iOS device",
    "custom_steps": "When a user taps on MiLB First Pitch for the first time\r\nand is prompted to select their favorite teams\r\nand then to select push notifications for those teams",
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "on an iPhone",
        "expected": "Then the user will see team notification options for Game Start, Lead Change, Score Change, Game End, Home Game Reminder"
      },
      {
        "content": "on an iPad",
        "expected": "Then the user will see team notification options for Game Start, Lead Change, Score Change, Game End, Home Game Reminder"
      }
    ],
    "custom_feature_tag": null
  },
  {
    "id": 80335,
    "title": "Push Notification Settings",
    "section_id": 147816,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "MILBATBAT-1076",
    "created_by": 84,
    "created_on": 1457110205,
    "updated_by": 65,
    "updated_on": 1522959332,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 1522,
    "display_order": 2,
    "custom_preconds": "Given a user is on an iOS device",
    "custom_steps": "When a user goes to the app's Settings > Push Notifications",
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "on an iPhone",
        "expected": "Then the user will see team notification options for Game Start, Lead Change, Score Change, Game End, Home Game Reminder"
      },
      {
        "content": "on an iPad",
        "expected": "Then the user will see team notification options for Game Start, Lead Change, Score Change, Game End, Home Game Reminder"
      }
    ],
    "custom_feature_tag": null
  },
  {
    "id": 1224935,
    "title": "iPhone Push Notifications",
    "section_id": 147816,
    "template_id": 1,
    "type_id": 7,
    "priority_id": 4,
    "milestone_id": null,
    "refs": null,
    "created_by": 65,
    "created_on": 1522958895,
    "updated_by": 65,
    "updated_on": 1522958895,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 1522,
    "display_order": 5,
    "custom_preconds": "A device with an Ad Hoc build with Push Notifications enabled is needed from Development.\r\n\r\niPhone > Push Notification prompt upon initial install or through Settings > Push Notification\r\n\r\nPlease e-Mail Mobile QA if you don't have this page for a copy of HTML document 'push notifications test util.html'\r\n\r\nSettings for alert_push_test.html:\r\ncampaignCode=milb\r\ncampaignName=MiLB Push\r\napiKey: 3833a1f0-f702-11e3-93c5-a820661b986c\r\nKeyword for News alert: milb.news:editorial\r\nKeyword for gameday game.start: milb.team_idxxx:game.start\r\nKeyword for gameday game.end: milb.team_idxxx:game.end\r\n\"                 \" game.leadchange: milb.team_idxxx:game.pushleadchange\r\n\"                 \" game.pushscorechange: milb.team_idxxx:game.pushscorechange\r\n\r\nUse gameday file for teams & date & team id:\r\ni.e. http://gd.qa.mlb.com/components/game/aaa/year_2017/month_03/day_29/gid_2017_03_29_omaaaa_nozaaa_1/",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When a user opens the app on initial launch\nAND the user chooses a favorite team(s)",
        "expected": "Then they will be brought to the Notifications settings page\nAND all notification channels will be enabled"
      },
      {
        "content": "When the user has enabled or disabled Notification channels in the on boarding flow\nAnd the user goes to Settings->Notifications \n",
        "expected": "Then all of the settings made in the onboarding flow will have been retained"
      },
      {
        "content": "When a user goes into the Settings and taps on Push Notifications",
        "expected": "Then we can enable notifications and we can disable notifications"
      },
      {
        "content": "When a user has a favorite team set and a user selected notifications",
        "expected": "Then the favorite team will be listed after the MILB News and the rest of the teams will be listed in  alphabetic order"
      },
      {
        "content": "When a user is on the Notification screen and disables or enables notifications",
        "expected": "Then all notifications will enter the state of the item chosen"
      },
      {
        "content": "When a user has enabled the notification of Game Start\nOr enabled the notification of Lead Change\nOr enabled the notification of Score Change\nOr enabled the notification of Game End",
        "expected": "Then we will receive the appropriate notification for each setting that was enabled and we are able to open each notification\n*Repeat for each setting separately*"
      },
      {
        "content": "When a user enables notifications for News on a device and then navigates to the push notification test util.html\nThen adjusts the vendor_id to a new unique id that has not been used before\nAnd we paste the following payload into the 'apnsPayload' section\n{\"e\":[\"editorial\"],\"aps\":{\"alert\":{\"body\":\"Curtis Granderson is moving crosstown to the Mets on a four-year, $60M deal, a source told MLB.com. The Mets have not confirmed the deal.\",\"action-loc-key\":\"View\"},\"sound\":\"default\"},\"c\":[\"milb.news\"]}\nAnd we hit Submit",
        "expected": "Then we will receive the notification successfully and tapping on the notification will open up the First Pitch app"
      },
      {
        "content": "When a user enables notifications for a team on a device and then navigates to push notification test util.html and then changes vendor id  to a new unique id that has not been used before and we paste the following payload into the 'apnsPayload' section\n{\"e\":[\"game.start\"],\"aps\":{\"sound\":\"default\",\"alert\":{\"body\":\"MiLB <teamname> alert\",\"action-loc-key\":\"View\"}},\"c\":[\"team_idxxx\"], \"gid\" : \"xxxx/xx/xx_xxxxxx_xxxxxx_1\"}\nAnd we hit Submit",
        "expected": "Then we will successfully receive a notification of type 'game.start' and the notification will successfully open First Pitch and take us to Gameday"
      },
      {
        "content": "When a user enables notifications for a team on a device and then navigates to push notification test util.html and then changes vendor id  to a new unique id that has not been used before and we paste the following payload into the 'apnsPayload' section\n{\"e\":[\"game.end\"],\"aps\":{\"sound\":\"default\",\"alert\":{\"body\":\"MiLB <teamname> alert\",\"action-loc-key\":\"View\"}},\"c\":[\"team_idxxx\"], \"gid\" : \"xxxx/xx/xx_xxxxxx_xxxxxx_1\"}\nAnd we hit Submit",
        "expected": "Then we will successfully receive a notification of type 'game.end' and the notification will successfully open First Pitch and take us to Gameday."
      },
      {
        "content": "When a user enables notifications for a team on a device and then navigates to push notification test util.html and then changes vendor id  to a new unique id that has not been used before and we paste the following payload into the 'apnsPayload' section\n{\"e\":[\"game.pushscorechange\"],\"aps\":{\"sound\":\"default\",\"alert\":{\"body\":\"MiLB <teamname> alert\",\"action-loc-key\":\"View\"}},\"c\":[\"team_idxxx\"], \"gid\" : \"xxxx/xx/xx_xxxxxx_xxxxxx_1\"}\nAnd we hit Submit",
        "expected": "Then we will successfully receive a notification of type 'game.pushscorechange' and the notification will successfully open First Pitch and take us to Gameday."
      },
      {
        "content": "When a user enables notifications for a team on a device and then navigates to push notification test util.html and then changes vendor id  to a new unique id that has not been used before and we paste the following payload into the 'apnsPayload' section\n{\"e\":[\"game.pushleadchange\"],\"aps\":{\"sound\":\"default\",\"alert\":{\"body\":\"MiLB <teamname> alert\",\"action-loc-key\":\"View\"}},\"c\":[\"team_idxxx\"], \"gid\" : \"xxxx/xx/xx_xxxxxx_xxxxxx_1\"}\nAnd we hit Submit",
        "expected": "Then we will successfully receive a notification of type 'game.pushscoreleadchange' and the notification will successfully open First Pitch and take us to Gameday."
      },
      {
        "content": "When a user opens the app for the first time\nAnd taps on Done to bypass choosing a favorite team\n",
        "expected": "Then the user is able to turn Push Notifications on/off through settings"
      },
      {
        "content": "When we enable notifications on the mobile device\nand we enable notifications for the team we wish to use\nand we receive the various notification types\n",
        "expected": "Then we will end up being properly gated\nand we will not be receiving gameday alerts from team whom we are not gated for"
      },
      {
        "content": "When a user subscribes to different Push Notifications in Settings and then kills the app",
        "expected": "They should remain subscribed to those Push Notification channels.\n\nTest with MiLB News Notification channel as well as individual channels for various teams"
      },
      {
        "content": "When a user receives a notification and swipes the notification upward or Waits five seconds",
        "expected": "Then the notification will be dismissed"
      }
    ],
    "custom_feature_tag": null
  },
  {
    "id": 1224936,
    "title": "Tapping on Notification When in App",
    "section_id": 147816,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "MILBATBAT-1699, MILBATBAT-1700",
    "created_by": 65,
    "created_on": 1522958936,
    "updated_by": 65,
    "updated_on": 1523037476,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 1522,
    "display_order": 6,
    "custom_preconds": "GIVEN the user receives a notification",
    "custom_steps": "WHEN the user is in app and taps on the notifications (test all):\r\n- home game reminder\r\n- game start\r\n- lead change\r\n- score change\r\n- game end\r\n- news",
    "custom_expected": "THEN the user should be taken to the appropriate place \r\n- home game reminder (user is taken to tickets page for that team)\r\n- game start (corresponding gameday)\r\n- lead change (corresponding gameday)\r\n- score change (corresponding gameday)\r\n- game end (corresponding gameday)\r\n- news (user is taken to news article)\r\nAND app should not crash",
    "custom_steps_separated": null,
    "custom_feature_tag": null
  },
  {
    "id": 1224937,
    "title": "Tapping on Notification When Out of App",
    "section_id": 147816,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "MILBATBAT-1699, MILBATBAT-1700",
    "created_by": 65,
    "created_on": 1522959192,
    "updated_by": 65,
    "updated_on": 1523044000,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 1522,
    "display_order": 7,
    "custom_preconds": "GIVEN the user receives a notification",
    "custom_steps": "WHEN the user is out of app (app has been backgrounded, closed, or screen is locked) and taps on the notifications (test all):\r\n- home game reminder\r\n- game start\r\n- lead change\r\n- score change\r\n- game end\r\n- news",
    "custom_expected": "THEN the user should be taken to the appropriate place \r\n- home game reminder (user is taken to tickets page for that team)\r\n- game start (corresponding gameday)\r\n- lead change (corresponding gameday)\r\n- score change (corresponding gameday)\r\n- game end (corresponding gameday)\r\n- news (user is taken to news article)\r\nAND app should not crash",
    "custom_steps_separated": null,
    "custom_feature_tag": null
  },
  {
    "id": 80336,
    "title": "Home Game Reminder Push Notification",
    "section_id": 13503,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "MILBATBAT-1076",
    "created_by": 84,
    "created_on": 1457111149,
    "updated_by": 84,
    "updated_on": 1458058189,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 1522,
    "display_order": 3,
    "custom_preconds": "Given a user is on an iOS device\r\nand is subscribed to a team's \"Home Game Reminder\" push notification",
    "custom_steps": "When it is 6 hours prior to the start of that team's game",
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "on an iPhone",
        "expected": "Then the user will receive a push notification with the following message:\n\"The [Home team nickname] host [Road Team City Name] at [time (local)] [today/tonight (depending on time of game)]. Come out to [home ballpark name].\""
      },
      {
        "content": "on an iPad",
        "expected": "Then the user will receive a push notification with the following message:\n\"The [Home team nickname] host [Road Team City Name] at [time (local)] [today/tonight (depending on time of game)]. Come out to [home ballpark name].\""
      }
    ],
    "custom_feature_tag": null
  },
  {
    "id": 80337,
    "title": "Link to Specific Game's Tickets Purchase Page",
    "section_id": 13503,
    "template_id": 1,
    "type_id": 4,
    "priority_id": 6,
    "milestone_id": null,
    "refs": "MILBATBAT-1076",
    "created_by": 84,
    "created_on": 1457111611,
    "updated_by": 65,
    "updated_on": 1522958544,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 1522,
    "display_order": 4,
    "custom_preconds": "Given a user is on an iOS device\r\nand is subscribed to a team's \"Home Game Reminder\" push notification",
    "custom_steps": "When it is 6 hours prior to the start of that team's game\r\nand a user receives a Home Game Reminder push notification ",
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "on an iPhone user taps notification when\n- inside app\n- outside app\n\n",
        "expected": "Then tapping on the push notification will bring the user to a link for that specific game's tickets purchase page"
      },
      {
        "content": "on an iPad user taps notification when\n- inside app\n- outside app\n",
        "expected": "Then tapping on the push notification will bring the user to a link for that specific game's tickets purchase page"
      }
    ],
    "custom_feature_tag": null
  },
  {
    "id": 48920,
    "title": "Push Notifications using Test Util",
    "section_id": 147836,
    "template_id": 1,
    "type_id": 7,
    "priority_id": 4,
    "milestone_id": null,
    "refs": null,
    "created_by": 40,
    "created_on": 1421264123,
    "updated_by": 39,
    "updated_on": 1555019348,
    "estimate": null,
    "estimate_forecast": null,
    "suite_id": 1522,
    "display_order": 1,
    "custom_preconds": "A device with an Ad Hoc build with Push Notifications enabled is needed from Development.\r\n\r\niPhone > Push Notification prompt upon initial install or through Settings > Push Notification\r\n\r\nPlease e-Mail Mobile QA if you don't have this page for a copy of HTML document 'push notifications test util.html'\r\n\r\nSettings for alert_push_test.html:\r\ncampaignCode=milb\r\ncampaignName=MiLB Push\r\napiKey: 3833a1f0-f702-11e3-93c5-a820661b986c\r\nKeyword for News alert: milb.news:editorial\r\nKeyword for gameday game.start: milb.team_idxxx:game.start\r\nKeyword for gameday game.end: milb.team_idxxx:game.end\r\n\"                 \" game.leadchange: milb.team_idxxx:game.pushleadchange\r\n\"                 \" game.pushscorechange: milb.team_idxxx:game.pushscorechange\r\n\r\nUse gameday file for teams & date & team id:\r\ni.e. http://gd.qa.mlb.com/components/game/aaa/year_2017/month_03/day_29/gid_2017_03_29_omaaaa_nozaaa_1/",
    "custom_steps": null,
    "custom_expected": null,
    "custom_steps_separated": [
      {
        "content": "When a user opens the app on initial launch\nAND the user chooses a favorite team(s)",
        "expected": "Then they will be brought to the Notifications settings page\nAND all notification channels will be enabled"
      },
      {
        "content": "When the user has enabled or disabled Notification channels in the on boarding flow\nAnd the user goes to Settings->Notifications \n",
        "expected": "Then all of the settings made in the onboarding flow will have been retained"
      },
      {
        "content": "When a user goes into the Settings and taps on Push Notifications",
        "expected": "Then we can enable notifications and we can disable notifications"
      },
      {
        "content": "When a user has a favorite team set and a user selected notifications",
        "expected": "Then the favorite team will be listed after the MILB News and the rest of the teams will be listed in  alphabetic order"
      },
      {
        "content": "When a user is on the Notification screen and disables or enables notifications",
        "expected": "Then all notifications will enter the state of the item chosen"
      },
      {
        "content": "When a user has enabled the notification of Game Start\nOr enabled the notification of Lead Change\nOr enabled the notification of Score Change\nOr enabled the notification of Game End",
        "expected": "Then we will receive the appropriate notification for each setting that was enabled and we are able to open each notification\n*Repeat for each setting separately*"
      },
      {
        "content": "WHEN a user receives a Gameday Notification\n\nGame Start\nGame End\nScoring Play\nLead Change",
        "expected": "THEN the user will see the shortName of the club.\n\nhttps://statsapi.mlb.com/api/v1/teams/<teamId>\nEX: https://statsapi.mlb.com/api/v1/teams/137"
      },
      {
        "content": "When a user enables notifications for News on a device and then navigates to the push notification test util.html\nThen adjusts the vendor_id to a new unique id that has not been used before\nAnd we paste the following payload into the 'apnsPayload' section\n{\"e\":[\"editorial\"],\"aps\":{\"alert\":{\"body\":\"Curtis Granderson is moving crosstown to the Mets on a four-year, $60M deal, a source told MLB.com. The Mets have not confirmed the deal.\",\"action-loc-key\":\"View\"},\"sound\":\"default\"},\"c\":[\"milb.news\"]}\nAnd we hit Submit",
        "expected": "Then we will receive the notification successfully and tapping on the notification will open up the First Pitch app"
      },
      {
        "content": "When a user enables notifications for a team on a device and then navigates to push notification test util.html and then changes vendor id  to a new unique id that has not been used before and we paste the following payload into the 'apnsPayload' section\n{\"e\":[\"game.start\"],\"aps\":{\"sound\":\"default\",\"alert\":{\"body\":\"MiLB <teamname> alert\",\"action-loc-key\":\"View\"}},\"c\":[\"team_idxxx\"], \"gid\" : \"xxxx/xx/xx_xxxxxx_xxxxxx_1\"}\nAnd we hit Submit",
        "expected": "Then we will successfully receive a notification of type 'game.start' and the notification will successfully open First Pitch and take us to Gameday"
      },
      {
        "content": "When a user enables notifications for a team on a device and then navigates to push notification test util.html and then changes vendor id  to a new unique id that has not been used before and we paste the following payload into the 'apnsPayload' section\n{\"e\":[\"game.end\"],\"aps\":{\"sound\":\"default\",\"alert\":{\"body\":\"MiLB <teamname> alert\",\"action-loc-key\":\"View\"}},\"c\":[\"team_idxxx\"], \"gid\" : \"xxxx/xx/xx_xxxxxx_xxxxxx_1\"}\nAnd we hit Submit",
        "expected": "Then we will successfully receive a notification of type 'game.end' and the notification will successfully open First Pitch and take us to Gameday."
      },
      {
        "content": "When a user enables notifications for a team on a device and then navigates to push notification test util.html and then changes vendor id  to a new unique id that has not been used before and we paste the following payload into the 'apnsPayload' section\n{\"e\":[\"game.pushscorechange\"],\"aps\":{\"sound\":\"default\",\"alert\":{\"body\":\"MiLB <teamname> alert\",\"action-loc-key\":\"View\"}},\"c\":[\"team_idxxx\"], \"gid\" : \"xxxx/xx/xx_xxxxxx_xxxxxx_1\"}\nAnd we hit Submit",
        "expected": "Then we will successfully receive a notification of type 'game.pushscorechange' and the notification will successfully open First Pitch and take us to Gameday."
      },
      {
        "content": "When a user enables notifications for a team on a device and then navigates to push notification test util.html and then changes vendor id  to a new unique id that has not been used before and we paste the following payload into the 'apnsPayload' section\n{\"e\":[\"game.pushleadchange\"],\"aps\":{\"sound\":\"default\",\"alert\":{\"body\":\"MiLB <teamname> alert\",\"action-loc-key\":\"View\"}},\"c\":[\"team_idxxx\"], \"gid\" : \"xxxx/xx/xx_xxxxxx_xxxxxx_1\"}\nAnd we hit Submit",
        "expected": "Then we will successfully receive a notification of type 'game.pushscoreleadchange' and the notification will successfully open First Pitch and take us to Gameday."
      },
      {
        "content": "When a user opens the app for the first time\nAnd taps on Done to bypass choosing a favorite team\n",
        "expected": "Then the user is able to turn Push Notifications on/off through settings"
      },
      {
        "content": "When we enable notifications on the mobile device\nand we enable notifications for the team we wish to use\nand we receive the various notification types\n",
        "expected": "Then we will end up being properly gated\nand we will not be receiving gameday alerts from team whom we are not gated for"
      },
      {
        "content": "When a user subscribes to different Push Notifications in Settings and then kills the app",
        "expected": "They should remain subscribed to those Push Notification channels.\n\nTest with MiLB News Notification channel as well as individual channels for various teams"
      },
      {
        "content": "When a user receives a notification and swipes the notification upward or Waits five seconds",
        "expected": "Then the notification will be dismissed"
      }
    ],
    "custom_feature_tag": null
  }
]